(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors"],{"00ee":function(t,e,n){var i=n("b622"),r=i("toStringTag"),a={};a[r]="z",t.exports="[object z]"===String(a)},"0366":function(t,e,n){var i=n("1c0b");t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},"06cf":function(t,e,n){var i=n("83ab"),r=n("d1e7"),a=n("5c6c"),o=n("fc6a"),s=n("c04e"),l=n("5135"),c=n("0cfb"),u=Object.getOwnPropertyDescriptor;e.f=i?u:function(t,e){if(t=o(t),e=s(e,!0),c)try{return u(t,e)}catch(n){}if(l(t,e))return a(!r.f.call(t,e),t[e])}},"0a06":function(t,e,n){"use strict";var i=n("c532"),r=n("30b5"),a=n("f6b4"),o=n("5270"),s=n("4a7b");function l(t){this.defaults=t,this.interceptors={request:new a,response:new a}}l.prototype.request=function(t){"string"===typeof t?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=s(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[o,void 0],n=Promise.resolve(t);this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));while(e.length)n=n.then(e.shift(),e.shift());return n},l.prototype.getUri=function(t){return t=s(this.defaults,t),r(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],(function(t){l.prototype[t]=function(e,n){return this.request(i.merge(n||{},{method:t,url:e}))}})),i.forEach(["post","put","patch"],(function(t){l.prototype[t]=function(e,n,r){return this.request(i.merge(r||{},{method:t,url:e,data:n}))}})),t.exports=l},"0cfb":function(t,e,n){var i=n("83ab"),r=n("d039"),a=n("cc12");t.exports=!i&&!r((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},"0df6":function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},1128:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("a142"),r=Object.prototype.hasOwnProperty;function a(t,e,n){var a=e[n];Object(i["c"])(a)&&(r.call(t,n)&&Object(i["e"])(a)?t[n]=o(Object(t[n]),e[n]):t[n]=a)}function o(t,e){return Object.keys(e).forEach((function(n){a(t,e,n)})),t}},1276:function(t,e,n){"use strict";var i=n("d784"),r=n("44e7"),a=n("825a"),o=n("1d80"),s=n("4840"),l=n("8aa5"),c=n("50c4"),u=n("14c3"),d=n("9263"),h=n("d039"),f=[].push,p=Math.min,m=4294967295,v=!h((function(){return!RegExp(m,"y")}));i("split",2,(function(t,e,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var i=String(o(this)),a=void 0===n?m:n>>>0;if(0===a)return[];if(void 0===t)return[i];if(!r(t))return e.call(i,t,a);var s,l,c,u=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,v=new RegExp(t.source,h+"g");while(s=d.call(v,i)){if(l=v.lastIndex,l>p&&(u.push(i.slice(p,s.index)),s.length>1&&s.index<i.length&&f.apply(u,s.slice(1)),c=s[0].length,p=l,u.length>=a))break;v.lastIndex===s.index&&v.lastIndex++}return p===i.length?!c&&v.test("")||u.push(""):u.push(i.slice(p)),u.length>a?u.slice(0,a):u}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var r=o(this),a=void 0==e?void 0:e[t];return void 0!==a?a.call(e,r,n):i.call(String(r),e,n)},function(t,r){var o=n(i,t,this,r,i!==e);if(o.done)return o.value;var d=a(t),h=String(this),f=s(d,RegExp),g=d.unicode,y=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(v?"y":"g"),b=new f(v?d:"^(?:"+d.source+")",y),w=void 0===r?m:r>>>0;if(0===w)return[];if(0===h.length)return null===u(b,h)?[h]:[];var k=0,S=0,x=[];while(S<h.length){b.lastIndex=v?S:0;var T,E=u(b,v?h:h.slice(S));if(null===E||(T=p(c(b.lastIndex+(v?0:S)),h.length))===k)S=l(h,S,g);else{if(x.push(h.slice(k,S)),x.length===w)return x;for(var _=1;_<=E.length-1;_++)if(x.push(E[_]),x.length===w)return x;S=k=T}}return x.push(h.slice(k)),x}]}),!v)},"14c3":function(t,e,n){var i=n("c6b6"),r=n("9263");t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var a=n.call(t,e);if("object"!==typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==i(t))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},"157a":function(t,e,n){},"19aa":function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},"1be4":function(t,e,n){var i=n("d066");t.exports=i("document","documentElement")},"1c0b":function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},"1c7e":function(t,e,n){var i=n("b622"),r=i("iterator"),a=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){a=!0}};s[r]=function(){return this},Array.from(s,(function(){throw 2}))}catch(l){}t.exports=function(t,e){if(!e&&!a)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(l){}return n}},"1cdc":function(t,e,n){var i=n("342f");t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(i)},"1d2b":function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return t.apply(e,n)}}},"1d80":function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on "+t);return t}},"1da1":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n("d3b7");function i(t,e,n,i,r,a,o){try{var s=t[a](o),l=s.value}catch(c){return void n(c)}s.done?e(l):Promise.resolve(l).then(i,r)}function r(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function s(t){i(o,r,a,s,l,"next",t)}function l(t){i(o,r,a,s,l,"throw",t)}s(void 0)}))}}},"1dde":function(t,e,n){var i=n("d039"),r=n("b622"),a=n("2d00"),o=r("species");t.exports=function(t){return a>=51||!i((function(){var e=[],n=e.constructor={};return n[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},2266:function(t,e,n){var i=n("825a"),r=n("e95a"),a=n("50c4"),o=n("0366"),s=n("35a1"),l=n("9bdd"),c=function(t,e){this.stopped=t,this.result=e},u=t.exports=function(t,e,n,u,d){var h,f,p,m,v,g,y,b=o(e,n,u?2:1);if(d)h=t;else{if(f=s(t),"function"!=typeof f)throw TypeError("Target is not iterable");if(r(f)){for(p=0,m=a(t.length);m>p;p++)if(v=u?b(i(y=t[p])[0],y[1]):b(t[p]),v&&v instanceof c)return v;return new c(!1)}h=f.call(t)}g=h.next;while(!(y=g.call(h)).done)if(v=l(h,b,y.value,u),"object"==typeof v&&v&&v instanceof c)return v;return new c(!1)};u.stop=function(t){return new c(!0,t)}},"23cb":function(t,e,n){var i=n("a691"),r=Math.max,a=Math.min;t.exports=function(t,e){var n=i(t);return n<0?r(n+e,0):a(n,e)}},"23e7":function(t,e,n){var i=n("da84"),r=n("06cf").f,a=n("9112"),o=n("6eeb"),s=n("ce4e"),l=n("e893"),c=n("94ca");t.exports=function(t,e){var n,u,d,h,f,p,m=t.target,v=t.global,g=t.stat;if(u=v?i:g?i[m]||s(m,{}):(i[m]||{}).prototype,u)for(d in e){if(f=e[d],t.noTargetGet?(p=r(u,d),h=p&&p.value):h=u[d],n=c(v?d:m+(g?".":"#")+d,t.forced),!n&&void 0!==h){if(typeof f===typeof h)continue;l(f,h)}(t.sham||h&&h.sham)&&a(f,"sham",!0),o(u,d,f,t)}}},"241c":function(t,e,n){var i=n("ca84"),r=n("7839"),a=r.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,a)}},2444:function(t,e,n){"use strict";(function(e){var i=n("c532"),r=n("c8af"),a={"Content-Type":"application/x-www-form-urlencoded"};function o(t,e){!i.isUndefined(t)&&i.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function s(){var t;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof e&&"[object process]"===Object.prototype.toString.call(e))&&(t=n("b50d")),t}var l={adapter:s(),transformRequest:[function(t,e){return r(e,"Accept"),r(e,"Content-Type"),i.isFormData(t)||i.isArrayBuffer(t)||i.isBuffer(t)||i.isStream(t)||i.isFile(t)||i.isBlob(t)?t:i.isArrayBufferView(t)?t.buffer:i.isURLSearchParams(t)?(o(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):i.isObject(t)?(o(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"===typeof t)try{t=JSON.parse(t)}catch(e){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],(function(t){l.headers[t]={}})),i.forEach(["post","put","patch"],(function(t){l.headers[t]=i.merge(a)})),t.exports=l}).call(this,n("4362"))},2626:function(t,e,n){"use strict";var i=n("d066"),r=n("9bf2"),a=n("b622"),o=n("83ab"),s=a("species");t.exports=function(t){var e=i(t),n=r.f;o&&e&&!e[s]&&n(e,s,{configurable:!0,get:function(){return this}})}},2638:function(t,e,n){"use strict";function i(){return i=Object.assign||function(t){for(var e,n=1;n<arguments.length;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},i.apply(this,arguments)}var r=["attrs","props","domProps"],a=["class","style","directives"],o=["on","nativeOn"],s=function(t){return t.reduce((function(t,e){for(var n in e)if(t[n])if(-1!==r.indexOf(n))t[n]=i({},t[n],e[n]);else if(-1!==a.indexOf(n)){var s=t[n]instanceof Array?t[n]:[t[n]],c=e[n]instanceof Array?e[n]:[e[n]];t[n]=s.concat(c)}else if(-1!==o.indexOf(n))for(var u in e[n])if(t[n][u]){var d=t[n][u]instanceof Array?t[n][u]:[t[n][u]],h=e[n][u]instanceof Array?e[n][u]:[e[n][u]];t[n][u]=d.concat(h)}else t[n][u]=e[n][u];else if("hook"==n)for(var f in e[n])t[n][f]=t[n][f]?l(t[n][f],e[n][f]):e[n][f];else t[n]=e[n];else t[n]=e[n];return t}),{})},l=function(t,e){return function(){t&&t.apply(this,arguments),e&&e.apply(this,arguments)}};t.exports=s},"283e":function(t,e,n){
/*!
 * Vue-Lazyload.js v1.2.3
 * (c) 2018 Awe <hilongjw@gmail.com>
 * Released under the MIT License.
 */
!function(e,n){t.exports=n()}(0,(function(){"use strict";function t(t){return t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function e(t){t=t||{};var e=arguments.length,r=0;if(1===e)return t;for(;++r<e;){var a=arguments[r];y(t)&&(t=a),i(a)&&n(t,a)}return t}function n(t,n){for(var a in b(t,n),n)if("__proto__"!==a&&r(n,a)){var o=n[a];i(o)?("undefined"===k(t[a])&&"function"===k(o)&&(t[a]=o),t[a]=e(t[a]||{},o)):t[a]=o}return t}function i(t){return"object"===k(t)||"function"===k(t)}function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function a(t,e){if(t.length){var n=t.indexOf(e);return n>-1?t.splice(n,1):void 0}}function o(t,e){for(var n=!1,i=0,r=t.length;i<r;i++)if(e(t[i])){n=!0;break}return n}function s(t,e){if("IMG"===t.tagName&&t.getAttribute("data-srcset")){var n=t.getAttribute("data-srcset"),i=[],r=t.parentNode,a=r.offsetWidth*e,o=void 0,s=void 0,l=void 0;n=n.trim().split(","),n.map((function(t){t=t.trim(),o=t.lastIndexOf(" "),-1===o?(s=t,l=999998):(s=t.substr(0,o),l=parseInt(t.substr(o+1,t.length-o-2),10)),i.push([l,s])})),i.sort((function(t,e){if(t[0]<e[0])return-1;if(t[0]>e[0])return 1;if(t[0]===e[0]){if(-1!==e[1].indexOf(".webp",e[1].length-5))return 1;if(-1!==t[1].indexOf(".webp",t[1].length-5))return-1}return 0}));for(var c="",u=void 0,d=i.length,h=0;h<d;h++)if(u=i[h],u[0]>=a){c=u[1];break}return c}}function l(t,e){for(var n=void 0,i=0,r=t.length;i<r;i++)if(e(t[i])){n=t[i];break}return n}function c(){if(!x)return!1;var t=!0,e=document;try{var n=e.createElement("object");n.type="image/webp",n.style.visibility="hidden",n.innerHTML="!",e.body.appendChild(n),t=!n.offsetWidth,e.body.removeChild(n)}catch(e){t=!1}return t}function u(t,e){var n=null,i=0;return function(){if(!n){var r=Date.now()-i,a=this,o=arguments,s=function(){i=Date.now(),n=!1,t.apply(a,o)};r>=e?s():n=setTimeout(s,e)}}}function d(t){return null!==t&&"object"===(void 0===t?"undefined":m(t))}function h(t){if(!(t instanceof Object))return[];if(Object.keys)return Object.keys(t);var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}function f(t){for(var e=t.length,n=[],i=0;i<e;i++)n.push(t[i]);return n}function p(){}var m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},g=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),y=function(t){return null==t||"function"!=typeof t&&"object"!==(void 0===t?"undefined":m(t))},b=function(t,e){if(null===t||void 0===t)throw new TypeError("expected first argument to be an object.");if(void 0===e||"undefined"==typeof Symbol)return t;if("function"!=typeof Object.getOwnPropertySymbols)return t;for(var n=Object.prototype.propertyIsEnumerable,i=Object(t),r=arguments.length,a=0;++a<r;)for(var o=Object(arguments[a]),s=Object.getOwnPropertySymbols(o),l=0;l<s.length;l++){var c=s[l];n.call(o,c)&&(i[c]=o[c])}return i},w=Object.prototype.toString,k=function(e){var n=void 0===e?"undefined":m(e);return"undefined"===n?"undefined":null===e?"null":!0===e||!1===e||e instanceof Boolean?"boolean":"string"===n||e instanceof String?"string":"number"===n||e instanceof Number?"number":"function"===n||e instanceof Function?void 0!==e.constructor.name&&"Generator"===e.constructor.name.slice(0,9)?"generatorfunction":"function":void 0!==Array.isArray&&Array.isArray(e)?"array":e instanceof RegExp?"regexp":e instanceof Date?"date":(n=w.call(e),"[object RegExp]"===n?"regexp":"[object Date]"===n?"date":"[object Arguments]"===n?"arguments":"[object Error]"===n?"error":"[object Promise]"===n?"promise":t(e)?"buffer":"[object Set]"===n?"set":"[object WeakSet]"===n?"weakset":"[object Map]"===n?"map":"[object WeakMap]"===n?"weakmap":"[object Symbol]"===n?"symbol":"[object Map Iterator]"===n?"mapiterator":"[object Set Iterator]"===n?"setiterator":"[object String Iterator]"===n?"stringiterator":"[object Array Iterator]"===n?"arrayiterator":"[object Int8Array]"===n?"int8array":"[object Uint8Array]"===n?"uint8array":"[object Uint8ClampedArray]"===n?"uint8clampedarray":"[object Int16Array]"===n?"int16array":"[object Uint16Array]"===n?"uint16array":"[object Int32Array]"===n?"int32array":"[object Uint32Array]"===n?"uint32array":"[object Float32Array]"===n?"float32array":"[object Float64Array]"===n?"float64array":"object")},S=e,x="undefined"!=typeof window,T=x&&"IntersectionObserver"in window,E={event:"event",observer:"observer"},_=function(){function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}if(x)return"function"==typeof window.CustomEvent?window.CustomEvent:(t.prototype=window.Event.prototype,t)}(),A=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return x&&window.devicePixelRatio||t},C=function(){if(x){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}}(),O={on:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];C?t.addEventListener(e,n,{capture:i,passive:!0}):t.addEventListener(e,n,i)},off:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t.removeEventListener(e,n,i)}},L=function(t,e,n){var i=new Image;i.src=t.src,i.onload=function(){e({naturalHeight:i.naturalHeight,naturalWidth:i.naturalWidth,src:i.src})},i.onerror=function(t){n(t)}},R=function(t,e){return"undefined"!=typeof getComputedStyle?getComputedStyle(t,null).getPropertyValue(e):t.style[e]},D=function(t){return R(t,"overflow")+R(t,"overflow-y")+R(t,"overflow-x")},I=function(t){if(x){if(!(t instanceof HTMLElement))return window;for(var e=t;e&&e!==document.body&&e!==document.documentElement&&e.parentNode;){if(/(scroll|auto)/.test(D(e)))return e;e=e.parentNode}return window}},P={},M=function(){function t(e){var n=e.el,i=e.src,r=e.error,a=e.loading,o=e.bindType,s=e.$parent,l=e.options,c=e.elRenderer;v(this,t),this.el=n,this.src=i,this.error=r,this.loading=a,this.bindType=o,this.attempt=0,this.naturalHeight=0,this.naturalWidth=0,this.options=l,this.rect=null,this.$parent=s,this.elRenderer=c,this.performanceData={init:Date.now(),loadStart:0,loadEnd:0},this.filter(),this.initState(),this.render("loading",!1)}return g(t,[{key:"initState",value:function(){this.el.dataset.src=this.src,this.state={error:!1,loaded:!1,rendered:!1}}},{key:"record",value:function(t){this.performanceData[t]=Date.now()}},{key:"update",value:function(t){var e=t.src,n=t.loading,i=t.error,r=this.src;this.src=e,this.loading=n,this.error=i,this.filter(),r!==this.src&&(this.attempt=0,this.initState())}},{key:"getRect",value:function(){this.rect=this.el.getBoundingClientRect()}},{key:"checkInView",value:function(){return this.getRect(),this.rect.top<window.innerHeight*this.options.preLoad&&this.rect.bottom>this.options.preLoadTop&&this.rect.left<window.innerWidth*this.options.preLoad&&this.rect.right>0}},{key:"filter",value:function(){var t=this;h(this.options.filter).map((function(e){t.options.filter[e](t,t.options)}))}},{key:"renderLoading",value:function(t){var e=this;L({src:this.loading},(function(n){e.render("loading",!1),t()}),(function(){t(),e.options.silent||console.warn("VueLazyload log: load failed with loading image("+e.loading+")")}))}},{key:"load",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;return this.attempt>this.options.attempt-1&&this.state.error?(this.options.silent||console.log("VueLazyload log: "+this.src+" tried too more than "+this.options.attempt+" times"),void e()):this.state.loaded||P[this.src]?(this.state.loaded=!0,e(),this.render("loaded",!0)):void this.renderLoading((function(){t.attempt++,t.record("loadStart"),L({src:t.src},(function(n){t.naturalHeight=n.naturalHeight,t.naturalWidth=n.naturalWidth,t.state.loaded=!0,t.state.error=!1,t.record("loadEnd"),t.render("loaded",!1),P[t.src]=1,e()}),(function(e){!t.options.silent&&console.error(e),t.state.error=!0,t.state.loaded=!1,t.render("error",!1)}))}))}},{key:"render",value:function(t,e){this.elRenderer(this,t,e)}},{key:"performance",value:function(){var t="loading",e=0;return this.state.loaded&&(t="loaded",e=(this.performanceData.loadEnd-this.performanceData.loadStart)/1e3),this.state.error&&(t="error"),{src:this.src,state:t,time:e}}},{key:"destroy",value:function(){this.el=null,this.src=null,this.error=null,this.loading=null,this.bindType=null,this.attempt=0}}]),t}(),F="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",B=["scroll","wheel","mousewheel","resize","animationend","transitionend","touchmove"],N={rootMargin:"0px",threshold:0},j=function(t){return function(){function e(t){var n=t.preLoad,i=t.error,r=t.throttleWait,a=t.preLoadTop,o=t.dispatchEvent,s=t.loading,l=t.attempt,d=t.silent,h=void 0===d||d,f=t.scale,p=t.listenEvents,m=(t.hasbind,t.filter),g=t.adapter,y=t.observer,b=t.observerOptions;v(this,e),this.version="1.2.3",this.mode=E.event,this.ListenerQueue=[],this.TargetIndex=0,this.TargetQueue=[],this.options={silent:h,dispatchEvent:!!o,throttleWait:r||200,preLoad:n||1.3,preLoadTop:a||0,error:i||F,loading:s||F,attempt:l||3,scale:f||A(f),ListenEvents:p||B,hasbind:!1,supportWebp:c(),filter:m||{},adapter:g||{},observer:!!y,observerOptions:b||N},this._initEvent(),this.lazyLoadHandler=u(this._lazyLoadHandler.bind(this),this.options.throttleWait),this.setMode(this.options.observer?E.observer:E.event)}return g(e,[{key:"config",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};S(this.options,t)}},{key:"performance",value:function(){var t=[];return this.ListenerQueue.map((function(e){t.push(e.performance())})),t}},{key:"addLazyBox",value:function(t){this.ListenerQueue.push(t),x&&(this._addListenerTarget(window),this._observer&&this._observer.observe(t.el),t.$el&&t.$el.parentNode&&this._addListenerTarget(t.$el.parentNode))}},{key:"add",value:function(e,n,i){var r=this;if(o(this.ListenerQueue,(function(t){return t.el===e})))return this.update(e,n),t.nextTick(this.lazyLoadHandler);var a=this._valueFormatter(n.value),l=a.src,c=a.loading,u=a.error;t.nextTick((function(){l=s(e,r.options.scale)||l,r._observer&&r._observer.observe(e);var a=Object.keys(n.modifiers)[0],o=void 0;a&&(o=i.context.$refs[a],o=o?o.$el||o:document.getElementById(a)),o||(o=I(e));var d=new M({bindType:n.arg,$parent:o,el:e,loading:c,error:u,src:l,elRenderer:r._elRenderer.bind(r),options:r.options});r.ListenerQueue.push(d),x&&(r._addListenerTarget(window),r._addListenerTarget(o)),r.lazyLoadHandler(),t.nextTick((function(){return r.lazyLoadHandler()}))}))}},{key:"update",value:function(e,n){var i=this,r=this._valueFormatter(n.value),a=r.src,o=r.loading,c=r.error;a=s(e,this.options.scale)||a;var u=l(this.ListenerQueue,(function(t){return t.el===e}));u&&u.update({src:a,loading:o,error:c}),this._observer&&(this._observer.unobserve(e),this._observer.observe(e)),this.lazyLoadHandler(),t.nextTick((function(){return i.lazyLoadHandler()}))}},{key:"remove",value:function(t){if(t){this._observer&&this._observer.unobserve(t);var e=l(this.ListenerQueue,(function(e){return e.el===t}));e&&(this._removeListenerTarget(e.$parent),this._removeListenerTarget(window),a(this.ListenerQueue,e)&&e.destroy())}}},{key:"removeComponent",value:function(t){t&&(a(this.ListenerQueue,t),this._observer&&this._observer.unobserve(t.el),t.$parent&&t.$el.parentNode&&this._removeListenerTarget(t.$el.parentNode),this._removeListenerTarget(window))}},{key:"setMode",value:function(t){var e=this;T||t!==E.observer||(t=E.event),this.mode=t,t===E.event?(this._observer&&(this.ListenerQueue.forEach((function(t){e._observer.unobserve(t.el)})),this._observer=null),this.TargetQueue.forEach((function(t){e._initListen(t.el,!0)}))):(this.TargetQueue.forEach((function(t){e._initListen(t.el,!1)})),this._initIntersectionObserver())}},{key:"_addListenerTarget",value:function(t){if(t){var e=l(this.TargetQueue,(function(e){return e.el===t}));return e?e.childrenCount++:(e={el:t,id:++this.TargetIndex,childrenCount:1,listened:!0},this.mode===E.event&&this._initListen(e.el,!0),this.TargetQueue.push(e)),this.TargetIndex}}},{key:"_removeListenerTarget",value:function(t){var e=this;this.TargetQueue.forEach((function(n,i){n.el===t&&(--n.childrenCount||(e._initListen(n.el,!1),e.TargetQueue.splice(i,1),n=null))}))}},{key:"_initListen",value:function(t,e){var n=this;this.options.ListenEvents.forEach((function(i){return O[e?"on":"off"](t,i,n.lazyLoadHandler)}))}},{key:"_initEvent",value:function(){var t=this;this.Event={listeners:{loading:[],loaded:[],error:[]}},this.$on=function(e,n){t.Event.listeners[e].push(n)},this.$once=function(e,n){function i(){r.$off(e,i),n.apply(r,arguments)}var r=t;t.$on(e,i)},this.$off=function(e,n){n?a(t.Event.listeners[e],n):t.Event.listeners[e]=[]},this.$emit=function(e,n,i){t.Event.listeners[e].forEach((function(t){return t(n,i)}))}}},{key:"_lazyLoadHandler",value:function(){var t=this;this.ListenerQueue.forEach((function(e,n){e.state.loaded||e.checkInView()&&e.load((function(){!e.error&&e.loaded&&t.ListenerQueue.splice(n,1)}))}))}},{key:"_initIntersectionObserver",value:function(){var t=this;T&&(this._observer=new IntersectionObserver(this._observerHandler.bind(this),this.options.observerOptions),this.ListenerQueue.length&&this.ListenerQueue.forEach((function(e){t._observer.observe(e.el)})))}},{key:"_observerHandler",value:function(t,e){var n=this;t.forEach((function(t){t.isIntersecting&&n.ListenerQueue.forEach((function(e){if(e.el===t.target){if(e.state.loaded)return n._observer.unobserve(e.el);e.load()}}))}))}},{key:"_elRenderer",value:function(t,e,n){if(t.el){var i=t.el,r=t.bindType,a=void 0;switch(e){case"loading":a=t.loading;break;case"error":a=t.error;break;default:a=t.src}if(r?i.style[r]='url("'+a+'")':i.getAttribute("src")!==a&&i.setAttribute("src",a),i.setAttribute("lazy",e),this.$emit(e,t,n),this.options.adapter[e]&&this.options.adapter[e](t,this.options),this.options.dispatchEvent){var o=new _(e,{detail:t});i.dispatchEvent(o)}}}},{key:"_valueFormatter",value:function(t){var e=t,n=this.options.loading,i=this.options.error;return d(t)&&(t.src||this.options.silent||console.error("Vue Lazyload warning: miss src with "+t),e=t.src,n=t.loading||this.options.loading,i=t.error||this.options.error),{src:e,loading:n,error:i}}}]),e}()},$=function(t){return{props:{tag:{type:String,default:"div"}},render:function(t){return!1===this.show?t(this.tag):t(this.tag,null,this.$slots.default)},data:function(){return{el:null,state:{loaded:!1},rect:{},show:!1}},mounted:function(){this.el=this.$el,t.addLazyBox(this),t.lazyLoadHandler()},beforeDestroy:function(){t.removeComponent(this)},methods:{getRect:function(){this.rect=this.$el.getBoundingClientRect()},checkInView:function(){return this.getRect(),x&&this.rect.top<window.innerHeight*t.options.preLoad&&this.rect.bottom>0&&this.rect.left<window.innerWidth*t.options.preLoad&&this.rect.right>0},load:function(){this.show=!0,this.state.loaded=!0,this.$emit("show",this)}}}},U=function(){function t(e){var n=e.lazy;v(this,t),this.lazy=n,n.lazyContainerMananger=this,this._queue=[]}return g(t,[{key:"bind",value:function(t,e,n){var i=new V({el:t,binding:e,vnode:n,lazy:this.lazy});this._queue.push(i)}},{key:"update",value:function(t,e,n){var i=l(this._queue,(function(e){return e.el===t}));i&&i.update({el:t,binding:e,vnode:n})}},{key:"unbind",value:function(t,e,n){var i=l(this._queue,(function(e){return e.el===t}));i&&(i.clear(),a(this._queue,i))}}]),t}(),z={selector:"img"},V=function(){function t(e){var n=e.el,i=e.binding,r=e.vnode,a=e.lazy;v(this,t),this.el=null,this.vnode=r,this.binding=i,this.options={},this.lazy=a,this._queue=[],this.update({el:n,binding:i})}return g(t,[{key:"update",value:function(t){var e=this,n=t.el,i=t.binding;this.el=n,this.options=S({},z,i.value),this.getImgs().forEach((function(t){e.lazy.add(t,S({},e.binding,{value:{src:t.dataset.src,error:t.dataset.error,loading:t.dataset.loading}}),e.vnode)}))}},{key:"getImgs",value:function(){return f(this.el.querySelectorAll(this.options.selector))}},{key:"clear",value:function(){var t=this;this.getImgs().forEach((function(e){return t.lazy.remove(e)})),this.vnode=null,this.binding=null,this.lazy=null}}]),t}();return{install:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=j(t),i=new n(e),r=new U({lazy:i}),a="2"===t.version.split(".")[0];t.prototype.$Lazyload=i,e.lazyComponent&&t.component("lazy-component",$(i)),a?(t.directive("lazy",{bind:i.add.bind(i),update:i.update.bind(i),componentUpdated:i.lazyLoadHandler.bind(i),unbind:i.remove.bind(i)}),t.directive("lazy-container",{bind:r.bind.bind(r),update:r.update.bind(r),unbind:r.unbind.bind(r)})):(t.directive("lazy",{bind:i.lazyLoadHandler.bind(i),update:function(t,e){S(this.vm.$refs,this.vm.$els),i.add(this.el,{modifiers:this.modifiers||{},arg:this.arg,value:t,oldValue:e},{context:this.vm})},unbind:function(){i.remove(this.el)}}),t.directive("lazy-container",{update:function(t,e){r.update(this.el,{modifiers:this.modifiers||{},arg:this.arg,value:t,oldValue:e},{context:this.vm})},unbind:function(){r.unbind(this.el)}}))}}}))},2877:function(t,e,n){"use strict";function i(t,e,n,i,r,a,o,s){var l,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),i&&(c.functional=!0),a&&(c._scopeId="data-v-"+a),o?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},c._ssrRegister=l):r&&(l=s?function(){r.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:c}}n.d(e,"a",(function(){return i}))},"2b0e":function(t,e,n){"use strict";(function(t){
/*!
 * Vue.js v2.6.11
 * (c) 2014-2019 Evan You
 * Released under the MIT License.
 */
var n=Object.freeze({});function i(t){return void 0===t||null===t}function r(t){return void 0!==t&&null!==t}function a(t){return!0===t}function o(t){return!1===t}function s(t){return"string"===typeof t||"number"===typeof t||"symbol"===typeof t||"boolean"===typeof t}function l(t){return null!==t&&"object"===typeof t}var c=Object.prototype.toString;function u(t){return"[object Object]"===c.call(t)}function d(t){return"[object RegExp]"===c.call(t)}function h(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function f(t){return r(t)&&"function"===typeof t.then&&"function"===typeof t.catch}function p(t){return null==t?"":Array.isArray(t)||u(t)&&t.toString===c?JSON.stringify(t,null,2):String(t)}function m(t){var e=parseFloat(t);return isNaN(e)?t:e}function v(t,e){for(var n=Object.create(null),i=t.split(","),r=0;r<i.length;r++)n[i[r]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}v("slot,component",!0);var g=v("key,ref,slot,slot-scope,is");function y(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}var b=Object.prototype.hasOwnProperty;function w(t,e){return b.call(t,e)}function k(t){var e=Object.create(null);return function(n){var i=e[n];return i||(e[n]=t(n))}}var S=/-(\w)/g,x=k((function(t){return t.replace(S,(function(t,e){return e?e.toUpperCase():""}))})),T=k((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),E=/\B([A-Z])/g,_=k((function(t){return t.replace(E,"-$1").toLowerCase()}));function A(t,e){function n(n){var i=arguments.length;return i?i>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n}function C(t,e){return t.bind(e)}var O=Function.prototype.bind?C:A;function L(t,e){e=e||0;var n=t.length-e,i=new Array(n);while(n--)i[n]=t[n+e];return i}function R(t,e){for(var n in e)t[n]=e[n];return t}function D(t){for(var e={},n=0;n<t.length;n++)t[n]&&R(e,t[n]);return e}function I(t,e,n){}var P=function(t,e,n){return!1},M=function(t){return t};function F(t,e){if(t===e)return!0;var n=l(t),i=l(e);if(!n||!i)return!n&&!i&&String(t)===String(e);try{var r=Array.isArray(t),a=Array.isArray(e);if(r&&a)return t.length===e.length&&t.every((function(t,n){return F(t,e[n])}));if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(r||a)return!1;var o=Object.keys(t),s=Object.keys(e);return o.length===s.length&&o.every((function(n){return F(t[n],e[n])}))}catch(c){return!1}}function B(t,e){for(var n=0;n<t.length;n++)if(F(t[n],e))return n;return-1}function N(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var j="data-server-rendered",$=["component","directive","filter"],U=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],z={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:P,isReservedAttr:P,isUnknownElement:P,getTagNamespace:I,parsePlatformTagName:M,mustUseProp:P,async:!0,_lifecycleHooks:U},V=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function H(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function q(t,e,n,i){Object.defineProperty(t,e,{value:n,enumerable:!!i,writable:!0,configurable:!0})}var G=new RegExp("[^"+V.source+".$_\\d]");function W(t){if(!G.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}var K,Y="__proto__"in{},X="undefined"!==typeof window,Q="undefined"!==typeof WXEnvironment&&!!WXEnvironment.platform,J=Q&&WXEnvironment.platform.toLowerCase(),Z=X&&window.navigator.userAgent.toLowerCase(),tt=Z&&/msie|trident/.test(Z),et=Z&&Z.indexOf("msie 9.0")>0,nt=Z&&Z.indexOf("edge/")>0,it=(Z&&Z.indexOf("android"),Z&&/iphone|ipad|ipod|ios/.test(Z)||"ios"===J),rt=(Z&&/chrome\/\d+/.test(Z),Z&&/phantomjs/.test(Z),Z&&Z.match(/firefox\/(\d+)/)),at={}.watch,ot=!1;if(X)try{var st={};Object.defineProperty(st,"passive",{get:function(){ot=!0}}),window.addEventListener("test-passive",null,st)}catch(xo){}var lt=function(){return void 0===K&&(K=!X&&!Q&&"undefined"!==typeof t&&(t["process"]&&"server"===t["process"].env.VUE_ENV)),K},ct=X&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ut(t){return"function"===typeof t&&/native code/.test(t.toString())}var dt,ht="undefined"!==typeof Symbol&&ut(Symbol)&&"undefined"!==typeof Reflect&&ut(Reflect.ownKeys);dt="undefined"!==typeof Set&&ut(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var ft=I,pt=0,mt=function(){this.id=pt++,this.subs=[]};mt.prototype.addSub=function(t){this.subs.push(t)},mt.prototype.removeSub=function(t){y(this.subs,t)},mt.prototype.depend=function(){mt.target&&mt.target.addDep(this)},mt.prototype.notify=function(){var t=this.subs.slice();for(var e=0,n=t.length;e<n;e++)t[e].update()},mt.target=null;var vt=[];function gt(t){vt.push(t),mt.target=t}function yt(){vt.pop(),mt.target=vt[vt.length-1]}var bt=function(t,e,n,i,r,a,o,s){this.tag=t,this.data=e,this.children=n,this.text=i,this.elm=r,this.ns=void 0,this.context=a,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=o,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},wt={child:{configurable:!0}};wt.child.get=function(){return this.componentInstance},Object.defineProperties(bt.prototype,wt);var kt=function(t){void 0===t&&(t="");var e=new bt;return e.text=t,e.isComment=!0,e};function St(t){return new bt(void 0,void 0,void 0,String(t))}function xt(t){var e=new bt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var Tt=Array.prototype,Et=Object.create(Tt),_t=["push","pop","shift","unshift","splice","sort","reverse"];_t.forEach((function(t){var e=Tt[t];q(Et,t,(function(){var n=[],i=arguments.length;while(i--)n[i]=arguments[i];var r,a=e.apply(this,n),o=this.__ob__;switch(t){case"push":case"unshift":r=n;break;case"splice":r=n.slice(2);break}return r&&o.observeArray(r),o.dep.notify(),a}))}));var At=Object.getOwnPropertyNames(Et),Ct=!0;function Ot(t){Ct=t}var Lt=function(t){this.value=t,this.dep=new mt,this.vmCount=0,q(t,"__ob__",this),Array.isArray(t)?(Y?Rt(t,Et):Dt(t,Et,At),this.observeArray(t)):this.walk(t)};function Rt(t,e){t.__proto__=e}function Dt(t,e,n){for(var i=0,r=n.length;i<r;i++){var a=n[i];q(t,a,e[a])}}function It(t,e){var n;if(l(t)&&!(t instanceof bt))return w(t,"__ob__")&&t.__ob__ instanceof Lt?n=t.__ob__:Ct&&!lt()&&(Array.isArray(t)||u(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new Lt(t)),e&&n&&n.vmCount++,n}function Pt(t,e,n,i,r){var a=new mt,o=Object.getOwnPropertyDescriptor(t,e);if(!o||!1!==o.configurable){var s=o&&o.get,l=o&&o.set;s&&!l||2!==arguments.length||(n=t[e]);var c=!r&&It(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=s?s.call(t):n;return mt.target&&(a.depend(),c&&(c.dep.depend(),Array.isArray(e)&&Bt(e))),e},set:function(e){var i=s?s.call(t):n;e===i||e!==e&&i!==i||s&&!l||(l?l.call(t,e):n=e,c=!r&&It(e),a.notify())}})}}function Mt(t,e,n){if(Array.isArray(t)&&h(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(e in t&&!(e in Object.prototype))return t[e]=n,n;var i=t.__ob__;return t._isVue||i&&i.vmCount?n:i?(Pt(i.value,e,n),i.dep.notify(),n):(t[e]=n,n)}function Ft(t,e){if(Array.isArray(t)&&h(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||w(t,e)&&(delete t[e],n&&n.dep.notify())}}function Bt(t){for(var e=void 0,n=0,i=t.length;n<i;n++)e=t[n],e&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&Bt(e)}Lt.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)Pt(t,e[n])},Lt.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)It(t[e])};var Nt=z.optionMergeStrategies;function jt(t,e){if(!e)return t;for(var n,i,r,a=ht?Reflect.ownKeys(e):Object.keys(e),o=0;o<a.length;o++)n=a[o],"__ob__"!==n&&(i=t[n],r=e[n],w(t,n)?i!==r&&u(i)&&u(r)&&jt(i,r):Mt(t,n,r));return t}function $t(t,e,n){return n?function(){var i="function"===typeof e?e.call(n,n):e,r="function"===typeof t?t.call(n,n):t;return i?jt(i,r):r}:e?t?function(){return jt("function"===typeof e?e.call(this,this):e,"function"===typeof t?t.call(this,this):t)}:e:t}function Ut(t,e){var n=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return n?zt(n):n}function zt(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}function Vt(t,e,n,i){var r=Object.create(t||null);return e?R(r,e):r}Nt.data=function(t,e,n){return n?$t(t,e,n):e&&"function"!==typeof e?t:$t(t,e)},U.forEach((function(t){Nt[t]=Ut})),$.forEach((function(t){Nt[t+"s"]=Vt})),Nt.watch=function(t,e,n,i){if(t===at&&(t=void 0),e===at&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var r={};for(var a in R(r,t),e){var o=r[a],s=e[a];o&&!Array.isArray(o)&&(o=[o]),r[a]=o?o.concat(s):Array.isArray(s)?s:[s]}return r},Nt.props=Nt.methods=Nt.inject=Nt.computed=function(t,e,n,i){if(!t)return e;var r=Object.create(null);return R(r,t),e&&R(r,e),r},Nt.provide=$t;var Ht=function(t,e){return void 0===e?t:e};function qt(t,e){var n=t.props;if(n){var i,r,a,o={};if(Array.isArray(n)){i=n.length;while(i--)r=n[i],"string"===typeof r&&(a=x(r),o[a]={type:null})}else if(u(n))for(var s in n)r=n[s],a=x(s),o[a]=u(r)?r:{type:r};else 0;t.props=o}}function Gt(t,e){var n=t.inject;if(n){var i=t.inject={};if(Array.isArray(n))for(var r=0;r<n.length;r++)i[n[r]]={from:n[r]};else if(u(n))for(var a in n){var o=n[a];i[a]=u(o)?R({from:a},o):{from:o}}else 0}}function Wt(t){var e=t.directives;if(e)for(var n in e){var i=e[n];"function"===typeof i&&(e[n]={bind:i,update:i})}}function Kt(t,e,n){if("function"===typeof e&&(e=e.options),qt(e,n),Gt(e,n),Wt(e),!e._base&&(e.extends&&(t=Kt(t,e.extends,n)),e.mixins))for(var i=0,r=e.mixins.length;i<r;i++)t=Kt(t,e.mixins[i],n);var a,o={};for(a in t)s(a);for(a in e)w(t,a)||s(a);function s(i){var r=Nt[i]||Ht;o[i]=r(t[i],e[i],n,i)}return o}function Yt(t,e,n,i){if("string"===typeof n){var r=t[e];if(w(r,n))return r[n];var a=x(n);if(w(r,a))return r[a];var o=T(a);if(w(r,o))return r[o];var s=r[n]||r[a]||r[o];return s}}function Xt(t,e,n,i){var r=e[t],a=!w(n,t),o=n[t],s=te(Boolean,r.type);if(s>-1)if(a&&!w(r,"default"))o=!1;else if(""===o||o===_(t)){var l=te(String,r.type);(l<0||s<l)&&(o=!0)}if(void 0===o){o=Qt(i,r,t);var c=Ct;Ot(!0),It(o),Ot(c)}return o}function Qt(t,e,n){if(w(e,"default")){var i=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n]?t._props[n]:"function"===typeof i&&"Function"!==Jt(e.type)?i.call(t):i}}function Jt(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function Zt(t,e){return Jt(t)===Jt(e)}function te(t,e){if(!Array.isArray(e))return Zt(e,t)?0:-1;for(var n=0,i=e.length;n<i;n++)if(Zt(e[n],t))return n;return-1}function ee(t,e,n){gt();try{if(e){var i=e;while(i=i.$parent){var r=i.$options.errorCaptured;if(r)for(var a=0;a<r.length;a++)try{var o=!1===r[a].call(i,t,e,n);if(o)return}catch(xo){ie(xo,i,"errorCaptured hook")}}}ie(t,e,n)}finally{yt()}}function ne(t,e,n,i,r){var a;try{a=n?t.apply(e,n):t.call(e),a&&!a._isVue&&f(a)&&!a._handled&&(a.catch((function(t){return ee(t,i,r+" (Promise/async)")})),a._handled=!0)}catch(xo){ee(xo,i,r)}return a}function ie(t,e,n){if(z.errorHandler)try{return z.errorHandler.call(null,t,e,n)}catch(xo){xo!==t&&re(xo,null,"config.errorHandler")}re(t,e,n)}function re(t,e,n){if(!X&&!Q||"undefined"===typeof console)throw t;console.error(t)}var ae,oe=!1,se=[],le=!1;function ce(){le=!1;var t=se.slice(0);se.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!==typeof Promise&&ut(Promise)){var ue=Promise.resolve();ae=function(){ue.then(ce),it&&setTimeout(I)},oe=!0}else if(tt||"undefined"===typeof MutationObserver||!ut(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())ae="undefined"!==typeof setImmediate&&ut(setImmediate)?function(){setImmediate(ce)}:function(){setTimeout(ce,0)};else{var de=1,he=new MutationObserver(ce),fe=document.createTextNode(String(de));he.observe(fe,{characterData:!0}),ae=function(){de=(de+1)%2,fe.data=String(de)},oe=!0}function pe(t,e){var n;if(se.push((function(){if(t)try{t.call(e)}catch(xo){ee(xo,e,"nextTick")}else n&&n(e)})),le||(le=!0,ae()),!t&&"undefined"!==typeof Promise)return new Promise((function(t){n=t}))}var me=new dt;function ve(t){ge(t,me),me.clear()}function ge(t,e){var n,i,r=Array.isArray(t);if(!(!r&&!l(t)||Object.isFrozen(t)||t instanceof bt)){if(t.__ob__){var a=t.__ob__.dep.id;if(e.has(a))return;e.add(a)}if(r){n=t.length;while(n--)ge(t[n],e)}else{i=Object.keys(t),n=i.length;while(n--)ge(t[i[n]],e)}}}var ye=k((function(t){var e="&"===t.charAt(0);t=e?t.slice(1):t;var n="~"===t.charAt(0);t=n?t.slice(1):t;var i="!"===t.charAt(0);return t=i?t.slice(1):t,{name:t,once:n,capture:i,passive:e}}));function be(t,e){function n(){var t=arguments,i=n.fns;if(!Array.isArray(i))return ne(i,null,arguments,e,"v-on handler");for(var r=i.slice(),a=0;a<r.length;a++)ne(r[a],null,t,e,"v-on handler")}return n.fns=t,n}function we(t,e,n,r,o,s){var l,c,u,d;for(l in t)c=t[l],u=e[l],d=ye(l),i(c)||(i(u)?(i(c.fns)&&(c=t[l]=be(c,s)),a(d.once)&&(c=t[l]=o(d.name,c,d.capture)),n(d.name,c,d.capture,d.passive,d.params)):c!==u&&(u.fns=c,t[l]=u));for(l in e)i(t[l])&&(d=ye(l),r(d.name,e[l],d.capture))}function ke(t,e,n){var o;t instanceof bt&&(t=t.data.hook||(t.data.hook={}));var s=t[e];function l(){n.apply(this,arguments),y(o.fns,l)}i(s)?o=be([l]):r(s.fns)&&a(s.merged)?(o=s,o.fns.push(l)):o=be([s,l]),o.merged=!0,t[e]=o}function Se(t,e,n){var a=e.options.props;if(!i(a)){var o={},s=t.attrs,l=t.props;if(r(s)||r(l))for(var c in a){var u=_(c);xe(o,l,c,u,!0)||xe(o,s,c,u,!1)}return o}}function xe(t,e,n,i,a){if(r(e)){if(w(e,n))return t[n]=e[n],a||delete e[n],!0;if(w(e,i))return t[n]=e[i],a||delete e[i],!0}return!1}function Te(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}function Ee(t){return s(t)?[St(t)]:Array.isArray(t)?Ae(t):void 0}function _e(t){return r(t)&&r(t.text)&&o(t.isComment)}function Ae(t,e){var n,o,l,c,u=[];for(n=0;n<t.length;n++)o=t[n],i(o)||"boolean"===typeof o||(l=u.length-1,c=u[l],Array.isArray(o)?o.length>0&&(o=Ae(o,(e||"")+"_"+n),_e(o[0])&&_e(c)&&(u[l]=St(c.text+o[0].text),o.shift()),u.push.apply(u,o)):s(o)?_e(c)?u[l]=St(c.text+o):""!==o&&u.push(St(o)):_e(o)&&_e(c)?u[l]=St(c.text+o.text):(a(t._isVList)&&r(o.tag)&&i(o.key)&&r(e)&&(o.key="__vlist"+e+"_"+n+"__"),u.push(o)));return u}function Ce(t){var e=t.$options.provide;e&&(t._provided="function"===typeof e?e.call(t):e)}function Oe(t){var e=Le(t.$options.inject,t);e&&(Ot(!1),Object.keys(e).forEach((function(n){Pt(t,n,e[n])})),Ot(!0))}function Le(t,e){if(t){for(var n=Object.create(null),i=ht?Reflect.ownKeys(t):Object.keys(t),r=0;r<i.length;r++){var a=i[r];if("__ob__"!==a){var o=t[a].from,s=e;while(s){if(s._provided&&w(s._provided,o)){n[a]=s._provided[o];break}s=s.$parent}if(!s)if("default"in t[a]){var l=t[a].default;n[a]="function"===typeof l?l.call(e):l}else 0}}return n}}function Re(t,e){if(!t||!t.length)return{};for(var n={},i=0,r=t.length;i<r;i++){var a=t[i],o=a.data;if(o&&o.attrs&&o.attrs.slot&&delete o.attrs.slot,a.context!==e&&a.fnContext!==e||!o||null==o.slot)(n.default||(n.default=[])).push(a);else{var s=o.slot,l=n[s]||(n[s]=[]);"template"===a.tag?l.push.apply(l,a.children||[]):l.push(a)}}for(var c in n)n[c].every(De)&&delete n[c];return n}function De(t){return t.isComment&&!t.asyncFactory||" "===t.text}function Ie(t,e,i){var r,a=Object.keys(e).length>0,o=t?!!t.$stable:!a,s=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(o&&i&&i!==n&&s===i.$key&&!a&&!i.$hasNormal)return i;for(var l in r={},t)t[l]&&"$"!==l[0]&&(r[l]=Pe(e,l,t[l]))}else r={};for(var c in e)c in r||(r[c]=Me(e,c));return t&&Object.isExtensible(t)&&(t._normalized=r),q(r,"$stable",o),q(r,"$key",s),q(r,"$hasNormal",a),r}function Pe(t,e,n){var i=function(){var t=arguments.length?n.apply(null,arguments):n({});return t=t&&"object"===typeof t&&!Array.isArray(t)?[t]:Ee(t),t&&(0===t.length||1===t.length&&t[0].isComment)?void 0:t};return n.proxy&&Object.defineProperty(t,e,{get:i,enumerable:!0,configurable:!0}),i}function Me(t,e){return function(){return t[e]}}function Fe(t,e){var n,i,a,o,s;if(Array.isArray(t)||"string"===typeof t)for(n=new Array(t.length),i=0,a=t.length;i<a;i++)n[i]=e(t[i],i);else if("number"===typeof t)for(n=new Array(t),i=0;i<t;i++)n[i]=e(i+1,i);else if(l(t))if(ht&&t[Symbol.iterator]){n=[];var c=t[Symbol.iterator](),u=c.next();while(!u.done)n.push(e(u.value,n.length)),u=c.next()}else for(o=Object.keys(t),n=new Array(o.length),i=0,a=o.length;i<a;i++)s=o[i],n[i]=e(t[s],s,i);return r(n)||(n=[]),n._isVList=!0,n}function Be(t,e,n,i){var r,a=this.$scopedSlots[t];a?(n=n||{},i&&(n=R(R({},i),n)),r=a(n)||e):r=this.$slots[t]||e;var o=n&&n.slot;return o?this.$createElement("template",{slot:o},r):r}function Ne(t){return Yt(this.$options,"filters",t,!0)||M}function je(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function $e(t,e,n,i,r){var a=z.keyCodes[e]||n;return r&&i&&!z.keyCodes[e]?je(r,i):a?je(a,t):i?_(i)!==e:void 0}function Ue(t,e,n,i,r){if(n)if(l(n)){var a;Array.isArray(n)&&(n=D(n));var o=function(o){if("class"===o||"style"===o||g(o))a=t;else{var s=t.attrs&&t.attrs.type;a=i||z.mustUseProp(e,s,o)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var l=x(o),c=_(o);if(!(l in a)&&!(c in a)&&(a[o]=n[o],r)){var u=t.on||(t.on={});u["update:"+o]=function(t){n[o]=t}}};for(var s in n)o(s)}else;return t}function ze(t,e){var n=this._staticTrees||(this._staticTrees=[]),i=n[t];return i&&!e||(i=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),He(i,"__static__"+t,!1)),i}function Ve(t,e,n){return He(t,"__once__"+e+(n?"_"+n:""),!0),t}function He(t,e,n){if(Array.isArray(t))for(var i=0;i<t.length;i++)t[i]&&"string"!==typeof t[i]&&qe(t[i],e+"_"+i,n);else qe(t,e,n)}function qe(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function Ge(t,e){if(e)if(u(e)){var n=t.on=t.on?R({},t.on):{};for(var i in e){var r=n[i],a=e[i];n[i]=r?[].concat(r,a):a}}else;return t}function We(t,e,n,i){e=e||{$stable:!n};for(var r=0;r<t.length;r++){var a=t[r];Array.isArray(a)?We(a,e,n):a&&(a.proxy&&(a.fn.proxy=!0),e[a.key]=a.fn)}return i&&(e.$key=i),e}function Ke(t,e){for(var n=0;n<e.length;n+=2){var i=e[n];"string"===typeof i&&i&&(t[e[n]]=e[n+1])}return t}function Ye(t,e){return"string"===typeof t?e+t:t}function Xe(t){t._o=Ve,t._n=m,t._s=p,t._l=Fe,t._t=Be,t._q=F,t._i=B,t._m=ze,t._f=Ne,t._k=$e,t._b=Ue,t._v=St,t._e=kt,t._u=We,t._g=Ge,t._d=Ke,t._p=Ye}function Qe(t,e,i,r,o){var s,l=this,c=o.options;w(r,"_uid")?(s=Object.create(r),s._original=r):(s=r,r=r._original);var u=a(c._compiled),d=!u;this.data=t,this.props=e,this.children=i,this.parent=r,this.listeners=t.on||n,this.injections=Le(c.inject,r),this.slots=function(){return l.$slots||Ie(t.scopedSlots,l.$slots=Re(i,r)),l.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Ie(t.scopedSlots,this.slots())}}),u&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=Ie(t.scopedSlots,this.$slots)),c._scopeId?this._c=function(t,e,n,i){var a=dn(s,t,e,n,i,d);return a&&!Array.isArray(a)&&(a.fnScopeId=c._scopeId,a.fnContext=r),a}:this._c=function(t,e,n,i){return dn(s,t,e,n,i,d)}}function Je(t,e,i,a,o){var s=t.options,l={},c=s.props;if(r(c))for(var u in c)l[u]=Xt(u,c,e||n);else r(i.attrs)&&tn(l,i.attrs),r(i.props)&&tn(l,i.props);var d=new Qe(i,l,o,a,t),h=s.render.call(null,d._c,d);if(h instanceof bt)return Ze(h,i,d.parent,s,d);if(Array.isArray(h)){for(var f=Ee(h)||[],p=new Array(f.length),m=0;m<f.length;m++)p[m]=Ze(f[m],i,d.parent,s,d);return p}}function Ze(t,e,n,i,r){var a=xt(t);return a.fnContext=n,a.fnOptions=i,e.slot&&((a.data||(a.data={})).slot=e.slot),a}function tn(t,e){for(var n in e)t[x(n)]=e[n]}Xe(Qe.prototype);var en={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;en.prepatch(n,n)}else{var i=t.componentInstance=an(t,Ln);i.$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var n=e.componentOptions,i=e.componentInstance=t.componentInstance;Mn(i,n.propsData,n.listeners,e,n.children)},insert:function(t){var e=t.context,n=t.componentInstance;n._isMounted||(n._isMounted=!0,jn(n,"mounted")),t.data.keepAlive&&(e._isMounted?Jn(n):Bn(n,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?Nn(e,!0):e.$destroy())}},nn=Object.keys(en);function rn(t,e,n,o,s){if(!i(t)){var c=n.$options._base;if(l(t)&&(t=c.extend(t)),"function"===typeof t){var u;if(i(t.cid)&&(u=t,t=kn(u,c),void 0===t))return wn(u,e,n,o,s);e=e||{},ki(t),r(e.model)&&ln(t.options,e);var d=Se(e,t,s);if(a(t.options.functional))return Je(t,d,e,n,o);var h=e.on;if(e.on=e.nativeOn,a(t.options.abstract)){var f=e.slot;e={},f&&(e.slot=f)}on(e);var p=t.options.name||s,m=new bt("vue-component-"+t.cid+(p?"-"+p:""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:d,listeners:h,tag:s,children:o},u);return m}}}function an(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},i=t.data.inlineTemplate;return r(i)&&(n.render=i.render,n.staticRenderFns=i.staticRenderFns),new t.componentOptions.Ctor(n)}function on(t){for(var e=t.hook||(t.hook={}),n=0;n<nn.length;n++){var i=nn[n],r=e[i],a=en[i];r===a||r&&r._merged||(e[i]=r?sn(a,r):a)}}function sn(t,e){var n=function(n,i){t(n,i),e(n,i)};return n._merged=!0,n}function ln(t,e){var n=t.model&&t.model.prop||"value",i=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var a=e.on||(e.on={}),o=a[i],s=e.model.callback;r(o)?(Array.isArray(o)?-1===o.indexOf(s):o!==s)&&(a[i]=[s].concat(o)):a[i]=s}var cn=1,un=2;function dn(t,e,n,i,r,o){return(Array.isArray(n)||s(n))&&(r=i,i=n,n=void 0),a(o)&&(r=un),hn(t,e,n,i,r)}function hn(t,e,n,i,a){if(r(n)&&r(n.__ob__))return kt();if(r(n)&&r(n.is)&&(e=n.is),!e)return kt();var o,s,l;(Array.isArray(i)&&"function"===typeof i[0]&&(n=n||{},n.scopedSlots={default:i[0]},i.length=0),a===un?i=Ee(i):a===cn&&(i=Te(i)),"string"===typeof e)?(s=t.$vnode&&t.$vnode.ns||z.getTagNamespace(e),o=z.isReservedTag(e)?new bt(z.parsePlatformTagName(e),n,i,void 0,void 0,t):n&&n.pre||!r(l=Yt(t.$options,"components",e))?new bt(e,n,i,void 0,void 0,t):rn(l,n,t,i,e)):o=rn(e,n,t,i);return Array.isArray(o)?o:r(o)?(r(s)&&fn(o,s),r(n)&&pn(n),o):kt()}function fn(t,e,n){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,n=!0),r(t.children))for(var o=0,s=t.children.length;o<s;o++){var l=t.children[o];r(l.tag)&&(i(l.ns)||a(n)&&"svg"!==l.tag)&&fn(l,e,n)}}function pn(t){l(t.style)&&ve(t.style),l(t.class)&&ve(t.class)}function mn(t){t._vnode=null,t._staticTrees=null;var e=t.$options,i=t.$vnode=e._parentVnode,r=i&&i.context;t.$slots=Re(e._renderChildren,r),t.$scopedSlots=n,t._c=function(e,n,i,r){return dn(t,e,n,i,r,!1)},t.$createElement=function(e,n,i,r){return dn(t,e,n,i,r,!0)};var a=i&&i.data;Pt(t,"$attrs",a&&a.attrs||n,null,!0),Pt(t,"$listeners",e._parentListeners||n,null,!0)}var vn,gn=null;function yn(t){Xe(t.prototype),t.prototype.$nextTick=function(t){return pe(t,this)},t.prototype._render=function(){var t,e=this,n=e.$options,i=n.render,r=n._parentVnode;r&&(e.$scopedSlots=Ie(r.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=r;try{gn=e,t=i.call(e._renderProxy,e.$createElement)}catch(xo){ee(xo,e,"render"),t=e._vnode}finally{gn=null}return Array.isArray(t)&&1===t.length&&(t=t[0]),t instanceof bt||(t=kt()),t.parent=r,t}}function bn(t,e){return(t.__esModule||ht&&"Module"===t[Symbol.toStringTag])&&(t=t.default),l(t)?e.extend(t):t}function wn(t,e,n,i,r){var a=kt();return a.asyncFactory=t,a.asyncMeta={data:e,context:n,children:i,tag:r},a}function kn(t,e){if(a(t.error)&&r(t.errorComp))return t.errorComp;if(r(t.resolved))return t.resolved;var n=gn;if(n&&r(t.owners)&&-1===t.owners.indexOf(n)&&t.owners.push(n),a(t.loading)&&r(t.loadingComp))return t.loadingComp;if(n&&!r(t.owners)){var o=t.owners=[n],s=!0,c=null,u=null;n.$on("hook:destroyed",(function(){return y(o,n)}));var d=function(t){for(var e=0,n=o.length;e<n;e++)o[e].$forceUpdate();t&&(o.length=0,null!==c&&(clearTimeout(c),c=null),null!==u&&(clearTimeout(u),u=null))},h=N((function(n){t.resolved=bn(n,e),s?o.length=0:d(!0)})),p=N((function(e){r(t.errorComp)&&(t.error=!0,d(!0))})),m=t(h,p);return l(m)&&(f(m)?i(t.resolved)&&m.then(h,p):f(m.component)&&(m.component.then(h,p),r(m.error)&&(t.errorComp=bn(m.error,e)),r(m.loading)&&(t.loadingComp=bn(m.loading,e),0===m.delay?t.loading=!0:c=setTimeout((function(){c=null,i(t.resolved)&&i(t.error)&&(t.loading=!0,d(!1))}),m.delay||200)),r(m.timeout)&&(u=setTimeout((function(){u=null,i(t.resolved)&&p(null)}),m.timeout)))),s=!1,t.loading?t.loadingComp:t.resolved}}function Sn(t){return t.isComment&&t.asyncFactory}function xn(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(r(n)&&(r(n.componentOptions)||Sn(n)))return n}}function Tn(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&Cn(t,e)}function En(t,e){vn.$on(t,e)}function _n(t,e){vn.$off(t,e)}function An(t,e){var n=vn;return function i(){var r=e.apply(null,arguments);null!==r&&n.$off(t,i)}}function Cn(t,e,n){vn=t,we(e,n||{},En,_n,An,t),vn=void 0}function On(t){var e=/^hook:/;t.prototype.$on=function(t,n){var i=this;if(Array.isArray(t))for(var r=0,a=t.length;r<a;r++)i.$on(t[r],n);else(i._events[t]||(i._events[t]=[])).push(n),e.test(t)&&(i._hasHookEvent=!0);return i},t.prototype.$once=function(t,e){var n=this;function i(){n.$off(t,i),e.apply(n,arguments)}return i.fn=e,n.$on(t,i),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(t)){for(var i=0,r=t.length;i<r;i++)n.$off(t[i],e);return n}var a,o=n._events[t];if(!o)return n;if(!e)return n._events[t]=null,n;var s=o.length;while(s--)if(a=o[s],a===e||a.fn===e){o.splice(s,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?L(n):n;for(var i=L(arguments,1),r='event handler for "'+t+'"',a=0,o=n.length;a<o;a++)ne(n[a],e,i,e,r)}return e}}var Ln=null;function Rn(t){var e=Ln;return Ln=t,function(){Ln=e}}function Dn(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){while(n.$options.abstract&&n.$parent)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function In(t){t.prototype._update=function(t,e){var n=this,i=n.$el,r=n._vnode,a=Rn(n);n._vnode=t,n.$el=r?n.__patch__(r,t):n.__patch__(n.$el,t,e,!1),a(),i&&(i.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){jn(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||y(e.$children,t),t._watcher&&t._watcher.teardown();var n=t._watchers.length;while(n--)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),jn(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}function Pn(t,e,n){var i;return t.$el=e,t.$options.render||(t.$options.render=kt),jn(t,"beforeMount"),i=function(){t._update(t._render(),n)},new ni(t,i,I,{before:function(){t._isMounted&&!t._isDestroyed&&jn(t,"beforeUpdate")}},!0),n=!1,null==t.$vnode&&(t._isMounted=!0,jn(t,"mounted")),t}function Mn(t,e,i,r,a){var o=r.data.scopedSlots,s=t.$scopedSlots,l=!!(o&&!o.$stable||s!==n&&!s.$stable||o&&t.$scopedSlots.$key!==o.$key),c=!!(a||t.$options._renderChildren||l);if(t.$options._parentVnode=r,t.$vnode=r,t._vnode&&(t._vnode.parent=r),t.$options._renderChildren=a,t.$attrs=r.data.attrs||n,t.$listeners=i||n,e&&t.$options.props){Ot(!1);for(var u=t._props,d=t.$options._propKeys||[],h=0;h<d.length;h++){var f=d[h],p=t.$options.props;u[f]=Xt(f,p,e,t)}Ot(!0),t.$options.propsData=e}i=i||n;var m=t.$options._parentListeners;t.$options._parentListeners=i,Cn(t,i,m),c&&(t.$slots=Re(a,r.context),t.$forceUpdate())}function Fn(t){while(t&&(t=t.$parent))if(t._inactive)return!0;return!1}function Bn(t,e){if(e){if(t._directInactive=!1,Fn(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)Bn(t.$children[n]);jn(t,"activated")}}function Nn(t,e){if((!e||(t._directInactive=!0,!Fn(t)))&&!t._inactive){t._inactive=!0;for(var n=0;n<t.$children.length;n++)Nn(t.$children[n]);jn(t,"deactivated")}}function jn(t,e){gt();var n=t.$options[e],i=e+" hook";if(n)for(var r=0,a=n.length;r<a;r++)ne(n[r],t,null,t,i);t._hasHookEvent&&t.$emit("hook:"+e),yt()}var $n=[],Un=[],zn={},Vn=!1,Hn=!1,qn=0;function Gn(){qn=$n.length=Un.length=0,zn={},Vn=Hn=!1}var Wn=0,Kn=Date.now;if(X&&!tt){var Yn=window.performance;Yn&&"function"===typeof Yn.now&&Kn()>document.createEvent("Event").timeStamp&&(Kn=function(){return Yn.now()})}function Xn(){var t,e;for(Wn=Kn(),Hn=!0,$n.sort((function(t,e){return t.id-e.id})),qn=0;qn<$n.length;qn++)t=$n[qn],t.before&&t.before(),e=t.id,zn[e]=null,t.run();var n=Un.slice(),i=$n.slice();Gn(),Zn(n),Qn(i),ct&&z.devtools&&ct.emit("flush")}function Qn(t){var e=t.length;while(e--){var n=t[e],i=n.vm;i._watcher===n&&i._isMounted&&!i._isDestroyed&&jn(i,"updated")}}function Jn(t){t._inactive=!1,Un.push(t)}function Zn(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Bn(t[e],!0)}function ti(t){var e=t.id;if(null==zn[e]){if(zn[e]=!0,Hn){var n=$n.length-1;while(n>qn&&$n[n].id>t.id)n--;$n.splice(n+1,0,t)}else $n.push(t);Vn||(Vn=!0,pe(Xn))}}var ei=0,ni=function(t,e,n,i,r){this.vm=t,r&&(t._watcher=this),t._watchers.push(this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync,this.before=i.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++ei,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new dt,this.newDepIds=new dt,this.expression="","function"===typeof e?this.getter=e:(this.getter=W(e),this.getter||(this.getter=I)),this.value=this.lazy?void 0:this.get()};ni.prototype.get=function(){var t;gt(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(xo){if(!this.user)throw xo;ee(xo,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&ve(t),yt(),this.cleanupDeps()}return t},ni.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},ni.prototype.cleanupDeps=function(){var t=this.deps.length;while(t--){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},ni.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():ti(this)},ni.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||l(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(xo){ee(xo,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},ni.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},ni.prototype.depend=function(){var t=this.deps.length;while(t--)this.deps[t].depend()},ni.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||y(this.vm._watchers,this);var t=this.deps.length;while(t--)this.deps[t].removeSub(this);this.active=!1}};var ii={enumerable:!0,configurable:!0,get:I,set:I};function ri(t,e,n){ii.get=function(){return this[e][n]},ii.set=function(t){this[e][n]=t},Object.defineProperty(t,n,ii)}function ai(t){t._watchers=[];var e=t.$options;e.props&&oi(t,e.props),e.methods&&pi(t,e.methods),e.data?si(t):It(t._data={},!0),e.computed&&ui(t,e.computed),e.watch&&e.watch!==at&&mi(t,e.watch)}function oi(t,e){var n=t.$options.propsData||{},i=t._props={},r=t.$options._propKeys=[],a=!t.$parent;a||Ot(!1);var o=function(a){r.push(a);var o=Xt(a,e,n,t);Pt(i,a,o),a in t||ri(t,"_props",a)};for(var s in e)o(s);Ot(!0)}function si(t){var e=t.$options.data;e=t._data="function"===typeof e?li(e,t):e||{},u(e)||(e={});var n=Object.keys(e),i=t.$options.props,r=(t.$options.methods,n.length);while(r--){var a=n[r];0,i&&w(i,a)||H(a)||ri(t,"_data",a)}It(e,!0)}function li(t,e){gt();try{return t.call(e,e)}catch(xo){return ee(xo,e,"data()"),{}}finally{yt()}}var ci={lazy:!0};function ui(t,e){var n=t._computedWatchers=Object.create(null),i=lt();for(var r in e){var a=e[r],o="function"===typeof a?a:a.get;0,i||(n[r]=new ni(t,o||I,I,ci)),r in t||di(t,r,a)}}function di(t,e,n){var i=!lt();"function"===typeof n?(ii.get=i?hi(e):fi(n),ii.set=I):(ii.get=n.get?i&&!1!==n.cache?hi(e):fi(n.get):I,ii.set=n.set||I),Object.defineProperty(t,e,ii)}function hi(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),mt.target&&e.depend(),e.value}}function fi(t){return function(){return t.call(this,this)}}function pi(t,e){t.$options.props;for(var n in e)t[n]="function"!==typeof e[n]?I:O(e[n],t)}function mi(t,e){for(var n in e){var i=e[n];if(Array.isArray(i))for(var r=0;r<i.length;r++)vi(t,n,i[r]);else vi(t,n,i)}}function vi(t,e,n,i){return u(n)&&(i=n,n=n.handler),"string"===typeof n&&(n=t[n]),t.$watch(e,n,i)}function gi(t){var e={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=Mt,t.prototype.$delete=Ft,t.prototype.$watch=function(t,e,n){var i=this;if(u(e))return vi(i,t,e,n);n=n||{},n.user=!0;var r=new ni(i,t,e,n);if(n.immediate)try{e.call(i,r.value)}catch(a){ee(a,i,'callback for immediate watcher "'+r.expression+'"')}return function(){r.teardown()}}}var yi=0;function bi(t){t.prototype._init=function(t){var e=this;e._uid=yi++,e._isVue=!0,t&&t._isComponent?wi(e,t):e.$options=Kt(ki(e.constructor),t||{},e),e._renderProxy=e,e._self=e,Dn(e),Tn(e),mn(e),jn(e,"beforeCreate"),Oe(e),ai(e),Ce(e),jn(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}function wi(t,e){var n=t.$options=Object.create(t.constructor.options),i=e._parentVnode;n.parent=e.parent,n._parentVnode=i;var r=i.componentOptions;n.propsData=r.propsData,n._parentListeners=r.listeners,n._renderChildren=r.children,n._componentTag=r.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}function ki(t){var e=t.options;if(t.super){var n=ki(t.super),i=t.superOptions;if(n!==i){t.superOptions=n;var r=Si(t);r&&R(t.extendOptions,r),e=t.options=Kt(n,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function Si(t){var e,n=t.options,i=t.sealedOptions;for(var r in n)n[r]!==i[r]&&(e||(e={}),e[r]=n[r]);return e}function xi(t){this._init(t)}function Ti(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=L(arguments,1);return n.unshift(this),"function"===typeof t.install?t.install.apply(t,n):"function"===typeof t&&t.apply(null,n),e.push(t),this}}function Ei(t){t.mixin=function(t){return this.options=Kt(this.options,t),this}}function _i(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,i=n.cid,r=t._Ctor||(t._Ctor={});if(r[i])return r[i];var a=t.name||n.options.name;var o=function(t){this._init(t)};return o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.cid=e++,o.options=Kt(n.options,t),o["super"]=n,o.options.props&&Ai(o),o.options.computed&&Ci(o),o.extend=n.extend,o.mixin=n.mixin,o.use=n.use,$.forEach((function(t){o[t]=n[t]})),a&&(o.options.components[a]=o),o.superOptions=n.options,o.extendOptions=t,o.sealedOptions=R({},o.options),r[i]=o,o}}function Ai(t){var e=t.options.props;for(var n in e)ri(t.prototype,"_props",n)}function Ci(t){var e=t.options.computed;for(var n in e)di(t.prototype,n,e[n])}function Oi(t){$.forEach((function(e){t[e]=function(t,n){return n?("component"===e&&u(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&"function"===typeof n&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}}))}function Li(t){return t&&(t.Ctor.options.name||t.tag)}function Ri(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"===typeof t?t.split(",").indexOf(e)>-1:!!d(t)&&t.test(e)}function Di(t,e){var n=t.cache,i=t.keys,r=t._vnode;for(var a in n){var o=n[a];if(o){var s=Li(o.componentOptions);s&&!e(s)&&Ii(n,a,i,r)}}}function Ii(t,e,n,i){var r=t[e];!r||i&&r.tag===i.tag||r.componentInstance.$destroy(),t[e]=null,y(n,e)}bi(xi),gi(xi),On(xi),In(xi),yn(xi);var Pi=[String,RegExp,Array],Mi={name:"keep-alive",abstract:!0,props:{include:Pi,exclude:Pi,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)Ii(this.cache,t,this.keys)},mounted:function(){var t=this;this.$watch("include",(function(e){Di(t,(function(t){return Ri(e,t)}))})),this.$watch("exclude",(function(e){Di(t,(function(t){return!Ri(e,t)}))}))},render:function(){var t=this.$slots.default,e=xn(t),n=e&&e.componentOptions;if(n){var i=Li(n),r=this,a=r.include,o=r.exclude;if(a&&(!i||!Ri(a,i))||o&&i&&Ri(o,i))return e;var s=this,l=s.cache,c=s.keys,u=null==e.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):e.key;l[u]?(e.componentInstance=l[u].componentInstance,y(c,u),c.push(u)):(l[u]=e,c.push(u),this.max&&c.length>parseInt(this.max)&&Ii(l,c[0],c,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}},Fi={KeepAlive:Mi};function Bi(t){var e={get:function(){return z}};Object.defineProperty(t,"config",e),t.util={warn:ft,extend:R,mergeOptions:Kt,defineReactive:Pt},t.set=Mt,t.delete=Ft,t.nextTick=pe,t.observable=function(t){return It(t),t},t.options=Object.create(null),$.forEach((function(e){t.options[e+"s"]=Object.create(null)})),t.options._base=t,R(t.options.components,Fi),Ti(t),Ei(t),_i(t),Oi(t)}Bi(xi),Object.defineProperty(xi.prototype,"$isServer",{get:lt}),Object.defineProperty(xi.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(xi,"FunctionalRenderContext",{value:Qe}),xi.version="2.6.11";var Ni=v("style,class"),ji=v("input,textarea,option,select,progress"),$i=function(t,e,n){return"value"===n&&ji(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},Ui=v("contenteditable,draggable,spellcheck"),zi=v("events,caret,typing,plaintext-only"),Vi=function(t,e){return Ki(e)||"false"===e?"false":"contenteditable"===t&&zi(e)?e:"true"},Hi=v("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),qi="http://www.w3.org/1999/xlink",Gi=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Wi=function(t){return Gi(t)?t.slice(6,t.length):""},Ki=function(t){return null==t||!1===t};function Yi(t){var e=t.data,n=t,i=t;while(r(i.componentInstance))i=i.componentInstance._vnode,i&&i.data&&(e=Xi(i.data,e));while(r(n=n.parent))n&&n.data&&(e=Xi(e,n.data));return Qi(e.staticClass,e.class)}function Xi(t,e){return{staticClass:Ji(t.staticClass,e.staticClass),class:r(t.class)?[t.class,e.class]:e.class}}function Qi(t,e){return r(t)||r(e)?Ji(t,Zi(e)):""}function Ji(t,e){return t?e?t+" "+e:t:e||""}function Zi(t){return Array.isArray(t)?tr(t):l(t)?er(t):"string"===typeof t?t:""}function tr(t){for(var e,n="",i=0,a=t.length;i<a;i++)r(e=Zi(t[i]))&&""!==e&&(n&&(n+=" "),n+=e);return n}function er(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}var nr={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},ir=v("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),rr=v("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),ar=function(t){return ir(t)||rr(t)};function or(t){return rr(t)?"svg":"math"===t?"math":void 0}var sr=Object.create(null);function lr(t){if(!X)return!0;if(ar(t))return!1;if(t=t.toLowerCase(),null!=sr[t])return sr[t];var e=document.createElement(t);return t.indexOf("-")>-1?sr[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:sr[t]=/HTMLUnknownElement/.test(e.toString())}var cr=v("text,number,password,search,email,tel,url");function ur(t){if("string"===typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}function dr(t,e){var n=document.createElement(t);return"select"!==t||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n}function hr(t,e){return document.createElementNS(nr[t],e)}function fr(t){return document.createTextNode(t)}function pr(t){return document.createComment(t)}function mr(t,e,n){t.insertBefore(e,n)}function vr(t,e){t.removeChild(e)}function gr(t,e){t.appendChild(e)}function yr(t){return t.parentNode}function br(t){return t.nextSibling}function wr(t){return t.tagName}function kr(t,e){t.textContent=e}function Sr(t,e){t.setAttribute(e,"")}var xr=Object.freeze({createElement:dr,createElementNS:hr,createTextNode:fr,createComment:pr,insertBefore:mr,removeChild:vr,appendChild:gr,parentNode:yr,nextSibling:br,tagName:wr,setTextContent:kr,setStyleScope:Sr}),Tr={create:function(t,e){Er(e)},update:function(t,e){t.data.ref!==e.data.ref&&(Er(t,!0),Er(e))},destroy:function(t){Er(t,!0)}};function Er(t,e){var n=t.data.ref;if(r(n)){var i=t.context,a=t.componentInstance||t.elm,o=i.$refs;e?Array.isArray(o[n])?y(o[n],a):o[n]===a&&(o[n]=void 0):t.data.refInFor?Array.isArray(o[n])?o[n].indexOf(a)<0&&o[n].push(a):o[n]=[a]:o[n]=a}}var _r=new bt("",{},[]),Ar=["create","activate","update","remove","destroy"];function Cr(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&r(t.data)===r(e.data)&&Or(t,e)||a(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&i(e.asyncFactory.error))}function Or(t,e){if("input"!==t.tag)return!0;var n,i=r(n=t.data)&&r(n=n.attrs)&&n.type,a=r(n=e.data)&&r(n=n.attrs)&&n.type;return i===a||cr(i)&&cr(a)}function Lr(t,e,n){var i,a,o={};for(i=e;i<=n;++i)a=t[i].key,r(a)&&(o[a]=i);return o}function Rr(t){var e,n,o={},l=t.modules,c=t.nodeOps;for(e=0;e<Ar.length;++e)for(o[Ar[e]]=[],n=0;n<l.length;++n)r(l[n][Ar[e]])&&o[Ar[e]].push(l[n][Ar[e]]);function u(t){return new bt(c.tagName(t).toLowerCase(),{},[],void 0,t)}function d(t,e){function n(){0===--n.listeners&&h(t)}return n.listeners=e,n}function h(t){var e=c.parentNode(t);r(e)&&c.removeChild(e,t)}function f(t,e,n,i,o,s,l){if(r(t.elm)&&r(s)&&(t=s[l]=xt(t)),t.isRootInsert=!o,!p(t,e,n,i)){var u=t.data,d=t.children,h=t.tag;r(h)?(t.elm=t.ns?c.createElementNS(t.ns,h):c.createElement(h,t),S(t),b(t,d,e),r(u)&&k(t,e),y(n,t.elm,i)):a(t.isComment)?(t.elm=c.createComment(t.text),y(n,t.elm,i)):(t.elm=c.createTextNode(t.text),y(n,t.elm,i))}}function p(t,e,n,i){var o=t.data;if(r(o)){var s=r(t.componentInstance)&&o.keepAlive;if(r(o=o.hook)&&r(o=o.init)&&o(t,!1),r(t.componentInstance))return m(t,e),y(n,t.elm,i),a(s)&&g(t,e,n,i),!0}}function m(t,e){r(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,w(t)?(k(t,e),S(t)):(Er(t),e.push(t))}function g(t,e,n,i){var a,s=t;while(s.componentInstance)if(s=s.componentInstance._vnode,r(a=s.data)&&r(a=a.transition)){for(a=0;a<o.activate.length;++a)o.activate[a](_r,s);e.push(s);break}y(n,t.elm,i)}function y(t,e,n){r(t)&&(r(n)?c.parentNode(n)===t&&c.insertBefore(t,e,n):c.appendChild(t,e))}function b(t,e,n){if(Array.isArray(e)){0;for(var i=0;i<e.length;++i)f(e[i],n,t.elm,null,!0,e,i)}else s(t.text)&&c.appendChild(t.elm,c.createTextNode(String(t.text)))}function w(t){while(t.componentInstance)t=t.componentInstance._vnode;return r(t.tag)}function k(t,n){for(var i=0;i<o.create.length;++i)o.create[i](_r,t);e=t.data.hook,r(e)&&(r(e.create)&&e.create(_r,t),r(e.insert)&&n.push(t))}function S(t){var e;if(r(e=t.fnScopeId))c.setStyleScope(t.elm,e);else{var n=t;while(n)r(e=n.context)&&r(e=e.$options._scopeId)&&c.setStyleScope(t.elm,e),n=n.parent}r(e=Ln)&&e!==t.context&&e!==t.fnContext&&r(e=e.$options._scopeId)&&c.setStyleScope(t.elm,e)}function x(t,e,n,i,r,a){for(;i<=r;++i)f(n[i],a,t,e,!1,n,i)}function T(t){var e,n,i=t.data;if(r(i))for(r(e=i.hook)&&r(e=e.destroy)&&e(t),e=0;e<o.destroy.length;++e)o.destroy[e](t);if(r(e=t.children))for(n=0;n<t.children.length;++n)T(t.children[n])}function E(t,e,n){for(;e<=n;++e){var i=t[e];r(i)&&(r(i.tag)?(_(i),T(i)):h(i.elm))}}function _(t,e){if(r(e)||r(t.data)){var n,i=o.remove.length+1;for(r(e)?e.listeners+=i:e=d(t.elm,i),r(n=t.componentInstance)&&r(n=n._vnode)&&r(n.data)&&_(n,e),n=0;n<o.remove.length;++n)o.remove[n](t,e);r(n=t.data.hook)&&r(n=n.remove)?n(t,e):e()}else h(t.elm)}function A(t,e,n,a,o){var s,l,u,d,h=0,p=0,m=e.length-1,v=e[0],g=e[m],y=n.length-1,b=n[0],w=n[y],k=!o;while(h<=m&&p<=y)i(v)?v=e[++h]:i(g)?g=e[--m]:Cr(v,b)?(O(v,b,a,n,p),v=e[++h],b=n[++p]):Cr(g,w)?(O(g,w,a,n,y),g=e[--m],w=n[--y]):Cr(v,w)?(O(v,w,a,n,y),k&&c.insertBefore(t,v.elm,c.nextSibling(g.elm)),v=e[++h],w=n[--y]):Cr(g,b)?(O(g,b,a,n,p),k&&c.insertBefore(t,g.elm,v.elm),g=e[--m],b=n[++p]):(i(s)&&(s=Lr(e,h,m)),l=r(b.key)?s[b.key]:C(b,e,h,m),i(l)?f(b,a,t,v.elm,!1,n,p):(u=e[l],Cr(u,b)?(O(u,b,a,n,p),e[l]=void 0,k&&c.insertBefore(t,u.elm,v.elm)):f(b,a,t,v.elm,!1,n,p)),b=n[++p]);h>m?(d=i(n[y+1])?null:n[y+1].elm,x(t,d,n,p,y,a)):p>y&&E(e,h,m)}function C(t,e,n,i){for(var a=n;a<i;a++){var o=e[a];if(r(o)&&Cr(t,o))return a}}function O(t,e,n,s,l,u){if(t!==e){r(e.elm)&&r(s)&&(e=s[l]=xt(e));var d=e.elm=t.elm;if(a(t.isAsyncPlaceholder))r(e.asyncFactory.resolved)?D(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(a(e.isStatic)&&a(t.isStatic)&&e.key===t.key&&(a(e.isCloned)||a(e.isOnce)))e.componentInstance=t.componentInstance;else{var h,f=e.data;r(f)&&r(h=f.hook)&&r(h=h.prepatch)&&h(t,e);var p=t.children,m=e.children;if(r(f)&&w(e)){for(h=0;h<o.update.length;++h)o.update[h](t,e);r(h=f.hook)&&r(h=h.update)&&h(t,e)}i(e.text)?r(p)&&r(m)?p!==m&&A(d,p,m,n,u):r(m)?(r(t.text)&&c.setTextContent(d,""),x(d,null,m,0,m.length-1,n)):r(p)?E(p,0,p.length-1):r(t.text)&&c.setTextContent(d,""):t.text!==e.text&&c.setTextContent(d,e.text),r(f)&&r(h=f.hook)&&r(h=h.postpatch)&&h(t,e)}}}function L(t,e,n){if(a(n)&&r(t.parent))t.parent.data.pendingInsert=e;else for(var i=0;i<e.length;++i)e[i].data.hook.insert(e[i])}var R=v("attrs,class,staticClass,staticStyle,key");function D(t,e,n,i){var o,s=e.tag,l=e.data,c=e.children;if(i=i||l&&l.pre,e.elm=t,a(e.isComment)&&r(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(r(l)&&(r(o=l.hook)&&r(o=o.init)&&o(e,!0),r(o=e.componentInstance)))return m(e,n),!0;if(r(s)){if(r(c))if(t.hasChildNodes())if(r(o=l)&&r(o=o.domProps)&&r(o=o.innerHTML)){if(o!==t.innerHTML)return!1}else{for(var u=!0,d=t.firstChild,h=0;h<c.length;h++){if(!d||!D(d,c[h],n,i)){u=!1;break}d=d.nextSibling}if(!u||d)return!1}else b(e,c,n);if(r(l)){var f=!1;for(var p in l)if(!R(p)){f=!0,k(e,n);break}!f&&l["class"]&&ve(l["class"])}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,s){if(!i(e)){var l=!1,d=[];if(i(t))l=!0,f(e,d);else{var h=r(t.nodeType);if(!h&&Cr(t,e))O(t,e,d,null,null,s);else{if(h){if(1===t.nodeType&&t.hasAttribute(j)&&(t.removeAttribute(j),n=!0),a(n)&&D(t,e,d))return L(e,d,!0),t;t=u(t)}var p=t.elm,m=c.parentNode(p);if(f(e,d,p._leaveCb?null:m,c.nextSibling(p)),r(e.parent)){var v=e.parent,g=w(e);while(v){for(var y=0;y<o.destroy.length;++y)o.destroy[y](v);if(v.elm=e.elm,g){for(var b=0;b<o.create.length;++b)o.create[b](_r,v);var k=v.data.hook.insert;if(k.merged)for(var S=1;S<k.fns.length;S++)k.fns[S]()}else Er(v);v=v.parent}}r(m)?E([t],0,0):r(t.tag)&&T(t)}}return L(e,d,l),e.elm}r(t)&&T(t)}}var Dr={create:Ir,update:Ir,destroy:function(t){Ir(t,_r)}};function Ir(t,e){(t.data.directives||e.data.directives)&&Pr(t,e)}function Pr(t,e){var n,i,r,a=t===_r,o=e===_r,s=Fr(t.data.directives,t.context),l=Fr(e.data.directives,e.context),c=[],u=[];for(n in l)i=s[n],r=l[n],i?(r.oldValue=i.value,r.oldArg=i.arg,Nr(r,"update",e,t),r.def&&r.def.componentUpdated&&u.push(r)):(Nr(r,"bind",e,t),r.def&&r.def.inserted&&c.push(r));if(c.length){var d=function(){for(var n=0;n<c.length;n++)Nr(c[n],"inserted",e,t)};a?ke(e,"insert",d):d()}if(u.length&&ke(e,"postpatch",(function(){for(var n=0;n<u.length;n++)Nr(u[n],"componentUpdated",e,t)})),!a)for(n in s)l[n]||Nr(s[n],"unbind",t,t,o)}var Mr=Object.create(null);function Fr(t,e){var n,i,r=Object.create(null);if(!t)return r;for(n=0;n<t.length;n++)i=t[n],i.modifiers||(i.modifiers=Mr),r[Br(i)]=i,i.def=Yt(e.$options,"directives",i.name,!0);return r}function Br(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function Nr(t,e,n,i,r){var a=t.def&&t.def[e];if(a)try{a(n.elm,t,n,i,r)}catch(xo){ee(xo,n.context,"directive "+t.name+" "+e+" hook")}}var jr=[Tr,Dr];function $r(t,e){var n=e.componentOptions;if((!r(n)||!1!==n.Ctor.options.inheritAttrs)&&(!i(t.data.attrs)||!i(e.data.attrs))){var a,o,s,l=e.elm,c=t.data.attrs||{},u=e.data.attrs||{};for(a in r(u.__ob__)&&(u=e.data.attrs=R({},u)),u)o=u[a],s=c[a],s!==o&&Ur(l,a,o);for(a in(tt||nt)&&u.value!==c.value&&Ur(l,"value",u.value),c)i(u[a])&&(Gi(a)?l.removeAttributeNS(qi,Wi(a)):Ui(a)||l.removeAttribute(a))}}function Ur(t,e,n){t.tagName.indexOf("-")>-1?zr(t,e,n):Hi(e)?Ki(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):Ui(e)?t.setAttribute(e,Vi(e,n)):Gi(e)?Ki(n)?t.removeAttributeNS(qi,Wi(e)):t.setAttributeNS(qi,e,n):zr(t,e,n)}function zr(t,e,n){if(Ki(n))t.removeAttribute(e);else{if(tt&&!et&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var i=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",i)};t.addEventListener("input",i),t.__ieph=!0}t.setAttribute(e,n)}}var Vr={create:$r,update:$r};function Hr(t,e){var n=e.elm,a=e.data,o=t.data;if(!(i(a.staticClass)&&i(a.class)&&(i(o)||i(o.staticClass)&&i(o.class)))){var s=Yi(e),l=n._transitionClasses;r(l)&&(s=Ji(s,Zi(l))),s!==n._prevClass&&(n.setAttribute("class",s),n._prevClass=s)}}var qr,Gr={create:Hr,update:Hr},Wr="__r",Kr="__c";function Yr(t){if(r(t[Wr])){var e=tt?"change":"input";t[e]=[].concat(t[Wr],t[e]||[]),delete t[Wr]}r(t[Kr])&&(t.change=[].concat(t[Kr],t.change||[]),delete t[Kr])}function Xr(t,e,n){var i=qr;return function r(){var a=e.apply(null,arguments);null!==a&&Zr(t,r,n,i)}}var Qr=oe&&!(rt&&Number(rt[1])<=53);function Jr(t,e,n,i){if(Qr){var r=Wn,a=e;e=a._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=r||t.timeStamp<=0||t.target.ownerDocument!==document)return a.apply(this,arguments)}}qr.addEventListener(t,e,ot?{capture:n,passive:i}:n)}function Zr(t,e,n,i){(i||qr).removeEventListener(t,e._wrapper||e,n)}function ta(t,e){if(!i(t.data.on)||!i(e.data.on)){var n=e.data.on||{},r=t.data.on||{};qr=e.elm,Yr(n),we(n,r,Jr,Zr,Xr,e.context),qr=void 0}}var ea,na={create:ta,update:ta};function ia(t,e){if(!i(t.data.domProps)||!i(e.data.domProps)){var n,a,o=e.elm,s=t.data.domProps||{},l=e.data.domProps||{};for(n in r(l.__ob__)&&(l=e.data.domProps=R({},l)),s)n in l||(o[n]="");for(n in l){if(a=l[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),a===s[n])continue;1===o.childNodes.length&&o.removeChild(o.childNodes[0])}if("value"===n&&"PROGRESS"!==o.tagName){o._value=a;var c=i(a)?"":String(a);ra(o,c)&&(o.value=c)}else if("innerHTML"===n&&rr(o.tagName)&&i(o.innerHTML)){ea=ea||document.createElement("div"),ea.innerHTML="<svg>"+a+"</svg>";var u=ea.firstChild;while(o.firstChild)o.removeChild(o.firstChild);while(u.firstChild)o.appendChild(u.firstChild)}else if(a!==s[n])try{o[n]=a}catch(xo){}}}}function ra(t,e){return!t.composing&&("OPTION"===t.tagName||aa(t,e)||oa(t,e))}function aa(t,e){var n=!0;try{n=document.activeElement!==t}catch(xo){}return n&&t.value!==e}function oa(t,e){var n=t.value,i=t._vModifiers;if(r(i)){if(i.number)return m(n)!==m(e);if(i.trim)return n.trim()!==e.trim()}return n!==e}var sa={create:ia,update:ia},la=k((function(t){var e={},n=/;(?![^(]*\))/g,i=/:(.+)/;return t.split(n).forEach((function(t){if(t){var n=t.split(i);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}));function ca(t){var e=ua(t.style);return t.staticStyle?R(t.staticStyle,e):e}function ua(t){return Array.isArray(t)?D(t):"string"===typeof t?la(t):t}function da(t,e){var n,i={};if(e){var r=t;while(r.componentInstance)r=r.componentInstance._vnode,r&&r.data&&(n=ca(r.data))&&R(i,n)}(n=ca(t.data))&&R(i,n);var a=t;while(a=a.parent)a.data&&(n=ca(a.data))&&R(i,n);return i}var ha,fa=/^--/,pa=/\s*!important$/,ma=function(t,e,n){if(fa.test(e))t.style.setProperty(e,n);else if(pa.test(n))t.style.setProperty(_(e),n.replace(pa,""),"important");else{var i=ga(e);if(Array.isArray(n))for(var r=0,a=n.length;r<a;r++)t.style[i]=n[r];else t.style[i]=n}},va=["Webkit","Moz","ms"],ga=k((function(t){if(ha=ha||document.createElement("div").style,t=x(t),"filter"!==t&&t in ha)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<va.length;n++){var i=va[n]+e;if(i in ha)return i}}));function ya(t,e){var n=e.data,a=t.data;if(!(i(n.staticStyle)&&i(n.style)&&i(a.staticStyle)&&i(a.style))){var o,s,l=e.elm,c=a.staticStyle,u=a.normalizedStyle||a.style||{},d=c||u,h=ua(e.data.style)||{};e.data.normalizedStyle=r(h.__ob__)?R({},h):h;var f=da(e,!0);for(s in d)i(f[s])&&ma(l,s,"");for(s in f)o=f[s],o!==d[s]&&ma(l,s,null==o?"":o)}}var ba={create:ya,update:ya},wa=/\s+/;function ka(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(wa).forEach((function(e){return t.classList.add(e)})):t.classList.add(e);else{var n=" "+(t.getAttribute("class")||"")+" ";n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function Sa(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(wa).forEach((function(e){return t.classList.remove(e)})):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{var n=" "+(t.getAttribute("class")||"")+" ",i=" "+e+" ";while(n.indexOf(i)>=0)n=n.replace(i," ");n=n.trim(),n?t.setAttribute("class",n):t.removeAttribute("class")}}function xa(t){if(t){if("object"===typeof t){var e={};return!1!==t.css&&R(e,Ta(t.name||"v")),R(e,t),e}return"string"===typeof t?Ta(t):void 0}}var Ta=k((function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}})),Ea=X&&!et,_a="transition",Aa="animation",Ca="transition",Oa="transitionend",La="animation",Ra="animationend";Ea&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Ca="WebkitTransition",Oa="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(La="WebkitAnimation",Ra="webkitAnimationEnd"));var Da=X?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function Ia(t){Da((function(){Da(t)}))}function Pa(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),ka(t,e))}function Ma(t,e){t._transitionClasses&&y(t._transitionClasses,e),Sa(t,e)}function Fa(t,e,n){var i=Na(t,e),r=i.type,a=i.timeout,o=i.propCount;if(!r)return n();var s=r===_a?Oa:Ra,l=0,c=function(){t.removeEventListener(s,u),n()},u=function(e){e.target===t&&++l>=o&&c()};setTimeout((function(){l<o&&c()}),a+1),t.addEventListener(s,u)}var Ba=/\b(transform|all)(,|$)/;function Na(t,e){var n,i=window.getComputedStyle(t),r=(i[Ca+"Delay"]||"").split(", "),a=(i[Ca+"Duration"]||"").split(", "),o=ja(r,a),s=(i[La+"Delay"]||"").split(", "),l=(i[La+"Duration"]||"").split(", "),c=ja(s,l),u=0,d=0;e===_a?o>0&&(n=_a,u=o,d=a.length):e===Aa?c>0&&(n=Aa,u=c,d=l.length):(u=Math.max(o,c),n=u>0?o>c?_a:Aa:null,d=n?n===_a?a.length:l.length:0);var h=n===_a&&Ba.test(i[Ca+"Property"]);return{type:n,timeout:u,propCount:d,hasTransform:h}}function ja(t,e){while(t.length<e.length)t=t.concat(t);return Math.max.apply(null,e.map((function(e,n){return $a(e)+$a(t[n])})))}function $a(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function Ua(t,e){var n=t.elm;r(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var a=xa(t.data.transition);if(!i(a)&&!r(n._enterCb)&&1===n.nodeType){var o=a.css,s=a.type,c=a.enterClass,u=a.enterToClass,d=a.enterActiveClass,h=a.appearClass,f=a.appearToClass,p=a.appearActiveClass,v=a.beforeEnter,g=a.enter,y=a.afterEnter,b=a.enterCancelled,w=a.beforeAppear,k=a.appear,S=a.afterAppear,x=a.appearCancelled,T=a.duration,E=Ln,_=Ln.$vnode;while(_&&_.parent)E=_.context,_=_.parent;var A=!E._isMounted||!t.isRootInsert;if(!A||k||""===k){var C=A&&h?h:c,O=A&&p?p:d,L=A&&f?f:u,R=A&&w||v,D=A&&"function"===typeof k?k:g,I=A&&S||y,P=A&&x||b,M=m(l(T)?T.enter:T);0;var F=!1!==o&&!et,B=Ha(D),j=n._enterCb=N((function(){F&&(Ma(n,L),Ma(n,O)),j.cancelled?(F&&Ma(n,C),P&&P(n)):I&&I(n),n._enterCb=null}));t.data.show||ke(t,"insert",(function(){var e=n.parentNode,i=e&&e._pending&&e._pending[t.key];i&&i.tag===t.tag&&i.elm._leaveCb&&i.elm._leaveCb(),D&&D(n,j)})),R&&R(n),F&&(Pa(n,C),Pa(n,O),Ia((function(){Ma(n,C),j.cancelled||(Pa(n,L),B||(Va(M)?setTimeout(j,M):Fa(n,s,j)))}))),t.data.show&&(e&&e(),D&&D(n,j)),F||B||j()}}}function za(t,e){var n=t.elm;r(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var a=xa(t.data.transition);if(i(a)||1!==n.nodeType)return e();if(!r(n._leaveCb)){var o=a.css,s=a.type,c=a.leaveClass,u=a.leaveToClass,d=a.leaveActiveClass,h=a.beforeLeave,f=a.leave,p=a.afterLeave,v=a.leaveCancelled,g=a.delayLeave,y=a.duration,b=!1!==o&&!et,w=Ha(f),k=m(l(y)?y.leave:y);0;var S=n._leaveCb=N((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),b&&(Ma(n,u),Ma(n,d)),S.cancelled?(b&&Ma(n,c),v&&v(n)):(e(),p&&p(n)),n._leaveCb=null}));g?g(x):x()}function x(){S.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),h&&h(n),b&&(Pa(n,c),Pa(n,d),Ia((function(){Ma(n,c),S.cancelled||(Pa(n,u),w||(Va(k)?setTimeout(S,k):Fa(n,s,S)))}))),f&&f(n,S),b||w||S())}}function Va(t){return"number"===typeof t&&!isNaN(t)}function Ha(t){if(i(t))return!1;var e=t.fns;return r(e)?Ha(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function qa(t,e){!0!==e.data.show&&Ua(e)}var Ga=X?{create:qa,activate:qa,remove:function(t,e){!0!==t.data.show?za(t,e):e()}}:{},Wa=[Vr,Gr,na,sa,ba,Ga],Ka=Wa.concat(jr),Ya=Rr({nodeOps:xr,modules:Ka});et&&document.addEventListener("selectionchange",(function(){var t=document.activeElement;t&&t.vmodel&&io(t,"input")}));var Xa={inserted:function(t,e,n,i){"select"===n.tag?(i.elm&&!i.elm._vOptions?ke(n,"postpatch",(function(){Xa.componentUpdated(t,e,n)})):Qa(t,e,n.context),t._vOptions=[].map.call(t.options,to)):("textarea"===n.tag||cr(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",eo),t.addEventListener("compositionend",no),t.addEventListener("change",no),et&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){Qa(t,e,n.context);var i=t._vOptions,r=t._vOptions=[].map.call(t.options,to);if(r.some((function(t,e){return!F(t,i[e])}))){var a=t.multiple?e.value.some((function(t){return Za(t,r)})):e.value!==e.oldValue&&Za(e.value,r);a&&io(t,"change")}}}};function Qa(t,e,n){Ja(t,e,n),(tt||nt)&&setTimeout((function(){Ja(t,e,n)}),0)}function Ja(t,e,n){var i=e.value,r=t.multiple;if(!r||Array.isArray(i)){for(var a,o,s=0,l=t.options.length;s<l;s++)if(o=t.options[s],r)a=B(i,to(o))>-1,o.selected!==a&&(o.selected=a);else if(F(to(o),i))return void(t.selectedIndex!==s&&(t.selectedIndex=s));r||(t.selectedIndex=-1)}}function Za(t,e){return e.every((function(e){return!F(e,t)}))}function to(t){return"_value"in t?t._value:t.value}function eo(t){t.target.composing=!0}function no(t){t.target.composing&&(t.target.composing=!1,io(t.target,"input"))}function io(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function ro(t){return!t.componentInstance||t.data&&t.data.transition?t:ro(t.componentInstance._vnode)}var ao={bind:function(t,e,n){var i=e.value;n=ro(n);var r=n.data&&n.data.transition,a=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;i&&r?(n.data.show=!0,Ua(n,(function(){t.style.display=a}))):t.style.display=i?a:"none"},update:function(t,e,n){var i=e.value,r=e.oldValue;if(!i!==!r){n=ro(n);var a=n.data&&n.data.transition;a?(n.data.show=!0,i?Ua(n,(function(){t.style.display=t.__vOriginalDisplay})):za(n,(function(){t.style.display="none"}))):t.style.display=i?t.__vOriginalDisplay:"none"}},unbind:function(t,e,n,i,r){r||(t.style.display=t.__vOriginalDisplay)}},oo={model:Xa,show:ao},so={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function lo(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?lo(xn(e.children)):t}function co(t){var e={},n=t.$options;for(var i in n.propsData)e[i]=t[i];var r=n._parentListeners;for(var a in r)e[x(a)]=r[a];return e}function uo(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function ho(t){while(t=t.parent)if(t.data.transition)return!0}function fo(t,e){return e.key===t.key&&e.tag===t.tag}var po=function(t){return t.tag||Sn(t)},mo=function(t){return"show"===t.name},vo={name:"transition",props:so,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(po),n.length)){0;var i=this.mode;0;var r=n[0];if(ho(this.$vnode))return r;var a=lo(r);if(!a)return r;if(this._leaving)return uo(t,r);var o="__transition-"+this._uid+"-";a.key=null==a.key?a.isComment?o+"comment":o+a.tag:s(a.key)?0===String(a.key).indexOf(o)?a.key:o+a.key:a.key;var l=(a.data||(a.data={})).transition=co(this),c=this._vnode,u=lo(c);if(a.data.directives&&a.data.directives.some(mo)&&(a.data.show=!0),u&&u.data&&!fo(a,u)&&!Sn(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var d=u.data.transition=R({},l);if("out-in"===i)return this._leaving=!0,ke(d,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),uo(t,r);if("in-out"===i){if(Sn(a))return c;var h,f=function(){h()};ke(l,"afterEnter",f),ke(l,"enterCancelled",f),ke(d,"delayLeave",(function(t){h=t}))}}return r}}},go=R({tag:String,moveClass:String},so);delete go.mode;var yo={props:go,beforeMount:function(){var t=this,e=this._update;this._update=function(n,i){var r=Rn(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,r(),e.call(t,n,i)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),i=this.prevChildren=this.children,r=this.$slots.default||[],a=this.children=[],o=co(this),s=0;s<r.length;s++){var l=r[s];if(l.tag)if(null!=l.key&&0!==String(l.key).indexOf("__vlist"))a.push(l),n[l.key]=l,(l.data||(l.data={})).transition=o;else;}if(i){for(var c=[],u=[],d=0;d<i.length;d++){var h=i[d];h.data.transition=o,h.data.pos=h.elm.getBoundingClientRect(),n[h.key]?c.push(h):u.push(h)}this.kept=t(e,null,c),this.removed=u}return t(e,null,a)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(bo),t.forEach(wo),t.forEach(ko),this._reflow=document.body.offsetHeight,t.forEach((function(t){if(t.data.moved){var n=t.elm,i=n.style;Pa(n,e),i.transform=i.WebkitTransform=i.transitionDuration="",n.addEventListener(Oa,n._moveCb=function t(i){i&&i.target!==n||i&&!/transform$/.test(i.propertyName)||(n.removeEventListener(Oa,t),n._moveCb=null,Ma(n,e))})}})))},methods:{hasMove:function(t,e){if(!Ea)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach((function(t){Sa(n,t)})),ka(n,e),n.style.display="none",this.$el.appendChild(n);var i=Na(n);return this.$el.removeChild(n),this._hasMove=i.hasTransform}}};function bo(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function wo(t){t.data.newPos=t.elm.getBoundingClientRect()}function ko(t){var e=t.data.pos,n=t.data.newPos,i=e.left-n.left,r=e.top-n.top;if(i||r){t.data.moved=!0;var a=t.elm.style;a.transform=a.WebkitTransform="translate("+i+"px,"+r+"px)",a.transitionDuration="0s"}}var So={Transition:vo,TransitionGroup:yo};xi.config.mustUseProp=$i,xi.config.isReservedTag=ar,xi.config.isReservedAttr=Ni,xi.config.getTagNamespace=or,xi.config.isUnknownElement=lr,R(xi.options.directives,oo),R(xi.options.components,So),xi.prototype.__patch__=X?Ya:I,xi.prototype.$mount=function(t,e){return t=t&&X?ur(t):void 0,Pn(this,t,e)},X&&setTimeout((function(){z.devtools&&ct&&ct.emit("init",xi)}),0),e["a"]=xi}).call(this,n("c8ba"))},"2b27":function(t,e,n){(function(){var e={expires:"1d",path:"; path=/",domain:"",secure:"",sameSite:""},n={install:function(t){t.prototype.$cookies=this,t.$cookies=this},config:function(t,n,i,r,a){e.expires=t||"1d",e.path=n?"; path="+n:"; path=/",e.domain=i?"; domain="+i:"",e.secure=r?"; Secure":"",e.sameSite=a?"; SameSite="+a:""},get:function(t){var e=decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null;if(e&&"{"===e.substring(0,1)&&"}"===e.substring(e.length-1,e.length))try{e=JSON.parse(e)}catch(n){return e}return e},set:function(t,n,i,r,a,o,s){if(!t)throw new Error("Cookie name is not find in first argument.");if(/^(?:expires|max\-age|path|domain|secure|SameSite)$/i.test(t))throw new Error("Cookie key name illegality, Cannot be set to ['expires','max-age','path','domain','secure','SameSite']\t current key name: "+t);n&&n.constructor===Object&&(n=JSON.stringify(n));var l="";if(i=void 0===i?e.expires:i,i&&0!=i)switch(i.constructor){case Number:l=i===1/0||-1===i?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+i;break;case String:if(/^(?:\d{1,}(y|m|d|h|min|s))$/i.test(i)){var c=i.replace(/^(\d{1,})(?:y|m|d|h|min|s)$/i,"$1");switch(i.replace(/^(?:\d{1,})(y|m|d|h|min|s)$/i,"$1").toLowerCase()){case"m":l="; max-age="+2592e3*+c;break;case"d":l="; max-age="+86400*+c;break;case"h":l="; max-age="+3600*+c;break;case"min":l="; max-age="+60*+c;break;case"s":l="; max-age="+c;break;case"y":l="; max-age="+31104e3*+c;break;default:new Error("unknown exception of 'set operation'")}}else l="; expires="+i;break;case Date:l="; expires="+i.toUTCString();break}return document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(n)+l+(a?"; domain="+a:e.domain)+(r?"; path="+r:e.path)+(void 0===o?e.secure:o?"; Secure":"")+(void 0===s?e.sameSite:s?"; SameSite="+s:""),this},remove:function(t,n,i){return!(!t||!this.isKey(t))&&(document.cookie=encodeURIComponent(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(i?"; domain="+i:e.domain)+(n?"; path="+n:e.path),this)},isKey:function(t){return new RegExp("(?:^|;\\s*)"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){if(!document.cookie)return[];for(var t=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),e=0;e<t.length;e++)t[e]=decodeURIComponent(t[e]);return t}};t.exports=n,"undefined"!==typeof window&&(window.$cookies=n)})()},"2cf4":function(t,e,n){var i,r,a,o=n("da84"),s=n("d039"),l=n("c6b6"),c=n("0366"),u=n("1be4"),d=n("cc12"),h=n("1cdc"),f=o.location,p=o.setImmediate,m=o.clearImmediate,v=o.process,g=o.MessageChannel,y=o.Dispatch,b=0,w={},k="onreadystatechange",S=function(t){if(w.hasOwnProperty(t)){var e=w[t];delete w[t],e()}},x=function(t){return function(){S(t)}},T=function(t){S(t.data)},E=function(t){o.postMessage(t+"",f.protocol+"//"+f.host)};p&&m||(p=function(t){var e=[],n=1;while(arguments.length>n)e.push(arguments[n++]);return w[++b]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},i(b),b},m=function(t){delete w[t]},"process"==l(v)?i=function(t){v.nextTick(x(t))}:y&&y.now?i=function(t){y.now(x(t))}:g&&!h?(r=new g,a=r.port2,r.port1.onmessage=T,i=c(a.postMessage,a,1)):!o.addEventListener||"function"!=typeof postMessage||o.importScripts||s(E)||"file:"===f.protocol?i=k in d("script")?function(t){u.appendChild(d("script"))[k]=function(){u.removeChild(this),S(t)}}:function(t){setTimeout(x(t),0)}:(i=E,o.addEventListener("message",T,!1))),t.exports={set:p,clear:m}},"2d00":function(t,e,n){var i,r,a=n("da84"),o=n("342f"),s=a.process,l=s&&s.versions,c=l&&l.v8;c?(i=c.split("."),r=i[0]+i[1]):o&&(i=o.match(/Edge\/(\d+)/),(!i||i[1]>=74)&&(i=o.match(/Chrome\/(\d+)/),i&&(r=i[1]))),t.exports=r&&+r},"2d83":function(t,e,n){"use strict";var i=n("387f");t.exports=function(t,e,n,r,a){var o=new Error(t);return i(o,e,n,r,a)}},"2e67":function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},"30b5":function(t,e,n){"use strict";var i=n("c532");function r(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var a;if(n)a=n(e);else if(i.isURLSearchParams(e))a=e.toString();else{var o=[];i.forEach(e,(function(t,e){null!==t&&"undefined"!==typeof t&&(i.isArray(t)?e+="[]":t=[t],i.forEach(t,(function(t){i.isDate(t)?t=t.toISOString():i.isObject(t)&&(t=JSON.stringify(t)),o.push(r(e)+"="+r(t))})))})),a=o.join("&")}if(a){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+a}return t}},"342f":function(t,e,n){var i=n("d066");t.exports=i("navigator","userAgent")||""},"343b":function(t,e,n){"use strict";var i=n("283e"),r=n.n(i);e["a"]=r.a},"35a1":function(t,e,n){var i=n("f5df"),r=n("3f8c"),a=n("b622"),o=a("iterator");t.exports=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||r[i(t)]}},"37e8":function(t,e,n){var i=n("83ab"),r=n("9bf2"),a=n("825a"),o=n("df75");t.exports=i?Object.defineProperties:function(t,e){a(t);var n,i=o(e),s=i.length,l=0;while(s>l)r.f(t,n=i[l++],e[n]);return t}},"387f":function(t,e,n){"use strict";t.exports=function(t,e,n,i,r){return t.config=e,n&&(t.code=n),t.request=i,t.response=r,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},3934:function(t,e,n){"use strict";var i=n("c532");t.exports=i.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(t){var i=t;return e&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=r(window.location.href),function(e){var n=i.isString(e)?r(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return function(){return!0}}()},"3bbe":function(t,e,n){var i=n("861d");t.exports=function(t){if(!i(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},"3c69":function(t,e,n){"use strict";var i=n("2b0e"),r=n("1128"),a={name:"",tel:"",save:"",confirm:"",cancel:"",delete:"",complete:"",loading:"...",telEmpty:"",nameEmpty:"",nameInvalid:"",confirmDelete:"",telInvalid:"",vanCalendar:{end:"",start:"",title:"",confirm:"",startEnd:"/",weekdays:["","","","","","",""],monthTitle:function(t,e){return t+""+e+""},rangePrompt:function(t){return" "+t+" "}},vanContactCard:{addText:""},vanContactList:{addText:""},vanPagination:{prev:"",next:""},vanPullRefresh:{pulling:"...",loosing:"..."},vanSubmitBar:{label:""},vanCoupon:{unlimited:"",discount:function(t){return t+""},condition:function(t){return""+t+""}},vanCouponCell:{title:"",tips:"",count:function(t){return t+""}},vanCouponList:{empty:"",exchange:"",close:"",enable:"",disabled:"",placeholder:""},vanAddressEdit:{area:"",postal:"",areaEmpty:"",addressEmpty:"",postalEmpty:"",defaultAddress:"",telPlaceholder:"",namePlaceholder:"",areaPlaceholder:" /  / "},vanAddressEditDetail:{label:"",placeholder:""},vanAddressList:{add:""}},o=i["a"].prototype,s=i["a"].util.defineReactive;s(o,"$vantLang","zh-CN"),s(o,"$vantMessages",{"zh-CN":a});e["a"]={messages:function(){return o.$vantMessages[o.$vantLang]},use:function(t,e){var n;o.$vantLang=t,this.add((n={},n[t]=e,n))},add:function(t){void 0===t&&(t={}),Object(r["a"])(o.$vantMessages,t)}}},"3f8c":function(t,e){t.exports={}},4127:function(t,e,n){"use strict";var i=n("d233"),r=n("b313"),a={brackets:function(t){return t+"[]"},indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},o=Date.prototype.toISOString,s={delimiter:"&",encode:!0,encoder:i.encode,encodeValuesOnly:!1,serializeDate:function(t){return o.call(t)},skipNulls:!1,strictNullHandling:!1},l=function t(e,n,r,a,o,l,c,u,d,h,f,p){var m=e;if("function"===typeof c)m=c(n,m);else if(m instanceof Date)m=h(m);else if(null===m){if(a)return l&&!p?l(n,s.encoder):n;m=""}if("string"===typeof m||"number"===typeof m||"boolean"===typeof m||i.isBuffer(m)){if(l){var v=p?n:l(n,s.encoder);return[f(v)+"="+f(l(m,s.encoder))]}return[f(n)+"="+f(String(m))]}var g,y=[];if("undefined"===typeof m)return y;if(Array.isArray(c))g=c;else{var b=Object.keys(m);g=u?b.sort(u):b}for(var w=0;w<g.length;++w){var k=g[w];o&&null===m[k]||(y=Array.isArray(m)?y.concat(t(m[k],r(n,k),r,a,o,l,c,u,d,h,f,p)):y.concat(t(m[k],n+(d?"."+k:"["+k+"]"),r,a,o,l,c,u,d,h,f,p)))}return y};t.exports=function(t,e){var n=t,o=e?i.assign({},e):{};if(null!==o.encoder&&void 0!==o.encoder&&"function"!==typeof o.encoder)throw new TypeError("Encoder has to be a function.");var c="undefined"===typeof o.delimiter?s.delimiter:o.delimiter,u="boolean"===typeof o.strictNullHandling?o.strictNullHandling:s.strictNullHandling,d="boolean"===typeof o.skipNulls?o.skipNulls:s.skipNulls,h="boolean"===typeof o.encode?o.encode:s.encode,f="function"===typeof o.encoder?o.encoder:s.encoder,p="function"===typeof o.sort?o.sort:null,m="undefined"!==typeof o.allowDots&&o.allowDots,v="function"===typeof o.serializeDate?o.serializeDate:s.serializeDate,g="boolean"===typeof o.encodeValuesOnly?o.encodeValuesOnly:s.encodeValuesOnly;if("undefined"===typeof o.format)o.format=r["default"];else if(!Object.prototype.hasOwnProperty.call(r.formatters,o.format))throw new TypeError("Unknown format option provided.");var y,b,w=r.formatters[o.format];"function"===typeof o.filter?(b=o.filter,n=b("",n)):Array.isArray(o.filter)&&(b=o.filter,y=b);var k,S=[];if("object"!==typeof n||null===n)return"";k=o.arrayFormat in a?o.arrayFormat:"indices"in o?o.indices?"indices":"repeat":"indices";var x=a[k];y||(y=Object.keys(n)),p&&y.sort(p);for(var T=0;T<y.length;++T){var E=y[T];d&&null===n[E]||(S=S.concat(l(n[E],E,x,u,d,h?f:null,b,p,m,v,w,g)))}var _=S.join(c),A=!0===o.addQueryPrefix?"?":"";return _.length>0?A+_:""}},"428f":function(t,e,n){var i=n("da84");t.exports=i},4328:function(t,e,n){"use strict";var i=n("4127"),r=n("9e6a"),a=n("b313");t.exports={formats:a,parse:r,stringify:i}},4362:function(t,e,n){e.nextTick=function(t){var e=Array.prototype.slice.call(arguments);e.shift(),setTimeout((function(){t.apply(null,e)}),0)},e.platform=e.arch=e.execPath=e.title="browser",e.pid=1,e.browser=!0,e.env={},e.argv=[],e.binding=function(t){throw new Error("No such module. (Possibly not yet loaded)")},function(){var t,i="/";e.cwd=function(){return i},e.chdir=function(e){t||(t=n("df7c")),i=t.resolve(e,i)}}(),e.exit=e.kill=e.umask=e.dlopen=e.uptime=e.memoryUsage=e.uvCounters=function(){},e.features={}},"44ad":function(t,e,n){var i=n("d039"),r=n("c6b6"),a="".split;t.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==r(t)?a.call(t,""):Object(t)}:Object},"44d2":function(t,e,n){var i=n("b622"),r=n("7c73"),a=n("9bf2"),o=i("unscopables"),s=Array.prototype;void 0==s[o]&&a.f(s,o,{configurable:!0,value:r(null)}),t.exports=function(t){s[o][t]=!0}},"44de":function(t,e,n){var i=n("da84");t.exports=function(t,e){var n=i.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},"44e7":function(t,e,n){var i=n("861d"),r=n("c6b6"),a=n("b622"),o=a("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},4598:function(t,e,n){"use strict";(function(t){n.d(e,"c",(function(){return c})),n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return d}));var i=n("a142"),r=Date.now();function a(t){var e=Date.now(),n=Math.max(0,16-(e-r)),i=setTimeout(t,n);return r=e+n,i}var o=i["g"]?t:window,s=o.requestAnimationFrame||a,l=o.cancelAnimationFrame||o.clearTimeout;function c(t){return s.call(o,t)}function u(t){c((function(){c(t)}))}function d(t){l.call(o,t)}}).call(this,n("c8ba"))},"467f":function(t,e,n){"use strict";var i=n("2d83");t.exports=function(t,e,n){var r=n.config.validateStatus;!r||r(n.status)?t(n):e(i("Request failed with status code "+n.status,n.config,null,n.request,n))}},4840:function(t,e,n){var i=n("825a"),r=n("1c0b"),a=n("b622"),o=a("species");t.exports=function(t,e){var n,a=i(t).constructor;return void 0===a||void 0==(n=i(a)[o])?e:r(n)}},4930:function(t,e,n){var i=n("d039");t.exports=!!Object.getOwnPropertySymbols&&!i((function(){return!String(Symbol())}))},"4a7b":function(t,e,n){"use strict";var i=n("c532");t.exports=function(t,e){e=e||{};var n={},r=["url","method","params","data"],a=["headers","auth","proxy"],o=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];i.forEach(r,(function(t){"undefined"!==typeof e[t]&&(n[t]=e[t])})),i.forEach(a,(function(r){i.isObject(e[r])?n[r]=i.deepMerge(t[r],e[r]):"undefined"!==typeof e[r]?n[r]=e[r]:i.isObject(t[r])?n[r]=i.deepMerge(t[r]):"undefined"!==typeof t[r]&&(n[r]=t[r])})),i.forEach(o,(function(i){"undefined"!==typeof e[i]?n[i]=e[i]:"undefined"!==typeof t[i]&&(n[i]=t[i])}));var s=r.concat(a).concat(o),l=Object.keys(e).filter((function(t){return-1===s.indexOf(t)}));return i.forEach(l,(function(i){"undefined"!==typeof e[i]?n[i]=e[i]:"undefined"!==typeof t[i]&&(n[i]=t[i])})),n}},"4d64":function(t,e,n){var i=n("fc6a"),r=n("50c4"),a=n("23cb"),o=function(t){return function(e,n,o){var s,l=i(e),c=r(l.length),u=a(o,c);if(t&&n!=n){while(c>u)if(s=l[u++],s!=s)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===n)return t||u||0;return!t&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},"50c4":function(t,e,n){var i=n("a691"),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},5135:function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},5270:function(t,e,n){"use strict";var i=n("c532"),r=n("c401"),a=n("2e67"),o=n("2444");function s(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){s(t),t.headers=t.headers||{},t.data=r(t.data,t.headers,t.transformRequest),t.headers=i.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),i.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]}));var e=t.adapter||o.adapter;return e(t).then((function(e){return s(t),e.data=r(e.data,e.headers,t.transformResponse),e}),(function(e){return a(e)||(s(t),e&&e.response&&(e.response.data=r(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},5692:function(t,e,n){var i=n("c430"),r=n("c6cd");(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:i?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(t,e,n){var i=n("d066"),r=n("241c"),a=n("7418"),o=n("825a");t.exports=i("Reflect","ownKeys")||function(t){var e=r.f(o(t)),n=a.f;return n?e.concat(n(t)):e}},"5c6c":function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"60da":function(t,e,n){"use strict";var i=n("83ab"),r=n("d039"),a=n("df75"),o=n("7418"),s=n("d1e7"),l=n("7b0b"),c=n("44ad"),u=Object.assign,d=Object.defineProperty;t.exports=!u||r((function(){if(i&&1!==u({b:1},u(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=u({},t)[n]||a(u({},e)).join("")!=r}))?function(t,e){var n=l(t),r=arguments.length,u=1,d=o.f,h=s.f;while(r>u){var f,p=c(arguments[u++]),m=d?a(p).concat(d(p)):a(p),v=m.length,g=0;while(v>g)f=m[g++],i&&!h.call(p,f)||(n[f]=p[f])}return n}:u},6547:function(t,e,n){var i=n("a691"),r=n("1d80"),a=function(t){return function(e,n){var a,o,s=String(r(e)),l=i(n),c=s.length;return l<0||l>=c?t?"":void 0:(a=s.charCodeAt(l),a<55296||a>56319||l+1===c||(o=s.charCodeAt(l+1))<56320||o>57343?t?s.charAt(l):a:t?s.slice(l,l+2):o-56320+(a-55296<<10)+65536)}};t.exports={codeAt:a(!1),charAt:a(!0)}},"65f0":function(t,e,n){var i=n("861d"),r=n("e8b5"),a=n("b622"),o=a("species");t.exports=function(t,e){var n;return r(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!r(n.prototype)?i(n)&&(n=n[o],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},"68ed":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return a}));var i=/-(\w)/g;function r(t){return t.replace(i,(function(t,e){return e.toUpperCase()}))}function a(t,e){void 0===e&&(e=2);var n=t+"";while(n.length<e)n="0"+n;return n}},"69f3":function(t,e,n){var i,r,a,o=n("7f9a"),s=n("da84"),l=n("861d"),c=n("9112"),u=n("5135"),d=n("f772"),h=n("d012"),f=s.WeakMap,p=function(t){return a(t)?r(t):i(t,{})},m=function(t){return function(e){var n;if(!l(e)||(n=r(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}};if(o){var v=new f,g=v.get,y=v.has,b=v.set;i=function(t,e){return b.call(v,t,e),e},r=function(t){return g.call(v,t)||{}},a=function(t){return y.call(v,t)}}else{var w=d("state");h[w]=!0,i=function(t,e){return c(t,w,e),e},r=function(t){return u(t,w)?t[w]:{}},a=function(t){return u(t,w)}}t.exports={set:i,get:r,has:a,enforce:p,getterFor:m}},"6eeb":function(t,e,n){var i=n("da84"),r=n("9112"),a=n("5135"),o=n("ce4e"),s=n("8925"),l=n("69f3"),c=l.get,u=l.enforce,d=String(String).split("String");(t.exports=function(t,e,n,s){var l=!!s&&!!s.unsafe,c=!!s&&!!s.enumerable,h=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof e||a(n,"name")||r(n,"name",e),u(n).source=d.join("string"==typeof e?e:"")),t!==i?(l?!h&&t[e]&&(c=!0):delete t[e],c?t[e]=n:r(t,e,n)):c?t[e]=n:o(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||s(this)}))},7418:function(t,e){e.f=Object.getOwnPropertySymbols},7839:function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7a77":function(t,e,n){"use strict";function i(t){this.message=t}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,t.exports=i},"7aac":function(t,e,n){"use strict";var i=n("c532");t.exports=i.isStandardBrowserEnv()?function(){return{write:function(t,e,n,r,a,o){var s=[];s.push(t+"="+encodeURIComponent(e)),i.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),i.isString(r)&&s.push("path="+r),i.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},"7b0b":function(t,e,n){var i=n("1d80");t.exports=function(t){return Object(i(t))}},"7c73":function(t,e,n){var i,r=n("825a"),a=n("37e8"),o=n("7839"),s=n("d012"),l=n("1be4"),c=n("cc12"),u=n("f772"),d=">",h="<",f="prototype",p="script",m=u("IE_PROTO"),v=function(){},g=function(t){return h+p+d+t+h+"/"+p+d},y=function(t){t.write(g("")),t.close();var e=t.parentWindow.Object;return t=null,e},b=function(){var t,e=c("iframe"),n="java"+p+":";return e.style.display="none",l.appendChild(e),e.src=String(n),t=e.contentWindow.document,t.open(),t.write(g("document.F=Object")),t.close(),t.F},w=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch(e){}w=i?y(i):b();var t=o.length;while(t--)delete w[f][o[t]];return w()};s[m]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(v[f]=r(t),n=new v,v[f]=null,n[m]=t):n=w(),void 0===e?n:a(n,e)}},"7dd0":function(t,e,n){"use strict";var i=n("23e7"),r=n("9ed3"),a=n("e163"),o=n("d2bb"),s=n("d44e"),l=n("9112"),c=n("6eeb"),u=n("b622"),d=n("c430"),h=n("3f8c"),f=n("ae93"),p=f.IteratorPrototype,m=f.BUGGY_SAFARI_ITERATORS,v=u("iterator"),g="keys",y="values",b="entries",w=function(){return this};t.exports=function(t,e,n,u,f,k,S){r(n,e,u);var x,T,E,_=function(t){if(t===f&&R)return R;if(!m&&t in O)return O[t];switch(t){case g:return function(){return new n(this,t)};case y:return function(){return new n(this,t)};case b:return function(){return new n(this,t)}}return function(){return new n(this)}},A=e+" Iterator",C=!1,O=t.prototype,L=O[v]||O["@@iterator"]||f&&O[f],R=!m&&L||_(f),D="Array"==e&&O.entries||L;if(D&&(x=a(D.call(new t)),p!==Object.prototype&&x.next&&(d||a(x)===p||(o?o(x,p):"function"!=typeof x[v]&&l(x,v,w)),s(x,A,!0,!0),d&&(h[A]=w))),f==y&&L&&L.name!==y&&(C=!0,R=function(){return L.call(this)}),d&&!S||O[v]===R||l(O,v,R),h[e]=R,f)if(T={values:_(y),keys:k?R:_(g),entries:_(b)},S)for(E in T)(m||C||!(E in O))&&c(O,E,T[E]);else i({target:e,proto:!0,forced:m||C},T);return T}},"7f9a":function(t,e,n){var i=n("da84"),r=n("8925"),a=i.WeakMap;t.exports="function"===typeof a&&/native code/.test(r(a))},"825a":function(t,e,n){var i=n("861d");t.exports=function(t){if(!i(t))throw TypeError(String(t)+" is not an object");return t}},"83ab":function(t,e,n){var i=n("d039");t.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},"83b9":function(t,e,n){"use strict";var i=n("d925"),r=n("e683");t.exports=function(t,e){return t&&!i(e)?r(t,e):e}},8418:function(t,e,n){"use strict";var i=n("c04e"),r=n("9bf2"),a=n("5c6c");t.exports=function(t,e,n){var o=i(e);o in t?r.f(t,o,a(0,n)):t[o]=n}},"861d":function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},8925:function(t,e,n){var i=n("c6cd"),r=Function.toString;"function"!=typeof i.inspectSource&&(i.inspectSource=function(t){return r.call(t)}),t.exports=i.inspectSource},"8aa5":function(t,e,n){"use strict";var i=n("6547").charAt;t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},"8c4f":function(t,e,n){"use strict";
/*!
  * vue-router v3.3.4
  * (c) 2020 Evan You
  * @license MIT
  */function i(t,e){0}function r(t){return Object.prototype.toString.call(t).indexOf("Error")>-1}function a(t,e){return r(t)&&t._isRouter&&(null==e||t.type===e)}function o(t,e){for(var n in e)t[n]=e[n];return t}var s={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(t,e){var n=e.props,i=e.children,r=e.parent,a=e.data;a.routerView=!0;var s=r.$createElement,c=n.name,u=r.$route,d=r._routerViewCache||(r._routerViewCache={}),h=0,f=!1;while(r&&r._routerRoot!==r){var p=r.$vnode?r.$vnode.data:{};p.routerView&&h++,p.keepAlive&&r._directInactive&&r._inactive&&(f=!0),r=r.$parent}if(a.routerViewDepth=h,f){var m=d[c],v=m&&m.component;return v?(m.configProps&&l(v,a,m.route,m.configProps),s(v,a,i)):s()}var g=u.matched[h],y=g&&g.components[c];if(!g||!y)return d[c]=null,s();d[c]={component:y},a.registerRouteInstance=function(t,e){var n=g.instances[c];(e&&n!==t||!e&&n===t)&&(g.instances[c]=e)},(a.hook||(a.hook={})).prepatch=function(t,e){g.instances[c]=e.componentInstance},a.hook.init=function(t){t.data.keepAlive&&t.componentInstance&&t.componentInstance!==g.instances[c]&&(g.instances[c]=t.componentInstance)};var b=g.props&&g.props[c];return b&&(o(d[c],{route:u,configProps:b}),l(y,a,u,b)),s(y,a,i)}};function l(t,e,n,i){var r=e.props=c(n,i);if(r){r=e.props=o({},r);var a=e.attrs=e.attrs||{};for(var s in r)t.props&&s in t.props||(a[s]=r[s],delete r[s])}}function c(t,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(t);case"boolean":return e?t.params:void 0;default:0}}var u=/[!'()*]/g,d=function(t){return"%"+t.charCodeAt(0).toString(16)},h=/%2C/g,f=function(t){return encodeURIComponent(t).replace(u,d).replace(h,",")},p=decodeURIComponent;function m(t,e,n){void 0===e&&(e={});var i,r=n||v;try{i=r(t||"")}catch(o){i={}}for(var a in e)i[a]=e[a];return i}function v(t){var e={};return t=t.trim().replace(/^(\?|#|&)/,""),t?(t.split("&").forEach((function(t){var n=t.replace(/\+/g," ").split("="),i=p(n.shift()),r=n.length>0?p(n.join("=")):null;void 0===e[i]?e[i]=r:Array.isArray(e[i])?e[i].push(r):e[i]=[e[i],r]})),e):e}function g(t){var e=t?Object.keys(t).map((function(e){var n=t[e];if(void 0===n)return"";if(null===n)return f(e);if(Array.isArray(n)){var i=[];return n.forEach((function(t){void 0!==t&&(null===t?i.push(f(e)):i.push(f(e)+"="+f(t)))})),i.join("&")}return f(e)+"="+f(n)})).filter((function(t){return t.length>0})).join("&"):null;return e?"?"+e:""}var y=/\/?$/;function b(t,e,n,i){var r=i&&i.options.stringifyQuery,a=e.query||{};try{a=w(a)}catch(s){}var o={name:e.name||t&&t.name,meta:t&&t.meta||{},path:e.path||"/",hash:e.hash||"",query:a,params:e.params||{},fullPath:x(e,r),matched:t?S(t):[]};return n&&(o.redirectedFrom=x(n,r)),Object.freeze(o)}function w(t){if(Array.isArray(t))return t.map(w);if(t&&"object"===typeof t){var e={};for(var n in t)e[n]=w(t[n]);return e}return t}var k=b(null,{path:"/"});function S(t){var e=[];while(t)e.unshift(t),t=t.parent;return e}function x(t,e){var n=t.path,i=t.query;void 0===i&&(i={});var r=t.hash;void 0===r&&(r="");var a=e||g;return(n||"/")+a(i)+r}function T(t,e){return e===k?t===e:!!e&&(t.path&&e.path?t.path.replace(y,"")===e.path.replace(y,"")&&t.hash===e.hash&&E(t.query,e.query):!(!t.name||!e.name)&&(t.name===e.name&&t.hash===e.hash&&E(t.query,e.query)&&E(t.params,e.params)))}function E(t,e){if(void 0===t&&(t={}),void 0===e&&(e={}),!t||!e)return t===e;var n=Object.keys(t),i=Object.keys(e);return n.length===i.length&&n.every((function(n){var i=t[n],r=e[n];return"object"===typeof i&&"object"===typeof r?E(i,r):String(i)===String(r)}))}function _(t,e){return 0===t.path.replace(y,"/").indexOf(e.path.replace(y,"/"))&&(!e.hash||t.hash===e.hash)&&A(t.query,e.query)}function A(t,e){for(var n in e)if(!(n in t))return!1;return!0}function C(t,e,n){var i=t.charAt(0);if("/"===i)return t;if("?"===i||"#"===i)return e+t;var r=e.split("/");n&&r[r.length-1]||r.pop();for(var a=t.replace(/^\//,"").split("/"),o=0;o<a.length;o++){var s=a[o];".."===s?r.pop():"."!==s&&r.push(s)}return""!==r[0]&&r.unshift(""),r.join("/")}function O(t){var e="",n="",i=t.indexOf("#");i>=0&&(e=t.slice(i),t=t.slice(0,i));var r=t.indexOf("?");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{path:t,query:n,hash:e}}function L(t){return t.replace(/\/\//g,"/")}var R=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},D=Q,I=N,P=j,M=z,F=X,B=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function N(t,e){var n,i=[],r=0,a=0,o="",s=e&&e.delimiter||"/";while(null!=(n=B.exec(t))){var l=n[0],c=n[1],u=n.index;if(o+=t.slice(a,u),a=u+l.length,c)o+=c[1];else{var d=t[a],h=n[2],f=n[3],p=n[4],m=n[5],v=n[6],g=n[7];o&&(i.push(o),o="");var y=null!=h&&null!=d&&d!==h,b="+"===v||"*"===v,w="?"===v||"*"===v,k=n[2]||s,S=p||m;i.push({name:f||r++,prefix:h||"",delimiter:k,optional:w,repeat:b,partial:y,asterisk:!!g,pattern:S?H(S):g?".*":"[^"+V(k)+"]+?"})}}return a<t.length&&(o+=t.substr(a)),o&&i.push(o),i}function j(t,e){return z(N(t,e),e)}function $(t){return encodeURI(t).replace(/[\/?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function U(t){return encodeURI(t).replace(/[?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function z(t,e){for(var n=new Array(t.length),i=0;i<t.length;i++)"object"===typeof t[i]&&(n[i]=new RegExp("^(?:"+t[i].pattern+")$",G(e)));return function(e,i){for(var r="",a=e||{},o=i||{},s=o.pretty?$:encodeURIComponent,l=0;l<t.length;l++){var c=t[l];if("string"!==typeof c){var u,d=a[c.name];if(null==d){if(c.optional){c.partial&&(r+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(R(d)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var h=0;h<d.length;h++){if(u=s(d[h]),!n[l].test(u))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(u)+"`");r+=(0===h?c.prefix:c.delimiter)+u}}else{if(u=c.asterisk?U(d):s(d),!n[l].test(u))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+u+'"');r+=c.prefix+u}}else r+=c}return r}}function V(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function H(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function q(t,e){return t.keys=e,t}function G(t){return t&&t.sensitive?"":"i"}function W(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var i=0;i<n.length;i++)e.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return q(t,e)}function K(t,e,n){for(var i=[],r=0;r<t.length;r++)i.push(Q(t[r],e,n).source);var a=new RegExp("(?:"+i.join("|")+")",G(n));return q(a,e)}function Y(t,e,n){return X(N(t,n),e,n)}function X(t,e,n){R(e)||(n=e||n,e=[]),n=n||{};for(var i=n.strict,r=!1!==n.end,a="",o=0;o<t.length;o++){var s=t[o];if("string"===typeof s)a+=V(s);else{var l=V(s.prefix),c="(?:"+s.pattern+")";e.push(s),s.repeat&&(c+="(?:"+l+c+")*"),c=s.optional?s.partial?l+"("+c+")?":"(?:"+l+"("+c+"))?":l+"("+c+")",a+=c}}var u=V(n.delimiter||"/"),d=a.slice(-u.length)===u;return i||(a=(d?a.slice(0,-u.length):a)+"(?:"+u+"(?=$))?"),a+=r?"$":i&&d?"":"(?="+u+"|$)",q(new RegExp("^"+a,G(n)),e)}function Q(t,e,n){return R(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?W(t,e):R(t)?K(t,e,n):Y(t,e,n)}D.parse=I,D.compile=P,D.tokensToFunction=M,D.tokensToRegExp=F;var J=Object.create(null);function Z(t,e,n){e=e||{};try{var i=J[t]||(J[t]=D.compile(t));return"string"===typeof e.pathMatch&&(e[0]=e.pathMatch),i(e,{pretty:!0})}catch(r){return""}finally{delete e[0]}}function tt(t,e,n,i){var r="string"===typeof t?{path:t}:t;if(r._normalized)return r;if(r.name){r=o({},t);var a=r.params;return a&&"object"===typeof a&&(r.params=o({},a)),r}if(!r.path&&r.params&&e){r=o({},r),r._normalized=!0;var s=o(o({},e.params),r.params);if(e.name)r.name=e.name,r.params=s;else if(e.matched.length){var l=e.matched[e.matched.length-1].path;r.path=Z(l,s,"path "+e.path)}else 0;return r}var c=O(r.path||""),u=e&&e.path||"/",d=c.path?C(c.path,u,n||r.append):u,h=m(c.query,r.query,i&&i.options.parseQuery),f=r.hash||c.hash;return f&&"#"!==f.charAt(0)&&(f="#"+f),{_normalized:!0,path:d,query:h,hash:f}}var et,nt=[String,Object],it=[String,Array],rt=function(){},at={name:"RouterLink",props:{to:{type:nt,required:!0},tag:{type:String,default:"a"},exact:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:it,default:"click"}},render:function(t){var e=this,n=this.$router,i=this.$route,r=n.resolve(this.to,i,this.append),a=r.location,s=r.route,l=r.href,c={},u=n.options.linkActiveClass,d=n.options.linkExactActiveClass,h=null==u?"router-link-active":u,f=null==d?"router-link-exact-active":d,p=null==this.activeClass?h:this.activeClass,m=null==this.exactActiveClass?f:this.exactActiveClass,v=s.redirectedFrom?b(null,tt(s.redirectedFrom),null,n):s;c[m]=T(i,v),c[p]=this.exact?c[m]:_(i,v);var g=c[m]?this.ariaCurrentValue:null,y=function(t){ot(t)&&(e.replace?n.replace(a,rt):n.push(a,rt))},w={click:ot};Array.isArray(this.event)?this.event.forEach((function(t){w[t]=y})):w[this.event]=y;var k={class:c},S=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:l,route:s,navigate:y,isActive:c[p],isExactActive:c[m]});if(S){if(1===S.length)return S[0];if(S.length>1||!S.length)return 0===S.length?t():t("span",{},S)}if("a"===this.tag)k.on=w,k.attrs={href:l,"aria-current":g};else{var x=st(this.$slots.default);if(x){x.isStatic=!1;var E=x.data=o({},x.data);for(var A in E.on=E.on||{},E.on){var C=E.on[A];A in w&&(E.on[A]=Array.isArray(C)?C:[C])}for(var O in w)O in E.on?E.on[O].push(w[O]):E.on[O]=y;var L=x.data.attrs=o({},x.data.attrs);L.href=l,L["aria-current"]=g}else k.on=w}return t(this.tag,k,this.$slots.default)}};function ot(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&(void 0===t.button||0===t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){var e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function st(t){if(t)for(var e,n=0;n<t.length;n++){if(e=t[n],"a"===e.tag)return e;if(e.children&&(e=st(e.children)))return e}}function lt(t){if(!lt.installed||et!==t){lt.installed=!0,et=t;var e=function(t){return void 0!==t},n=function(t,n){var i=t.$options._parentVnode;e(i)&&e(i=i.data)&&e(i=i.registerRouteInstance)&&i(t,n)};t.mixin({beforeCreate:function(){e(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),t.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,n(this,this)},destroyed:function(){n(this)}}),Object.defineProperty(t.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(t.prototype,"$route",{get:function(){return this._routerRoot._route}}),t.component("RouterView",s),t.component("RouterLink",at);var i=t.config.optionMergeStrategies;i.beforeRouteEnter=i.beforeRouteLeave=i.beforeRouteUpdate=i.created}}var ct="undefined"!==typeof window;function ut(t,e,n,i){var r=e||[],a=n||Object.create(null),o=i||Object.create(null);t.forEach((function(t){dt(r,a,o,t)}));for(var s=0,l=r.length;s<l;s++)"*"===r[s]&&(r.push(r.splice(s,1)[0]),l--,s--);return{pathList:r,pathMap:a,nameMap:o}}function dt(t,e,n,i,r,a){var o=i.path,s=i.name;var l=i.pathToRegexpOptions||{},c=ft(o,r,l.strict);"boolean"===typeof i.caseSensitive&&(l.sensitive=i.caseSensitive);var u={path:c,regex:ht(c,l),components:i.components||{default:i.component},instances:{},name:s,parent:r,matchAs:a,redirect:i.redirect,beforeEnter:i.beforeEnter,meta:i.meta||{},props:null==i.props?{}:i.components?i.props:{default:i.props}};if(i.children&&i.children.forEach((function(i){var r=a?L(a+"/"+i.path):void 0;dt(t,e,n,i,u,r)})),e[u.path]||(t.push(u.path),e[u.path]=u),void 0!==i.alias)for(var d=Array.isArray(i.alias)?i.alias:[i.alias],h=0;h<d.length;++h){var f=d[h];0;var p={path:f,children:i.children};dt(t,e,n,p,r,u.path||"/")}s&&(n[s]||(n[s]=u))}function ht(t,e){var n=D(t,[],e);return n}function ft(t,e,n){return n||(t=t.replace(/\/$/,"")),"/"===t[0]||null==e?t:L(e.path+"/"+t)}function pt(t,e){var n=ut(t),i=n.pathList,r=n.pathMap,a=n.nameMap;function o(t){ut(t,i,r,a)}function s(t,n,o){var s=tt(t,n,!1,e),l=s.name;if(l){var c=a[l];if(!c)return u(null,s);var d=c.regex.keys.filter((function(t){return!t.optional})).map((function(t){return t.name}));if("object"!==typeof s.params&&(s.params={}),n&&"object"===typeof n.params)for(var h in n.params)!(h in s.params)&&d.indexOf(h)>-1&&(s.params[h]=n.params[h]);return s.path=Z(c.path,s.params,'named route "'+l+'"'),u(c,s,o)}if(s.path){s.params={};for(var f=0;f<i.length;f++){var p=i[f],m=r[p];if(mt(m.regex,s.path,s.params))return u(m,s,o)}}return u(null,s)}function l(t,n){var i=t.redirect,r="function"===typeof i?i(b(t,n,null,e)):i;if("string"===typeof r&&(r={path:r}),!r||"object"!==typeof r)return u(null,n);var o=r,l=o.name,c=o.path,d=n.query,h=n.hash,f=n.params;if(d=o.hasOwnProperty("query")?o.query:d,h=o.hasOwnProperty("hash")?o.hash:h,f=o.hasOwnProperty("params")?o.params:f,l){a[l];return s({_normalized:!0,name:l,query:d,hash:h,params:f},void 0,n)}if(c){var p=vt(c,t),m=Z(p,f,'redirect route with path "'+p+'"');return s({_normalized:!0,path:m,query:d,hash:h},void 0,n)}return u(null,n)}function c(t,e,n){var i=Z(n,e.params,'aliased route with path "'+n+'"'),r=s({_normalized:!0,path:i});if(r){var a=r.matched,o=a[a.length-1];return e.params=r.params,u(o,e)}return u(null,e)}function u(t,n,i){return t&&t.redirect?l(t,i||n):t&&t.matchAs?c(t,n,t.matchAs):b(t,n,i,e)}return{match:s,addRoutes:o}}function mt(t,e,n){var i=e.match(t);if(!i)return!1;if(!n)return!0;for(var r=1,a=i.length;r<a;++r){var o=t.keys[r-1],s="string"===typeof i[r]?decodeURIComponent(i[r]):i[r];o&&(n[o.name||"pathMatch"]=s)}return!0}function vt(t,e){return C(t,e.parent?e.parent.path:"/",!0)}var gt=ct&&window.performance&&window.performance.now?window.performance:Date;function yt(){return gt.now().toFixed(3)}var bt=yt();function wt(){return bt}function kt(t){return bt=t}var St=Object.create(null);function xt(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var t=window.location.protocol+"//"+window.location.host,e=window.location.href.replace(t,""),n=o({},window.history.state);return n.key=wt(),window.history.replaceState(n,"",e),window.addEventListener("popstate",_t),function(){window.removeEventListener("popstate",_t)}}function Tt(t,e,n,i){if(t.app){var r=t.options.scrollBehavior;r&&t.app.$nextTick((function(){var a=At(),o=r.call(t,e,n,i?a:null);o&&("function"===typeof o.then?o.then((function(t){Pt(t,a)})).catch((function(t){0})):Pt(o,a))}))}}function Et(){var t=wt();t&&(St[t]={x:window.pageXOffset,y:window.pageYOffset})}function _t(t){Et(),t.state&&t.state.key&&kt(t.state.key)}function At(){var t=wt();if(t)return St[t]}function Ct(t,e){var n=document.documentElement,i=n.getBoundingClientRect(),r=t.getBoundingClientRect();return{x:r.left-i.left-e.x,y:r.top-i.top-e.y}}function Ot(t){return Dt(t.x)||Dt(t.y)}function Lt(t){return{x:Dt(t.x)?t.x:window.pageXOffset,y:Dt(t.y)?t.y:window.pageYOffset}}function Rt(t){return{x:Dt(t.x)?t.x:0,y:Dt(t.y)?t.y:0}}function Dt(t){return"number"===typeof t}var It=/^#\d/;function Pt(t,e){var n="object"===typeof t;if(n&&"string"===typeof t.selector){var i=It.test(t.selector)?document.getElementById(t.selector.slice(1)):document.querySelector(t.selector);if(i){var r=t.offset&&"object"===typeof t.offset?t.offset:{};r=Rt(r),e=Ct(i,r)}else Ot(t)&&(e=Lt(t))}else n&&Ot(t)&&(e=Lt(t));e&&window.scrollTo(e.x,e.y)}var Mt=ct&&function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&(window.history&&"function"===typeof window.history.pushState)}();function Ft(t,e){Et();var n=window.history;try{if(e){var i=o({},n.state);i.key=wt(),n.replaceState(i,"",t)}else n.pushState({key:kt(yt())},"",t)}catch(r){window.location[e?"replace":"assign"](t)}}function Bt(t){Ft(t,!0)}function Nt(t,e,n){var i=function(r){r>=t.length?n():t[r]?e(t[r],(function(){i(r+1)})):i(r+1)};i(0)}function jt(t){return function(e,n,i){var a=!1,o=0,s=null;$t(t,(function(t,e,n,l){if("function"===typeof t&&void 0===t.cid){a=!0,o++;var c,u=Ht((function(e){Vt(e)&&(e=e.default),t.resolved="function"===typeof e?e:et.extend(e),n.components[l]=e,o--,o<=0&&i()})),d=Ht((function(t){var e="Failed to resolve async component "+l+": "+t;s||(s=r(t)?t:new Error(e),i(s))}));try{c=t(u,d)}catch(f){d(f)}if(c)if("function"===typeof c.then)c.then(u,d);else{var h=c.component;h&&"function"===typeof h.then&&h.then(u,d)}}})),a||i()}}function $t(t,e){return Ut(t.map((function(t){return Object.keys(t.components).map((function(n){return e(t.components[n],t.instances[n],t,n)}))})))}function Ut(t){return Array.prototype.concat.apply([],t)}var zt="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag;function Vt(t){return t.__esModule||zt&&"Module"===t[Symbol.toStringTag]}function Ht(t){var e=!1;return function(){var n=[],i=arguments.length;while(i--)n[i]=arguments[i];if(!e)return e=!0,t.apply(this,n)}}var qt={redirected:1,aborted:2,cancelled:3,duplicated:4};function Gt(t,e){return Xt(t,e,qt.redirected,'Redirected when going from "'+t.fullPath+'" to "'+Jt(e)+'" via a navigation guard.')}function Wt(t,e){return Xt(t,e,qt.duplicated,'Avoided redundant navigation to current location: "'+t.fullPath+'".')}function Kt(t,e){return Xt(t,e,qt.cancelled,'Navigation cancelled from "'+t.fullPath+'" to "'+e.fullPath+'" with a new navigation.')}function Yt(t,e){return Xt(t,e,qt.aborted,'Navigation aborted from "'+t.fullPath+'" to "'+e.fullPath+'" via a navigation guard.')}function Xt(t,e,n,i){var r=new Error(i);return r._isRouter=!0,r.from=t,r.to=e,r.type=n,r}var Qt=["params","query","hash"];function Jt(t){if("string"===typeof t)return t;if("path"in t)return t.path;var e={};return Qt.forEach((function(n){n in t&&(e[n]=t[n])})),JSON.stringify(e,null,2)}var Zt=function(t,e){this.router=t,this.base=te(e),this.current=k,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function te(t){if(!t)if(ct){var e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^https?:\/\/[^\/]+/,"")}else t="/";return"/"!==t.charAt(0)&&(t="/"+t),t.replace(/\/$/,"")}function ee(t,e){var n,i=Math.max(t.length,e.length);for(n=0;n<i;n++)if(t[n]!==e[n])break;return{updated:e.slice(0,n),activated:e.slice(n),deactivated:t.slice(n)}}function ne(t,e,n,i){var r=$t(t,(function(t,i,r,a){var o=ie(t,e);if(o)return Array.isArray(o)?o.map((function(t){return n(t,i,r,a)})):n(o,i,r,a)}));return Ut(i?r.reverse():r)}function ie(t,e){return"function"!==typeof t&&(t=et.extend(t)),t.options[e]}function re(t){return ne(t,"beforeRouteLeave",oe,!0)}function ae(t){return ne(t,"beforeRouteUpdate",oe)}function oe(t,e){if(e)return function(){return t.apply(e,arguments)}}function se(t,e,n){return ne(t,"beforeRouteEnter",(function(t,i,r,a){return le(t,r,a,e,n)}))}function le(t,e,n,i,r){return function(a,o,s){return t(a,o,(function(t){"function"===typeof t&&i.push((function(){ce(t,e.instances,n,r)})),s(t)}))}}function ce(t,e,n,i){e[n]&&!e[n]._isBeingDestroyed?t(e[n]):i()&&setTimeout((function(){ce(t,e,n,i)}),16)}Zt.prototype.listen=function(t){this.cb=t},Zt.prototype.onReady=function(t,e){this.ready?t():(this.readyCbs.push(t),e&&this.readyErrorCbs.push(e))},Zt.prototype.onError=function(t){this.errorCbs.push(t)},Zt.prototype.transitionTo=function(t,e,n){var i=this,r=this.router.match(t,this.current);this.confirmTransition(r,(function(){var t=i.current;i.updateRoute(r),e&&e(r),i.ensureURL(),i.router.afterHooks.forEach((function(e){e&&e(r,t)})),i.ready||(i.ready=!0,i.readyCbs.forEach((function(t){t(r)})))}),(function(t){n&&n(t),t&&!i.ready&&(i.ready=!0,a(t,qt.redirected)?i.readyCbs.forEach((function(t){t(r)})):i.readyErrorCbs.forEach((function(e){e(t)})))}))},Zt.prototype.confirmTransition=function(t,e,n){var o=this,s=this.current,l=function(t){!a(t)&&r(t)&&(o.errorCbs.length?o.errorCbs.forEach((function(e){e(t)})):(i(!1,"uncaught error during route navigation:"),console.error(t))),n&&n(t)},c=t.matched.length-1,u=s.matched.length-1;if(T(t,s)&&c===u&&t.matched[c]===s.matched[u])return this.ensureURL(),l(Wt(s,t));var d=ee(this.current.matched,t.matched),h=d.updated,f=d.deactivated,p=d.activated,m=[].concat(re(f),this.router.beforeHooks,ae(h),p.map((function(t){return t.beforeEnter})),jt(p));this.pending=t;var v=function(e,n){if(o.pending!==t)return l(Kt(s,t));try{e(t,s,(function(e){!1===e?(o.ensureURL(!0),l(Yt(s,t))):r(e)?(o.ensureURL(!0),l(e)):"string"===typeof e||"object"===typeof e&&("string"===typeof e.path||"string"===typeof e.name)?(l(Gt(s,t)),"object"===typeof e&&e.replace?o.replace(e):o.push(e)):n(e)}))}catch(i){l(i)}};Nt(m,v,(function(){var n=[],i=function(){return o.current===t},r=se(p,n,i),a=r.concat(o.router.resolveHooks);Nt(a,v,(function(){if(o.pending!==t)return l(Kt(s,t));o.pending=null,e(t),o.router.app&&o.router.app.$nextTick((function(){n.forEach((function(t){t()}))}))}))}))},Zt.prototype.updateRoute=function(t){this.current=t,this.cb&&this.cb(t)},Zt.prototype.setupListeners=function(){},Zt.prototype.teardownListeners=function(){this.listeners.forEach((function(t){t()})),this.listeners=[]};var ue=function(t){function e(e,n){t.call(this,e,n),this._startLocation=de(this.base)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this;if(!(this.listeners.length>0)){var e=this.router,n=e.options.scrollBehavior,i=Mt&&n;i&&this.listeners.push(xt());var r=function(){var n=t.current,r=de(t.base);t.current===k&&r===t._startLocation||t.transitionTo(r,(function(t){i&&Tt(e,t,n,!0)}))};window.addEventListener("popstate",r),this.listeners.push((function(){window.removeEventListener("popstate",r)}))}},e.prototype.go=function(t){window.history.go(t)},e.prototype.push=function(t,e,n){var i=this,r=this,a=r.current;this.transitionTo(t,(function(t){Ft(L(i.base+t.fullPath)),Tt(i.router,t,a,!1),e&&e(t)}),n)},e.prototype.replace=function(t,e,n){var i=this,r=this,a=r.current;this.transitionTo(t,(function(t){Bt(L(i.base+t.fullPath)),Tt(i.router,t,a,!1),e&&e(t)}),n)},e.prototype.ensureURL=function(t){if(de(this.base)!==this.current.fullPath){var e=L(this.base+this.current.fullPath);t?Ft(e):Bt(e)}},e.prototype.getCurrentLocation=function(){return de(this.base)},e}(Zt);function de(t){var e=decodeURI(window.location.pathname);return t&&0===e.toLowerCase().indexOf(t.toLowerCase())&&(e=e.slice(t.length)),(e||"/")+window.location.search+window.location.hash}var he=function(t){function e(e,n,i){t.call(this,e,n),i&&fe(this.base)||pe()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this;if(!(this.listeners.length>0)){var e=this.router,n=e.options.scrollBehavior,i=Mt&&n;i&&this.listeners.push(xt());var r=function(){var e=t.current;pe()&&t.transitionTo(me(),(function(n){i&&Tt(t.router,n,e,!0),Mt||ye(n.fullPath)}))},a=Mt?"popstate":"hashchange";window.addEventListener(a,r),this.listeners.push((function(){window.removeEventListener(a,r)}))}},e.prototype.push=function(t,e,n){var i=this,r=this,a=r.current;this.transitionTo(t,(function(t){ge(t.fullPath),Tt(i.router,t,a,!1),e&&e(t)}),n)},e.prototype.replace=function(t,e,n){var i=this,r=this,a=r.current;this.transitionTo(t,(function(t){ye(t.fullPath),Tt(i.router,t,a,!1),e&&e(t)}),n)},e.prototype.go=function(t){window.history.go(t)},e.prototype.ensureURL=function(t){var e=this.current.fullPath;me()!==e&&(t?ge(e):ye(e))},e.prototype.getCurrentLocation=function(){return me()},e}(Zt);function fe(t){var e=de(t);if(!/^\/#/.test(e))return window.location.replace(L(t+"/#"+e)),!0}function pe(){var t=me();return"/"===t.charAt(0)||(ye("/"+t),!1)}function me(){var t=window.location.href,e=t.indexOf("#");if(e<0)return"";t=t.slice(e+1);var n=t.indexOf("?");if(n<0){var i=t.indexOf("#");t=i>-1?decodeURI(t.slice(0,i))+t.slice(i):decodeURI(t)}else t=decodeURI(t.slice(0,n))+t.slice(n);return t}function ve(t){var e=window.location.href,n=e.indexOf("#"),i=n>=0?e.slice(0,n):e;return i+"#"+t}function ge(t){Mt?Ft(ve(t)):window.location.hash=t}function ye(t){Mt?Bt(ve(t)):window.location.replace(ve(t))}var be=function(t){function e(e,n){t.call(this,e,n),this.stack=[],this.index=-1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e,n){var i=this;this.transitionTo(t,(function(t){i.stack=i.stack.slice(0,i.index+1).concat(t),i.index++,e&&e(t)}),n)},e.prototype.replace=function(t,e,n){var i=this;this.transitionTo(t,(function(t){i.stack=i.stack.slice(0,i.index).concat(t),e&&e(t)}),n)},e.prototype.go=function(t){var e=this,n=this.index+t;if(!(n<0||n>=this.stack.length)){var i=this.stack[n];this.confirmTransition(i,(function(){e.index=n,e.updateRoute(i)}),(function(t){a(t,qt.duplicated)&&(e.index=n)}))}},e.prototype.getCurrentLocation=function(){var t=this.stack[this.stack.length-1];return t?t.fullPath:"/"},e.prototype.ensureURL=function(){},e}(Zt),we=function(t){void 0===t&&(t={}),this.app=null,this.apps=[],this.options=t,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=pt(t.routes||[],this);var e=t.mode||"hash";switch(this.fallback="history"===e&&!Mt&&!1!==t.fallback,this.fallback&&(e="hash"),ct||(e="abstract"),this.mode=e,e){case"history":this.history=new ue(this,t.base);break;case"hash":this.history=new he(this,t.base,this.fallback);break;case"abstract":this.history=new be(this,t.base);break;default:0}},ke={currentRoute:{configurable:!0}};function Se(t,e){return t.push(e),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function xe(t,e,n){var i="hash"===n?"#"+e:e;return t?L(t+"/"+i):i}we.prototype.match=function(t,e,n){return this.matcher.match(t,e,n)},ke.currentRoute.get=function(){return this.history&&this.history.current},we.prototype.init=function(t){var e=this;if(this.apps.push(t),t.$once("hook:destroyed",(function(){var n=e.apps.indexOf(t);n>-1&&e.apps.splice(n,1),e.app===t&&(e.app=e.apps[0]||null),e.app||e.history.teardownListeners()})),!this.app){this.app=t;var n=this.history;if(n instanceof ue||n instanceof he){var i=function(){n.setupListeners()};n.transitionTo(n.getCurrentLocation(),i,i)}n.listen((function(t){e.apps.forEach((function(e){e._route=t}))}))}},we.prototype.beforeEach=function(t){return Se(this.beforeHooks,t)},we.prototype.beforeResolve=function(t){return Se(this.resolveHooks,t)},we.prototype.afterEach=function(t){return Se(this.afterHooks,t)},we.prototype.onReady=function(t,e){this.history.onReady(t,e)},we.prototype.onError=function(t){this.history.onError(t)},we.prototype.push=function(t,e,n){var i=this;if(!e&&!n&&"undefined"!==typeof Promise)return new Promise((function(e,n){i.history.push(t,e,n)}));this.history.push(t,e,n)},we.prototype.replace=function(t,e,n){var i=this;if(!e&&!n&&"undefined"!==typeof Promise)return new Promise((function(e,n){i.history.replace(t,e,n)}));this.history.replace(t,e,n)},we.prototype.go=function(t){this.history.go(t)},we.prototype.back=function(){this.go(-1)},we.prototype.forward=function(){this.go(1)},we.prototype.getMatchedComponents=function(t){var e=t?t.matched?t:this.resolve(t).route:this.currentRoute;return e?[].concat.apply([],e.matched.map((function(t){return Object.keys(t.components).map((function(e){return t.components[e]}))}))):[]},we.prototype.resolve=function(t,e,n){e=e||this.history.current;var i=tt(t,e,n,this),r=this.match(i,e),a=r.redirectedFrom||r.fullPath,o=this.history.base,s=xe(o,a,this.mode);return{location:i,route:r,href:s,normalizedTo:i,resolved:r}},we.prototype.addRoutes=function(t){this.matcher.addRoutes(t),this.history.current!==k&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(we.prototype,ke),we.install=lt,we.version="3.3.4",ct&&window.Vue&&window.Vue.use(we),e["a"]=we},"8df4":function(t,e,n){"use strict";var i=n("7a77");function r(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new i(t),e(n.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var t,e=new r((function(e){t=e}));return{token:e,cancel:t}},t.exports=r},"90c6":function(t,e,n){"use strict";function i(t){return/^\d+(\.\d+)?$/.test(t)}function r(t){return Number.isNaN?Number.isNaN(t):t!==t}n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return r}))},"90e3":function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+i).toString(36)}},9112:function(t,e,n){var i=n("83ab"),r=n("9bf2"),a=n("5c6c");t.exports=i?function(t,e,n){return r.f(t,e,a(1,n))}:function(t,e,n){return t[e]=n,t}},9263:function(t,e,n){"use strict";var i=n("ad6d"),r=n("9f7f"),a=RegExp.prototype.exec,o=String.prototype.replace,s=a,l=function(){var t=/a/,e=/b*/g;return a.call(t,"a"),a.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),c=r.UNSUPPORTED_Y||r.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],d=l||u||c;d&&(s=function(t){var e,n,r,s,d=this,h=c&&d.sticky,f=i.call(d),p=d.source,m=0,v=t;return h&&(f=f.replace("y",""),-1===f.indexOf("g")&&(f+="g"),v=String(t).slice(d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==t[d.lastIndex-1])&&(p="(?: "+p+")",v=" "+v,m++),n=new RegExp("^(?:"+p+")",f)),u&&(n=new RegExp("^"+p+"$(?!\\s)",f)),l&&(e=d.lastIndex),r=a.call(h?n:d,v),h?r?(r.input=r.input.slice(m),r[0]=r[0].slice(m),r.index=d.lastIndex,d.lastIndex+=r[0].length):d.lastIndex=0:l&&r&&(d.lastIndex=d.global?r.index+r[0].length:e),u&&r&&r.length>1&&o.call(r[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(r[s]=void 0)})),r}),t.exports=s},"94ca":function(t,e,n){var i=n("d039"),r=/#|\.prototype\./,a=function(t,e){var n=s[o(t)];return n==c||n!=l&&("function"==typeof e?i(e):!!e)},o=a.normalize=function(t){return String(t).replace(r,".").toLowerCase()},s=a.data={},l=a.NATIVE="N",c=a.POLYFILL="P";t.exports=a},"96cf":function(t,e,n){var i=function(t){"use strict";var e,n=Object.prototype,i=n.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function l(t,e,n,i){var r=e&&e.prototype instanceof m?e:m,a=Object.create(r.prototype),o=new C(i||[]);return a._invoke=T(t,n,o),a}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(i){return{type:"throw",arg:i}}}t.wrap=l;var u="suspendedStart",d="suspendedYield",h="executing",f="completed",p={};function m(){}function v(){}function g(){}var y={};y[a]=function(){return this};var b=Object.getPrototypeOf,w=b&&b(b(O([])));w&&w!==n&&i.call(w,a)&&(y=w);var k=g.prototype=m.prototype=Object.create(y);function S(t){["next","throw","return"].forEach((function(e){t[e]=function(t){return this._invoke(e,t)}}))}function x(t,e){function n(r,a,o,s){var l=c(t[r],t,a);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"===typeof d&&i.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,o,s)}),(function(t){n("throw",t,o,s)})):e.resolve(d).then((function(t){u.value=t,o(u)}),(function(t){return n("throw",t,o,s)}))}s(l.arg)}var r;function a(t,i){function a(){return new e((function(e,r){n(t,i,e,r)}))}return r=r?r.then(a,a):a()}this._invoke=a}function T(t,e,n){var i=u;return function(r,a){if(i===h)throw new Error("Generator is already running");if(i===f){if("throw"===r)throw a;return L()}n.method=r,n.arg=a;while(1){var o=n.delegate;if(o){var s=E(o,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===u)throw i=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=h;var l=c(t,e,n);if("normal"===l.type){if(i=n.done?f:d,l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i=f,n.method="throw",n.arg=l.arg)}}}function E(t,n){var i=t.iterator[n.method];if(i===e){if(n.delegate=null,"throw"===n.method){if(t.iterator["return"]&&(n.method="return",n.arg=e,E(t,n),"throw"===n.method))return p;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var r=c(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,p;var a=r.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,p):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function O(t){if(t){var n=t[a];if(n)return n.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function n(){while(++r<t.length)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}return{next:L}}function L(){return{value:e,done:!0}}return v.prototype=k.constructor=g,g.constructor=v,g[s]=v.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(k),t},t.awrap=function(t){return{__await:t}},S(x.prototype),x.prototype[o]=function(){return this},t.AsyncIterator=x,t.async=function(e,n,i,r,a){void 0===a&&(a=Promise);var o=new x(l(e,n,i,r),a);return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},S(k),k[s]="Generator",k[a]=function(){return this},k.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){while(e.length){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=O,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return s.type="throw",s.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=i.call(o,"catchLoc"),c=i.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),A(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;A(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:O(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),p}},t}(t.exports);try{regeneratorRuntime=i}catch(r){Function("r","regeneratorRuntime = r")(i)}},"9bdd":function(t,e,n){var i=n("825a");t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(o){var a=t["return"];throw void 0!==a&&i(a.call(t)),o}}},"9bf2":function(t,e,n){var i=n("83ab"),r=n("0cfb"),a=n("825a"),o=n("c04e"),s=Object.defineProperty;e.f=i?s:function(t,e,n){if(a(t),e=o(e,!0),a(n),r)try{return s(t,e,n)}catch(i){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},"9e6a":function(t,e,n){"use strict";var i=n("d233"),r=Object.prototype.hasOwnProperty,a={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:i.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},o=function(t,e){for(var n={},i=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,o=e.parameterLimit===1/0?void 0:e.parameterLimit,s=i.split(e.delimiter,o),l=0;l<s.length;++l){var c,u,d=s[l],h=d.indexOf("]="),f=-1===h?d.indexOf("="):h+1;-1===f?(c=e.decoder(d,a.decoder),u=e.strictNullHandling?null:""):(c=e.decoder(d.slice(0,f),a.decoder),u=e.decoder(d.slice(f+1),a.decoder)),r.call(n,c)?n[c]=[].concat(n[c]).concat(u):n[c]=u}return n},s=function(t,e,n){for(var i=e,r=t.length-1;r>=0;--r){var a,o=t[r];if("[]"===o)a=[],a=a.concat(i);else{a=n.plainObjects?Object.create(null):{};var s="["===o.charAt(0)&&"]"===o.charAt(o.length-1)?o.slice(1,-1):o,l=parseInt(s,10);!isNaN(l)&&o!==s&&String(l)===s&&l>=0&&n.parseArrays&&l<=n.arrayLimit?(a=[],a[l]=i):a[s]=i}i=a}return i},l=function(t,e,n){if(t){var i=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,a=/(\[[^[\]]*])/,o=/(\[[^[\]]*])/g,l=a.exec(i),c=l?i.slice(0,l.index):i,u=[];if(c){if(!n.plainObjects&&r.call(Object.prototype,c)&&!n.allowPrototypes)return;u.push(c)}var d=0;while(null!==(l=o.exec(i))&&d<n.depth){if(d+=1,!n.plainObjects&&r.call(Object.prototype,l[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(l[1])}return l&&u.push("["+i.slice(l.index)+"]"),s(u,e,n)}};t.exports=function(t,e){var n=e?i.assign({},e):{};if(null!==n.decoder&&void 0!==n.decoder&&"function"!==typeof n.decoder)throw new TypeError("Decoder has to be a function.");if(n.ignoreQueryPrefix=!0===n.ignoreQueryPrefix,n.delimiter="string"===typeof n.delimiter||i.isRegExp(n.delimiter)?n.delimiter:a.delimiter,n.depth="number"===typeof n.depth?n.depth:a.depth,n.arrayLimit="number"===typeof n.arrayLimit?n.arrayLimit:a.arrayLimit,n.parseArrays=!1!==n.parseArrays,n.decoder="function"===typeof n.decoder?n.decoder:a.decoder,n.allowDots="boolean"===typeof n.allowDots?n.allowDots:a.allowDots,n.plainObjects="boolean"===typeof n.plainObjects?n.plainObjects:a.plainObjects,n.allowPrototypes="boolean"===typeof n.allowPrototypes?n.allowPrototypes:a.allowPrototypes,n.parameterLimit="number"===typeof n.parameterLimit?n.parameterLimit:a.parameterLimit,n.strictNullHandling="boolean"===typeof n.strictNullHandling?n.strictNullHandling:a.strictNullHandling,""===t||null===t||"undefined"===typeof t)return n.plainObjects?Object.create(null):{};for(var r="string"===typeof t?o(t,n):t,s=n.plainObjects?Object.create(null):{},c=Object.keys(r),u=0;u<c.length;++u){var d=c[u],h=l(d,r[d],n);s=i.merge(s,h,n)}return i.compact(s)}},"9ed3":function(t,e,n){"use strict";var i=n("ae93").IteratorPrototype,r=n("7c73"),a=n("5c6c"),o=n("d44e"),s=n("3f8c"),l=function(){return this};t.exports=function(t,e,n){var c=e+" Iterator";return t.prototype=r(i,{next:a(1,n)}),o(t,c,!1,!0),s[c]=l,t}},"9f7f":function(t,e,n){"use strict";var i=n("d039");function r(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=i((function(){var t=r("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=i((function(){var t=r("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a142:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"g",(function(){return a})),n.d(e,"h",(function(){return o})),n.d(e,"c",(function(){return s})),n.d(e,"d",(function(){return l})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return u})),n.d(e,"a",(function(){return d}));var i=n("2b0e"),r="undefined"!==typeof window,a=i["a"].prototype.$isServer;function o(){}function s(t){return void 0!==t&&null!==t}function l(t){return"function"===typeof t}function c(t){return null!==t&&"object"===typeof t}function u(t){return c(t)&&l(t.then)&&l(t.catch)}function d(t,e){var n=e.split("."),i=t;return n.forEach((function(t){i=s(i[t])?i[t]:""})),i}},a691:function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},a79d:function(t,e,n){"use strict";var i=n("23e7"),r=n("c430"),a=n("fea9"),o=n("d039"),s=n("d066"),l=n("4840"),c=n("cdf9"),u=n("6eeb"),d=!!a&&o((function(){a.prototype["finally"].call({then:function(){}},(function(){}))}));i({target:"Promise",proto:!0,real:!0,forced:d},{finally:function(t){var e=l(this,s("Promise")),n="function"==typeof t;return this.then(n?function(n){return c(e,t()).then((function(){return n}))}:t,n?function(n){return c(e,t()).then((function(){throw n}))}:t)}}),r||"function"!=typeof a||a.prototype["finally"]||u(a.prototype,"finally",s("Promise").prototype["finally"])},ac1f:function(t,e,n){"use strict";var i=n("23e7"),r=n("9263");i({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},ad6d:function(t,e,n){"use strict";var i=n("825a");t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},ae40:function(t,e,n){var i=n("83ab"),r=n("d039"),a=n("5135"),o=Object.defineProperty,s={},l=function(t){throw t};t.exports=function(t,e){if(a(s,t))return s[t];e||(e={});var n=[][t],c=!!a(e,"ACCESSORS")&&e.ACCESSORS,u=a(e,0)?e[0]:l,d=a(e,1)?e[1]:void 0;return s[t]=!!n&&!r((function(){if(c&&!i)return!0;var t={length:-1};c?o(t,1,{enumerable:!0,get:l}):t[1]=1,n.call(t,u,d)}))}},ae93:function(t,e,n){"use strict";var i,r,a,o=n("e163"),s=n("9112"),l=n("5135"),c=n("b622"),u=n("c430"),d=c("iterator"),h=!1,f=function(){return this};[].keys&&(a=[].keys(),"next"in a?(r=o(o(a)),r!==Object.prototype&&(i=r)):h=!0),void 0==i&&(i={}),u||l(i,d)||s(i,d,f),t.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:h}},b041:function(t,e,n){"use strict";var i=n("00ee"),r=n("f5df");t.exports=i?{}.toString:function(){return"[object "+r(this)+"]"}},b311:function(t,e,n){
/*!
 * clipboard.js v2.0.6
 * https://clipboardjs.com/
 * 
 * Licensed MIT  Zeno Rocha
 */
(function(e,n){t.exports=n()})(0,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=6)}([function(t,e){function n(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var n=t.hasAttribute("readonly");n||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),n||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var i=window.getSelection(),r=document.createRange();r.selectNodeContents(t),i.removeAllRanges(),i.addRange(r),e=i.toString()}return e}t.exports=n},function(t,e){function n(){}n.prototype={on:function(t,e,n){var i=this.e||(this.e={});return(i[t]||(i[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){var i=this;function r(){i.off(t,r),e.apply(n,arguments)}return r._=e,this.on(t,r,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),i=0,r=n.length;for(i;i<r;i++)n[i].fn.apply(n[i].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),i=n[t],r=[];if(i&&e)for(var a=0,o=i.length;a<o;a++)i[a].fn!==e&&i[a].fn._!==e&&r.push(i[a]);return r.length?n[t]=r:delete n[t],this}},t.exports=n,t.exports.TinyEmitter=n},function(t,e,n){var i=n(3),r=n(4);function a(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!i.string(e))throw new TypeError("Second argument must be a String");if(!i.fn(n))throw new TypeError("Third argument must be a Function");if(i.node(t))return o(t,e,n);if(i.nodeList(t))return s(t,e,n);if(i.string(t))return l(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function o(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function s(t,e,n){return Array.prototype.forEach.call(t,(function(t){t.addEventListener(e,n)})),{destroy:function(){Array.prototype.forEach.call(t,(function(t){t.removeEventListener(e,n)}))}}}function l(t,e,n){return r(document.body,t,e,n)}t.exports=a},function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var n=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"===typeof t||t instanceof String},e.fn=function(t){var e=Object.prototype.toString.call(t);return"[object Function]"===e}},function(t,e,n){var i=n(5);function r(t,e,n,i,r){var a=o.apply(this,arguments);return t.addEventListener(n,a,r),{destroy:function(){t.removeEventListener(n,a,r)}}}function a(t,e,n,i,a){return"function"===typeof t.addEventListener?r.apply(null,arguments):"function"===typeof n?r.bind(null,document).apply(null,arguments):("string"===typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,(function(t){return r(t,e,n,i,a)})))}function o(t,e,n,r){return function(n){n.delegateTarget=i(n.target,e),n.delegateTarget&&r.call(t,n)}}t.exports=a},function(t,e){var n=9;if("undefined"!==typeof Element&&!Element.prototype.matches){var i=Element.prototype;i.matches=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector}function r(t,e){while(t&&t.nodeType!==n){if("function"===typeof t.matches&&t.matches(e))return t;t=t.parentNode}}t.exports=r},function(t,e,n){"use strict";n.r(e);var i=n(0),r=n.n(i),a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var l=function(){function t(e){s(this,t),this.resolveOptions(e),this.initSelection()}return o(t,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.container=t.container,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=r()(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=r()(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),document.activeElement.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==("undefined"===typeof t?"undefined":a(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}(),c=l,u=n(1),d=n.n(u),h=n(2),f=n.n(h),p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function y(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var b=function(t){function e(t,n){v(this,e);var i=g(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.resolveOptions(n),i.listenClick(t),i}return y(e,t),m(e,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"===typeof t.action?t.action:this.defaultAction,this.target="function"===typeof t.target?t.target:this.defaultTarget,this.text="function"===typeof t.text?t.text:this.defaultText,this.container="object"===p(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=f()(t,"click",(function(t){return e.onClick(t)}))}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new c({action:this.action(e),target:this.target(e),text:this.text(e),container:this.container,trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return w("action",t)}},{key:"defaultTarget",value:function(t){var e=w("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return w("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"===typeof t?[t]:t,n=!!document.queryCommandSupported;return e.forEach((function(t){n=n&&!!document.queryCommandSupported(t)})),n}}]),e}(d.a);function w(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}e["default"]=b}])["default"]}))},b313:function(t,e,n){"use strict";var i=String.prototype.replace,r=/%20/g;t.exports={default:"RFC3986",formatters:{RFC1738:function(t){return i.call(t,r,"+")},RFC3986:function(t){return t}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},b50d:function(t,e,n){"use strict";var i=n("c532"),r=n("467f"),a=n("30b5"),o=n("83b9"),s=n("c345"),l=n("3934"),c=n("2d83");t.exports=function(t){return new Promise((function(e,u){var d=t.data,h=t.headers;i.isFormData(d)&&delete h["Content-Type"];var f=new XMLHttpRequest;if(t.auth){var p=t.auth.username||"",m=t.auth.password||"";h.Authorization="Basic "+btoa(p+":"+m)}var v=o(t.baseURL,t.url);if(f.open(t.method.toUpperCase(),a(v,t.params,t.paramsSerializer),!0),f.timeout=t.timeout,f.onreadystatechange=function(){if(f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in f?s(f.getAllResponseHeaders()):null,i=t.responseType&&"text"!==t.responseType?f.response:f.responseText,a={data:i,status:f.status,statusText:f.statusText,headers:n,config:t,request:f};r(e,u,a),f=null}},f.onabort=function(){f&&(u(c("Request aborted",t,"ECONNABORTED",f)),f=null)},f.onerror=function(){u(c("Network Error",t,null,f)),f=null},f.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),u(c(e,t,"ECONNABORTED",f)),f=null},i.isStandardBrowserEnv()){var g=n("7aac"),y=(t.withCredentials||l(v))&&t.xsrfCookieName?g.read(t.xsrfCookieName):void 0;y&&(h[t.xsrfHeaderName]=y)}if("setRequestHeader"in f&&i.forEach(h,(function(t,e){"undefined"===typeof d&&"content-type"===e.toLowerCase()?delete h[e]:f.setRequestHeader(e,t)})),i.isUndefined(t.withCredentials)||(f.withCredentials=!!t.withCredentials),t.responseType)try{f.responseType=t.responseType}catch(b){if("json"!==t.responseType)throw b}"function"===typeof t.onDownloadProgress&&f.addEventListener("progress",t.onDownloadProgress),"function"===typeof t.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){f&&(f.abort(),u(t),f=null)})),void 0===d&&(d=null),f.send(d)}))}},b575:function(t,e,n){var i,r,a,o,s,l,c,u,d=n("da84"),h=n("06cf").f,f=n("c6b6"),p=n("2cf4").set,m=n("1cdc"),v=d.MutationObserver||d.WebKitMutationObserver,g=d.process,y=d.Promise,b="process"==f(g),w=h(d,"queueMicrotask"),k=w&&w.value;k||(i=function(){var t,e;b&&(t=g.domain)&&t.exit();while(r){e=r.fn,r=r.next;try{e()}catch(n){throw r?o():a=void 0,n}}a=void 0,t&&t.enter()},b?o=function(){g.nextTick(i)}:v&&!m?(s=!0,l=document.createTextNode(""),new v(i).observe(l,{characterData:!0}),o=function(){l.data=s=!s}):y&&y.resolve?(c=y.resolve(void 0),u=c.then,o=function(){u.call(c,i)}):o=function(){p.call(d,i)}),t.exports=k||function(t){var e={fn:t,next:void 0};a&&(a.next=e),r||(r=e,o()),a=e}},b622:function(t,e,n){var i=n("da84"),r=n("5692"),a=n("5135"),o=n("90e3"),s=n("4930"),l=n("fdbf"),c=r("wks"),u=i.Symbol,d=l?u:u&&u.withoutSetter||o;t.exports=function(t){return a(c,t)||(s&&a(u,t)?c[t]=u[t]:c[t]=d("Symbol."+t)),c[t]}},b727:function(t,e,n){var i=n("0366"),r=n("44ad"),a=n("7b0b"),o=n("50c4"),s=n("65f0"),l=[].push,c=function(t){var e=1==t,n=2==t,c=3==t,u=4==t,d=6==t,h=5==t||d;return function(f,p,m,v){for(var g,y,b=a(f),w=r(b),k=i(p,m,3),S=o(w.length),x=0,T=v||s,E=e?T(f,S):n?T(f,0):void 0;S>x;x++)if((h||x in w)&&(g=w[x],y=k(g,x,b),t))if(e)E[x]=y;else if(y)switch(t){case 3:return!0;case 5:return g;case 6:return x;case 2:l.call(E,g)}else if(u)return!1;return d?-1:c||u?u:E}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},b970:function(t,e,n){"use strict";function i(){return i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},i.apply(this,arguments)}var r=n("2638"),a=n.n(r),o=n("d282"),s=n("2b0e"),l=["ref","style","class","attrs","nativeOn","directives","staticClass","staticStyle"],c={nativeOn:"on"};function u(t,e){var n=l.reduce((function(e,n){return t.data[n]&&(e[c[n]||n]=t.data[n]),e}),{});return e&&(n.on=n.on||{},i(n.on,t.data.on)),n}function d(t,e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];var a=t.listeners[e];a&&(Array.isArray(a)?a.forEach((function(t){t.apply(void 0,i)})):a.apply(void 0,i))}function h(t,e){var n=new s["a"]({el:document.createElement("div"),props:t.props,render:function(n){return n(t,i({props:this.$props},e))}});return document.body.appendChild(n.$el),n}var f={zIndex:2e3,lockCount:0,stack:[],find:function(t){return this.stack.filter((function(e){return e.vm===t}))[0]}},p=n("a142"),m=!1;if(!p["g"])try{var v={};Object.defineProperty(v,"passive",{get:function(){m=!0}}),window.addEventListener("test-passive",null,v)}catch(Md){}function g(t,e,n,i){void 0===i&&(i=!1),p["g"]||t.addEventListener(e,n,!!m&&{capture:!1,passive:i})}function y(t,e,n){p["g"]||t.removeEventListener(e,n)}function b(t){t.stopPropagation()}function w(t,e){("boolean"!==typeof t.cancelable||t.cancelable)&&t.preventDefault(),e&&b(t)}var k=Object(o["a"])("overlay"),S=k[0],x=k[1];function T(t){w(t,!0)}function E(t,e,n,r){var o=i({zIndex:e.zIndex},e.customStyle);return Object(p["c"])(e.duration)&&(o.animationDuration=e.duration+"s"),t("transition",{attrs:{name:"van-fade"}},[t("div",a()([{directives:[{name:"show",value:e.show}],style:o,class:[x(),e.className],on:{touchmove:e.lockScroll?T:p["h"]}},u(r,!0)]),[null==n.default?void 0:n.default()])])}E.props={show:Boolean,zIndex:[Number,String],duration:[Number,String],className:null,customStyle:Object,lockScroll:{type:Boolean,default:!0}};var _=S(E);function A(t){var e=t.parentNode;e&&e.removeChild(t)}var C={className:"",customStyle:{}};function O(t){return h(_,{on:{click:function(){t.$emit("click-overlay"),t.closeOnClickOverlay&&(t.onClickOverlay?t.onClickOverlay():t.close())}}})}function L(t){var e=f.find(t);if(e){var n=t.$el,r=e.config,a=e.overlay;n&&n.parentNode&&n.parentNode.insertBefore(a.$el,n),i(a,C,r,{show:!0})}}function R(t,e){var n=f.find(t);if(n)n.config=e;else{var i=O(t);f.stack.push({vm:t,config:e,overlay:i})}L(t)}function D(t){var e=f.find(t);e&&(e.overlay.show=!1)}function I(t){var e=f.find(t);e&&A(e.overlay.$el)}function P(t){return t===window}var M=/scroll|auto/i;function F(t,e){void 0===e&&(e=window);var n=t;while(n&&"HTML"!==n.tagName&&1===n.nodeType&&n!==e){var i=window.getComputedStyle(n),r=i.overflowY;if(M.test(r)){if("BODY"!==n.tagName)return n;var a=window.getComputedStyle(n.parentNode),o=a.overflowY;if(M.test(o))return n}n=n.parentNode}return e}function B(t){var e="scrollTop"in t?t.scrollTop:t.pageYOffset;return Math.max(e,0)}function N(t,e){"scrollTop"in t?t.scrollTop=e:t.scrollTo(t.scrollX,e)}function j(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function $(t){N(window,t),N(document.body,t)}function U(t,e){if(P(t))return 0;var n=e?B(e):j();return t.getBoundingClientRect().top+n}function z(t){return P(t)?t.innerHeight:t.getBoundingClientRect().height}function V(t){return P(t)?0:t.getBoundingClientRect().top}var H=10;function q(t,e){return t>e&&t>H?"horizontal":e>t&&e>H?"vertical":""}var G={data:function(){return{direction:""}},methods:{touchStart:function(t){this.resetTouchStatus(),this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY},touchMove:function(t){var e=t.touches[0];this.deltaX=e.clientX-this.startX,this.deltaY=e.clientY-this.startY,this.offsetX=Math.abs(this.deltaX),this.offsetY=Math.abs(this.deltaY),this.direction=this.direction||q(this.offsetX,this.offsetY)},resetTouchStatus:function(){this.direction="",this.deltaX=0,this.deltaY=0,this.offsetX=0,this.offsetY=0},bindTouchEvent:function(t){var e=this.onTouchStart,n=this.onTouchMove,i=this.onTouchEnd;g(t,"touchstart",e),g(t,"touchmove",n),i&&(g(t,"touchend",i),g(t,"touchcancel",i))}}};function W(t){return"string"===typeof t?document.querySelector(t):t()}function K(t){var e=t.ref,n=t.afterPortal;return{props:{getContainer:[String,Function]},watch:{getContainer:"portal"},mounted:function(){this.getContainer&&this.portal()},methods:{portal:function(){var t,i=this.getContainer,r=e?this.$refs[e]:this.$el;i?t=W(i):this.$parent&&(t=this.$parent.$el),t&&t!==r.parentNode&&t.appendChild(r),n&&n.call(this)}}}}var Y=0;function X(t){var e="binded_"+Y++;function n(){this[e]||(t.call(this,g,!0),this[e]=!0)}function i(){this[e]&&(t.call(this,y,!1),this[e]=!1)}return{mounted:n,activated:n,deactivated:i,beforeDestroy:i}}var Q={mixins:[X((function(t,e){this.handlePopstate(e&&this.closeOnPopstate)}))],props:{closeOnPopstate:Boolean},data:function(){return{bindStatus:!1}},watch:{closeOnPopstate:function(t){this.handlePopstate(t)}},methods:{handlePopstate:function(t){var e=this;if(!this.$isServer&&this.bindStatus!==t){this.bindStatus=t;var n=t?g:y;n(window,"popstate",(function(){e.close(),e.shouldReopen=!1}))}}}},J={value:Boolean,overlay:Boolean,overlayStyle:Object,overlayClass:String,closeOnClickOverlay:Boolean,zIndex:[Number,String],lockScroll:{type:Boolean,default:!0},lazyRender:{type:Boolean,default:!0}};function Z(t){return void 0===t&&(t={}),{mixins:[G,Q,K({afterPortal:function(){this.overlay&&L()}})],props:J,data:function(){return{inited:this.value}},computed:{shouldRender:function(){return this.inited||!this.lazyRender}},watch:{value:function(e){var n=e?"open":"close";this.inited=this.inited||this.value,this[n](),t.skipToggleEvent||this.$emit(n)},overlay:"renderOverlay"},mounted:function(){this.value&&this.open()},activated:function(){this.shouldReopen&&(this.$emit("input",!0),this.shouldReopen=!1)},beforeDestroy:function(){this.removeLock(),I(this),this.getContainer&&A(this.$el)},deactivated:function(){this.value&&(this.close(),this.shouldReopen=!0)},methods:{open:function(){this.$isServer||this.opened||(void 0!==this.zIndex&&(f.zIndex=this.zIndex),this.opened=!0,this.renderOverlay(),this.addLock())},addLock:function(){this.lockScroll&&(g(document,"touchstart",this.touchStart),g(document,"touchmove",this.onTouchMove),f.lockCount||document.body.classList.add("van-overflow-hidden"),f.lockCount++)},removeLock:function(){this.lockScroll&&f.lockCount&&(f.lockCount--,y(document,"touchstart",this.touchStart),y(document,"touchmove",this.onTouchMove),f.lockCount||document.body.classList.remove("van-overflow-hidden"))},close:function(){this.opened&&(D(this),this.opened=!1,this.removeLock(),this.$emit("input",!1))},onTouchMove:function(t){this.touchMove(t);var e=this.deltaY>0?"10":"01",n=F(t.target,this.$el),i=n.scrollHeight,r=n.offsetHeight,a=n.scrollTop,o="11";0===a?o=r>=i?"00":"01":a+r>=i&&(o="10"),"11"===o||"vertical"!==this.direction||parseInt(o,2)&parseInt(e,2)||w(t,!0)},renderOverlay:function(){var t=this;!this.$isServer&&this.value&&this.$nextTick((function(){t.updateZIndex(t.overlay?1:0),t.overlay?R(t,{zIndex:f.zIndex++,duration:t.duration,className:t.overlayClass,customStyle:t.overlayStyle}):D(t)}))},updateZIndex:function(t){void 0===t&&(t=0),this.$el.style.zIndex=++f.zIndex+t}}}}var tt=n("ea8e"),et=Object(o["a"])("info"),nt=et[0],it=et[1];function rt(t,e,n,i){var r=e.dot,o=e.info,s=Object(p["c"])(o)&&""!==o;if(r||s)return t("div",a()([{class:it({dot:r})},u(i,!0)]),[r?"":e.info])}rt.props={dot:Boolean,info:[Number,String]};var at=nt(rt),ot=Object(o["a"])("icon"),st=ot[0],lt=ot[1];function ct(t){return!!t&&-1!==t.indexOf("/")}var ut={medel:"medal","medel-o":"medal-o"};function dt(t){return t&&ut[t]||t}function ht(t,e,n,i){var r=dt(e.name),o=ct(r);return t(e.tag,a()([{class:[e.classPrefix,o?"":e.classPrefix+"-"+r],style:{color:e.color,fontSize:Object(tt["a"])(e.size)}},u(i,!0)]),[n.default&&n.default(),o&&t("img",{class:lt("image"),attrs:{src:r}}),t(at,{attrs:{dot:e.dot,info:Object(p["c"])(e.badge)?e.badge:e.info}})])}ht.props={dot:Boolean,name:String,size:[Number,String],info:[Number,String],badge:[Number,String],color:String,tag:{type:String,default:"i"},classPrefix:{type:String,default:lt()}};var ft=st(ht),pt=Object(o["a"])("popup"),mt=pt[0],vt=pt[1],gt=mt({mixins:[Z()],props:{round:Boolean,duration:[Number,String],closeable:Boolean,transition:String,safeAreaInsetBottom:Boolean,closeIcon:{type:String,default:"cross"},closeIconPosition:{type:String,default:"top-right"},position:{type:String,default:"center"},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0}},beforeCreate:function(){var t=this,e=function(e){return function(n){return t.$emit(e,n)}};this.onClick=e("click"),this.onOpened=e("opened"),this.onClosed=e("closed")},render:function(){var t,e=arguments[0];if(this.shouldRender){var n=this.round,i=this.position,r=this.duration,a="center"===i,o=this.transition||(a?"van-fade":"van-popup-slide-"+i),s={};if(Object(p["c"])(r)){var l=a?"animationDuration":"transitionDuration";s[l]=r+"s"}return e("transition",{attrs:{name:o},on:{afterEnter:this.onOpened,afterLeave:this.onClosed}},[e("div",{directives:[{name:"show",value:this.value}],style:s,class:vt((t={round:n},t[i]=i,t["safe-area-inset-bottom"]=this.safeAreaInsetBottom,t)),on:{click:this.onClick}},[this.slots(),this.closeable&&e(ft,{attrs:{role:"button",tabindex:"0",name:this.closeIcon},class:vt("close-icon",this.closeIconPosition),on:{click:this.close}})])])}}}),yt=Object(o["a"])("loading"),bt=yt[0],wt=yt[1];function kt(t,e){if("spinner"===e.type){for(var n=[],i=0;i<12;i++)n.push(t("i"));return n}return t("svg",{class:wt("circular"),attrs:{viewBox:"25 25 50 50"}},[t("circle",{attrs:{cx:"50",cy:"50",r:"20",fill:"none"}})])}function St(t,e,n){if(n.default){var i=e.textSize&&{fontSize:Object(tt["a"])(e.textSize)};return t("span",{class:wt("text"),style:i},[n.default()])}}function xt(t,e,n,i){var r=e.color,o=e.size,s=e.type,l={color:r};if(o){var c=Object(tt["a"])(o);l.width=c,l.height=c}return t("div",a()([{class:wt([s,{vertical:e.vertical}])},u(i,!0)]),[t("span",{class:wt("spinner",s),style:l},[kt(t,e)]),St(t,e,n)])}xt.props={color:String,size:[Number,String],vertical:Boolean,textSize:[Number,String],type:{type:String,default:"circular"}};var Tt=bt(xt),Et=Object(o["a"])("action-sheet"),_t=Et[0],At=Et[1];function Ct(t,e,n,i){var r=e.title,o=e.cancelText;function s(){d(i,"input",!1),d(i,"cancel")}function l(){if(r)return t("div",{class:At("header")},[r,t(ft,{attrs:{name:e.closeIcon},class:At("close"),on:{click:s}})])}function c(){if(n.default)return t("div",{class:At("content")},[n.default()])}function h(n,r){var a=n.disabled,o=n.loading,s=n.callback;function l(t){t.stopPropagation(),a||o||(s&&s(n),d(i,"select",n,r),e.closeOnClickAction&&d(i,"input",!1))}function c(){return o?t(Tt,{attrs:{size:"20px"}}):[t("span",{class:At("name")},[n.name]),n.subname&&t("div",{class:At("subname")},[n.subname])]}return t("button",{attrs:{type:"button"},class:[At("item",{disabled:a,loading:o}),n.className],style:{color:n.color},on:{click:l}},[c()])}function f(){if(o)return[t("div",{class:At("gap")}),t("button",{attrs:{type:"button"},class:At("cancel"),on:{click:s}},[o])]}var p=e.description&&t("div",{class:At("description")},[e.description]);return t(gt,a()([{class:At(),attrs:{position:"bottom",round:e.round,value:e.value,overlay:e.overlay,duration:e.duration,lazyRender:e.lazyRender,lockScroll:e.lockScroll,getContainer:e.getContainer,closeOnPopstate:e.closeOnPopstate,closeOnClickOverlay:e.closeOnClickOverlay,safeAreaInsetBottom:e.safeAreaInsetBottom}},u(i,!0)]),[l(),p,e.actions&&e.actions.map(h),c(),f()])}Ct.props=i({},J,{title:String,actions:Array,duration:[Number,String],cancelText:String,description:String,getContainer:[String,Function],closeOnPopstate:Boolean,closeOnClickAction:Boolean,round:{type:Boolean,default:!0},closeIcon:{type:String,default:"cross"},safeAreaInsetBottom:{type:Boolean,default:!0},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0}});var Ot=_t(Ct);function Lt(t){return t=t.replace(/[^-|\d]/g,""),/^((\+86)|(86))?(1)\d{10}$/.test(t)||/^0[0-9-]{10,13}$/.test(t)}var Rt=44,Dt={title:String,loading:Boolean,itemHeight:[Number,String],showToolbar:Boolean,cancelButtonText:String,confirmButtonText:String,allowHtml:{type:Boolean,default:!0},visibleItemCount:{type:[Number,String],default:5},swipeDuration:{type:[Number,String],default:1e3}},It="#ee0a24",Pt="#1989fa",Mt="#fff",Ft="van-hairline",Bt=Ft+"--top",Nt=Ft+"--left",jt=Ft+"--bottom",$t=Ft+"--surround",Ut=Ft+"--top-bottom",zt=Ft+"-unset--top-bottom",Vt=n("1128");function Ht(t){return Array.isArray(t)?t.map((function(t){return Ht(t)})):"object"===typeof t?Object(Vt["a"])({},t):t}function qt(t,e,n){return Math.min(Math.max(t,e),n)}function Gt(t,e,n){var i=t.indexOf(e);return-1===i?t:"-"===e&&0!==i?t.slice(0,i):t.slice(0,i+1)+t.slice(i).replace(n,"")}function Wt(t,e){t=e?Gt(t,".",/\./g):t.split(".")[0],t=Gt(t,"-",/-/g);var n=e?/[^-0-9.]/g:/[^-0-9]/g;return t.replace(n,"")}var Kt=200,Yt=300,Xt=15,Qt=Object(o["a"])("picker-column"),Jt=Qt[0],Zt=Qt[1];function te(t){var e=window.getComputedStyle(t),n=e.transform||e.webkitTransform,i=n.slice(7,n.length-1).split(", ")[5];return Number(i)}function ee(t){return Object(p["e"])(t)&&t.disabled}var ne=Jt({mixins:[G],props:{valueKey:String,allowHtml:Boolean,className:String,itemHeight:Number,defaultIndex:Number,swipeDuration:[Number,String],visibleItemCount:[Number,String],initialOptions:{type:Array,default:function(){return[]}}},data:function(){return{offset:0,duration:0,options:Ht(this.initialOptions),currentIndex:this.defaultIndex}},created:function(){this.$parent.children&&this.$parent.children.push(this),this.setIndex(this.currentIndex)},mounted:function(){this.bindTouchEvent(this.$el)},destroyed:function(){var t=this.$parent.children;t&&t.splice(t.indexOf(this),1)},watch:{initialOptions:"setOptions",defaultIndex:function(t){this.setIndex(t)}},computed:{count:function(){return this.options.length},baseOffset:function(){return this.itemHeight*(this.visibleItemCount-1)/2}},methods:{setOptions:function(t){JSON.stringify(t)!==JSON.stringify(this.options)&&(this.options=Ht(t),this.setIndex(this.defaultIndex))},onTouchStart:function(t){if(this.touchStart(t),this.moving){var e=te(this.$refs.wrapper);this.offset=Math.min(0,e-this.baseOffset),this.startOffset=this.offset}else this.startOffset=this.offset;this.duration=0,this.transitionEndTrigger=null,this.touchStartTime=Date.now(),this.momentumOffset=this.startOffset},onTouchMove:function(t){this.touchMove(t),"vertical"===this.direction&&(this.moving=!0,w(t,!0)),this.offset=qt(this.startOffset+this.deltaY,-this.count*this.itemHeight,this.itemHeight);var e=Date.now();e-this.touchStartTime>Yt&&(this.touchStartTime=e,this.momentumOffset=this.offset)},onTouchEnd:function(){var t=this,e=this.offset-this.momentumOffset,n=Date.now()-this.touchStartTime,i=n<Yt&&Math.abs(e)>Xt;if(i)this.momentum(e,n);else{var r=this.getIndexByOffset(this.offset);this.duration=Kt,this.setIndex(r,!0),setTimeout((function(){t.moving=!1}),0)}},onTransitionEnd:function(){this.stopMomentum()},onClickItem:function(t){this.moving||(this.transitionEndTrigger=null,this.duration=Kt,this.setIndex(t,!0))},adjustIndex:function(t){t=qt(t,0,this.count);for(var e=t;e<this.count;e++)if(!ee(this.options[e]))return e;for(var n=t-1;n>=0;n--)if(!ee(this.options[n]))return n},getOptionText:function(t){return Object(p["e"])(t)&&this.valueKey in t?t[this.valueKey]:t},setIndex:function(t,e){var n=this;t=this.adjustIndex(t)||0;var i=-t*this.itemHeight,r=function(){t!==n.currentIndex&&(n.currentIndex=t,e&&n.$emit("change",t))};this.moving&&i!==this.offset?this.transitionEndTrigger=r:r(),this.offset=i},setValue:function(t){for(var e=this.options,n=0;n<e.length;n++)if(this.getOptionText(e[n])===t)return this.setIndex(n)},getValue:function(){return this.options[this.currentIndex]},getIndexByOffset:function(t){return qt(Math.round(-t/this.itemHeight),0,this.count-1)},momentum:function(t,e){var n=Math.abs(t/e);t=this.offset+n/.003*(t<0?-1:1);var i=this.getIndexByOffset(t);this.duration=+this.swipeDuration,this.setIndex(i,!0)},stopMomentum:function(){this.moving=!1,this.duration=0,this.transitionEndTrigger&&(this.transitionEndTrigger(),this.transitionEndTrigger=null)},genOptions:function(){var t=this,e=this.$createElement,n={height:this.itemHeight+"px"};return this.options.map((function(i,r){var o,s=t.getOptionText(i),l=ee(i),c={style:n,attrs:{role:"button",tabindex:l?-1:0},class:[Zt("item",{disabled:l,selected:r===t.currentIndex})],on:{click:function(){t.onClickItem(r)}}},u={class:"van-ellipsis",domProps:(o={},o[t.allowHtml?"innerHTML":"textContent"]=s,o)};return e("li",a()([{},c]),[e("div",a()([{},u]))])}))}},render:function(){var t=arguments[0],e={transform:"translate3d(0, "+(this.offset+this.baseOffset)+"px, 0)",transitionDuration:this.duration+"ms",transitionProperty:this.duration?"all":"none"};return t("div",{class:[Zt(),this.className]},[t("ul",{ref:"wrapper",style:e,class:Zt("wrapper"),on:{transitionend:this.onTransitionEnd}},[this.genOptions()])])}}),ie=Object(o["a"])("picker"),re=ie[0],ae=ie[1],oe=ie[2],se=re({props:i({},Dt,{defaultIndex:{type:[Number,String],default:0},columns:{type:Array,default:function(){return[]}},toolbarPosition:{type:String,default:"top"},valueKey:{type:String,default:"text"}}),data:function(){return{children:[],formattedColumns:[]}},computed:{itemPxHeight:function(){return this.itemHeight?Object(tt["b"])(this.itemHeight):Rt},dataType:function(){var t=this.columns,e=t[0]||{};return e.children?"cascade":e.values?"object":"text"}},watch:{columns:{handler:"format",immediate:!0}},methods:{format:function(){var t=this.columns,e=this.dataType;"text"===e?this.formattedColumns=[{values:t}]:"cascade"===e?this.formatCascade():this.formattedColumns=t},formatCascade:function(){var t=[],e={children:this.columns};while(e&&e.children){var n=Object(p["c"])(e.defaultIndex)?e.defaultIndex:+this.defaultIndex;t.push({values:e.children,className:e.className,defaultIndex:n}),e=e.children[n]}this.formattedColumns=t},emit:function(t){var e=this;if("text"===this.dataType)this.$emit(t,this.getColumnValue(0),this.getColumnIndex(0));else{var n=this.getValues();"cascade"===this.dataType&&(n=n.map((function(t){return t[e.valueKey]}))),this.$emit(t,n,this.getIndexes())}},onCascadeChange:function(t){for(var e={children:this.columns},n=this.getIndexes(),i=0;i<=t;i++)e=e.children[n[i]];while(e&&e.children)t++,this.setColumnValues(t,e.children),e=e.children[e.defaultIndex||0]},onChange:function(t){var e=this;if("cascade"===this.dataType&&this.onCascadeChange(t),"text"===this.dataType)this.$emit("change",this,this.getColumnValue(0),this.getColumnIndex(0));else{var n=this.getValues();"cascade"===this.dataType&&(n=n.map((function(t){return t[e.valueKey]}))),this.$emit("change",this,n,t)}},getColumn:function(t){return this.children[t]},getColumnValue:function(t){var e=this.getColumn(t);return e&&e.getValue()},setColumnValue:function(t,e){var n=this.getColumn(t);n&&(n.setValue(e),"cascade"===this.dataType&&this.onCascadeChange(t))},getColumnIndex:function(t){return(this.getColumn(t)||{}).currentIndex},setColumnIndex:function(t,e){var n=this.getColumn(t);n&&(n.setIndex(e),"cascade"===this.dataType&&this.onCascadeChange(t))},getColumnValues:function(t){return(this.children[t]||{}).options},setColumnValues:function(t,e){var n=this.children[t];n&&n.setOptions(e)},getValues:function(){return this.children.map((function(t){return t.getValue()}))},setValues:function(t){var e=this;t.forEach((function(t,n){e.setColumnValue(n,t)}))},getIndexes:function(){return this.children.map((function(t){return t.currentIndex}))},setIndexes:function(t){var e=this;t.forEach((function(t,n){e.setColumnIndex(n,t)}))},confirm:function(){this.children.forEach((function(t){return t.stopMomentum()})),this.emit("confirm")},cancel:function(){this.emit("cancel")},genTitle:function(){var t=this.$createElement,e=this.slots("title");return e||(this.title?t("div",{class:["van-ellipsis",ae("title")]},[this.title]):void 0)},genToolbar:function(){var t=this.$createElement;if(this.showToolbar)return t("div",{class:ae("toolbar")},[this.slots()||[t("button",{attrs:{type:"button"},class:ae("cancel"),on:{click:this.cancel}},[this.cancelButtonText||oe("cancel")]),this.genTitle(),t("button",{attrs:{type:"button"},class:ae("confirm"),on:{click:this.confirm}},[this.confirmButtonText||oe("confirm")])]])},genColumns:function(){var t=this.$createElement,e=this.itemPxHeight,n=e*this.visibleItemCount,i={height:e+"px"},r={height:n+"px"},a={backgroundSize:"100% "+(n-e)/2+"px"};return t("div",{class:ae("columns"),style:r,on:{touchmove:w}},[this.genColumnItems(),t("div",{class:ae("mask"),style:a}),t("div",{class:[zt,ae("frame")],style:i})])},genColumnItems:function(){var t=this,e=this.$createElement;return this.formattedColumns.map((function(n,i){return e(ne,{attrs:{valueKey:t.valueKey,allowHtml:t.allowHtml,className:n.className,itemHeight:t.itemPxHeight,defaultIndex:n.defaultIndex||+t.defaultIndex,swipeDuration:t.swipeDuration,visibleItemCount:t.visibleItemCount,initialOptions:n.values},on:{change:function(){t.onChange(i)}}})}))}},render:function(t){return t("div",{class:ae()},["top"===this.toolbarPosition?this.genToolbar():t(),this.loading?t(Tt,{class:ae("loading")}):t(),this.slots("columns-top"),this.genColumns(),this.slots("columns-bottom"),"bottom"===this.toolbarPosition?this.genToolbar():t()])}}),le=Object(o["a"])("area"),ce=le[0],ue=le[1],de="000000";function he(t){return"9"===t[0]}function fe(t,e){var n=t.$slots,i=t.$scopedSlots,r={};return e.forEach((function(t){i[t]?r[t]=i[t]:n[t]&&(r[t]=function(){return n[t]})})),r}var pe=ce({props:i({},Dt,{value:String,areaList:{type:Object,default:function(){return{}}},columnsNum:{type:[Number,String],default:3},isOverseaCode:{type:Function,default:he},columnsPlaceholder:{type:Array,default:function(){return[]}}}),data:function(){return{code:this.value,columns:[{values:[]},{values:[]},{values:[]}]}},computed:{province:function(){return this.areaList.province_list||{}},city:function(){return this.areaList.city_list||{}},county:function(){return this.areaList.county_list||{}},displayColumns:function(){return this.columns.slice(0,+this.columnsNum)},placeholderMap:function(){return{province:this.columnsPlaceholder[0]||"",city:this.columnsPlaceholder[1]||"",county:this.columnsPlaceholder[2]||""}}},watch:{value:function(t){this.code=t,this.setValues()},areaList:{deep:!0,handler:"setValues"},columnsNum:function(){var t=this;this.$nextTick((function(){t.setValues()}))}},mounted:function(){this.setValues()},methods:{getList:function(t,e){var n=[];if("province"!==t&&!e)return n;var i=this[t];if(n=Object.keys(i).map((function(t){return{code:t,name:i[t]}})),e&&(this.isOverseaCode(e)&&"city"===t&&(e="9"),n=n.filter((function(t){return 0===t.code.indexOf(e)}))),this.placeholderMap[t]&&n.length){var r="";"city"===t?r=de.slice(2,4):"county"===t&&(r=de.slice(4,6)),n.unshift({code:""+e+r,name:this.placeholderMap[t]})}return n},getIndex:function(t,e){var n="province"===t?2:"city"===t?4:6,i=this.getList(t,e.slice(0,n-2));this.isOverseaCode(e)&&"province"===t&&(n=1),e=e.slice(0,n);for(var r=0;r<i.length;r++)if(i[r].code.slice(0,n)===e)return r;return 0},parseOutputValues:function(t){var e=this;return t.map((function(t,n){return t?(t=JSON.parse(JSON.stringify(t)),t.code&&t.name!==e.columnsPlaceholder[n]||(t.code="",t.name=""),t):t}))},onChange:function(t,e,n){this.code=e[n].code,this.setValues();var i=this.parseOutputValues(t.getValues());this.$emit("change",t,i,n)},onConfirm:function(t,e){t=this.parseOutputValues(t),this.setValues(),this.$emit("confirm",t,e)},getDefaultCode:function(){if(this.columnsPlaceholder.length)return de;var t=Object.keys(this.county);if(t[0])return t[0];var e=Object.keys(this.city);return e[0]?e[0]:""},setValues:function(){var t=this.code;t||(t=this.getDefaultCode());var e=this.$refs.picker,n=this.getList("province"),i=this.getList("city",t.slice(0,2));e&&(e.setColumnValues(0,n),e.setColumnValues(1,i),i.length&&"00"===t.slice(2,4)&&!this.isOverseaCode(t)&&(t=i[0].code),e.setColumnValues(2,this.getList("county",t.slice(0,4))),e.setIndexes([this.getIndex("province",t),this.getIndex("city",t),this.getIndex("county",t)]))},getValues:function(){var t=this.$refs.picker,e=t?t.getValues().filter((function(t){return!!t})):[];return e=this.parseOutputValues(e),e},getArea:function(){var t=this.getValues(),e={code:"",country:"",province:"",city:"",county:""};if(!t.length)return e;var n=t.map((function(t){return t.name})),i=t.filter((function(t){return!!t.code}));return e.code=i.length?i[i.length-1].code:"",this.isOverseaCode(e.code)?(e.country=n[1]||"",e.province=n[2]||""):(e.province=n[0]||"",e.city=n[1]||"",e.county=n[2]||""),e},reset:function(t){this.code=t||"",this.setValues()}},render:function(){var t=arguments[0],e=i({},this.$listeners,{change:this.onChange,confirm:this.onConfirm});return t(se,{ref:"picker",class:ue(),attrs:{showToolbar:!0,valueKey:"name",title:this.title,loading:this.loading,columns:this.displayColumns,itemHeight:this.itemHeight,swipeDuration:this.swipeDuration,visibleItemCount:this.visibleItemCount,cancelButtonText:this.cancelButtonText,confirmButtonText:this.confirmButtonText},scopedSlots:fe(this,["title","columns-top","columns-bottom"]),on:i({},e)})}});function me(){return!p["g"]&&/android/.test(navigator.userAgent.toLowerCase())}function ve(){return!p["g"]&&/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase())}var ge=ve();function ye(){ge&&$(j())}function be(t){return"NavigationDuplicated"===t.name||t.message&&-1!==t.message.indexOf("redundant navigation")}function we(t,e){var n=e.to,i=e.url,r=e.replace;if(n&&t){var a=t[r?"replace":"push"](n);a&&a.catch&&a.catch((function(t){if(t&&!be(t))throw t}))}else i&&(r?location.replace(i):location.href=i)}function ke(t){we(t.parent&&t.parent.$router,t.props)}var Se={url:String,replace:Boolean,to:[String,Object]},xe={icon:String,size:String,center:Boolean,isLink:Boolean,required:Boolean,clickable:Boolean,iconPrefix:String,titleStyle:null,titleClass:null,valueClass:null,labelClass:null,title:[Number,String],value:[Number,String],label:[Number,String],arrowDirection:String,border:{type:Boolean,default:!0}},Te=Object(o["a"])("cell"),Ee=Te[0],_e=Te[1];function Ae(t,e,n,i){var r=e.icon,o=e.size,s=e.title,l=e.label,c=e.value,h=e.isLink,f=n.title||Object(p["c"])(s);function m(){var i=n.label||Object(p["c"])(l);if(i)return t("div",{class:[_e("label"),e.labelClass]},[n.label?n.label():l])}function v(){if(f)return t("div",{class:[_e("title"),e.titleClass],style:e.titleStyle},[n.title?n.title():t("span",[s]),m()])}function g(){var i=n.default||Object(p["c"])(c);if(i)return t("div",{class:[_e("value",{alone:!f}),e.valueClass]},[n.default?n.default():t("span",[c])])}function y(){return n.icon?n.icon():r?t(ft,{class:_e("left-icon"),attrs:{name:r,classPrefix:e.iconPrefix}}):void 0}function b(){var i=n["right-icon"];if(i)return i();if(h){var r=e.arrowDirection;return t(ft,{class:_e("right-icon"),attrs:{name:r?"arrow-"+r:"arrow"}})}}function w(t){d(i,"click",t),ke(i)}var k=h||e.clickable,S={clickable:k,center:e.center,required:e.required,borderless:!e.border};return o&&(S[o]=o),t("div",a()([{class:_e(S),attrs:{role:k?"button":null,tabindex:k?0:null},on:{click:w}},u(i)]),[y(),v(),g(),b(),null==n.extra?void 0:n.extra()])}Ae.props=i({},xe,Se);var Ce=Ee(Ae),Oe=Object(o["a"])("field"),Le=Oe[0],Re=Oe[1],De=Le({inheritAttrs:!1,provide:function(){return{vanField:this}},inject:{vanForm:{default:null}},props:i({},xe,{name:String,rules:Array,disabled:Boolean,readonly:Boolean,autosize:[Boolean,Object],leftIcon:String,rightIcon:String,clearable:Boolean,formatter:Function,maxlength:[Number,String],labelWidth:[Number,String],labelClass:null,labelAlign:String,inputAlign:String,placeholder:String,errorMessage:String,errorMessageAlign:String,showWordLimit:Boolean,value:{type:[String,Number],default:""},type:{type:String,default:"text"},error:{type:Boolean,default:null},colon:{type:Boolean,default:null},clearTrigger:{type:String,default:"focus"},formatTrigger:{type:String,default:"onChange"}}),data:function(){return{focused:!1,validateFailed:!1,validateMessage:""}},watch:{value:function(){this.updateValue(this.value),this.resetValidation(),this.validateWithTrigger("onChange"),this.$nextTick(this.adjustSize)}},mounted:function(){this.updateValue(this.value,this.formatTrigger),this.$nextTick(this.adjustSize),this.vanForm&&this.vanForm.addField(this)},beforeDestroy:function(){this.vanForm&&this.vanForm.removeField(this)},computed:{showClear:function(){if(this.clearable&&!this.readonly){var t=Object(p["c"])(this.value)&&""!==this.value,e="always"===this.clearTrigger||"focus"===this.clearTrigger&&this.focused;return t&&e}},showError:function(){return null!==this.error?this.error:!!(this.vanForm&&this.vanForm.showError&&this.validateFailed)||void 0},listeners:function(){return i({},this.$listeners,{blur:this.onBlur,focus:this.onFocus,input:this.onInput,click:this.onClickInput,keypress:this.onKeypress})},labelStyle:function(){var t=this.getProp("labelWidth");if(t)return{width:Object(tt["a"])(t)}},formValue:function(){return this.children&&(this.$scopedSlots.input||this.$slots.input)?this.children.value:this.value}},methods:{focus:function(){this.$refs.input&&this.$refs.input.focus()},blur:function(){this.$refs.input&&this.$refs.input.blur()},runValidator:function(t,e){return new Promise((function(n){var i=e.validator(t,e);if(Object(p["f"])(i))return i.then(n);n(i)}))},isEmptyValue:function(t){return Array.isArray(t)?!t.length:!t},runSyncRule:function(t,e){return(!e.required||!this.isEmptyValue(t))&&!(e.pattern&&!e.pattern.test(t))},getRuleMessage:function(t,e){var n=e.message;return Object(p["d"])(n)?n(t,e):n},runRules:function(t){var e=this;return t.reduce((function(t,n){return t.then((function(){if(!e.validateFailed){var t=e.formValue;return n.formatter&&(t=n.formatter(t,n)),e.runSyncRule(t,n)?n.validator?e.runValidator(t,n).then((function(i){!1===i&&(e.validateFailed=!0,e.validateMessage=e.getRuleMessage(t,n))})):void 0:(e.validateFailed=!0,void(e.validateMessage=e.getRuleMessage(t,n)))}}))}),Promise.resolve())},validate:function(t){var e=this;return void 0===t&&(t=this.rules),new Promise((function(n){t||n(),e.runRules(t).then((function(){e.validateFailed?n({name:e.name,message:e.validateMessage}):n()}))}))},validateWithTrigger:function(t){if(this.vanForm&&this.rules){var e=this.vanForm.validateTrigger===t,n=this.rules.filter((function(n){return n.trigger?n.trigger===t:e}));this.validate(n)}},resetValidation:function(){this.validateMessage&&(this.validateFailed=!1,this.validateMessage="")},updateValue:function(t,e){void 0===e&&(e="onChange"),t=Object(p["c"])(t)?String(t):"";var n=this.maxlength;if(Object(p["c"])(n)&&t.length>n&&(t=t.slice(0,n)),"number"===this.type||"digit"===this.type){var i="number"===this.type;t=Wt(t,i)}this.formatter&&e===this.formatTrigger&&(t=this.formatter(t));var r=this.$refs.input;r&&t!==r.value&&(r.value=t),t!==this.value&&this.$emit("input",t),this.currentValue=t},onInput:function(t){t.target.composing||this.updateValue(t.target.value)},onFocus:function(t){this.focused=!0,this.$emit("focus",t),this.readonly&&this.blur()},onBlur:function(t){this.focused=!1,this.updateValue(this.value,"onBlur"),this.$emit("blur",t),this.validateWithTrigger("onBlur"),ye()},onClick:function(t){this.$emit("click",t)},onClickInput:function(t){this.$emit("click-input",t)},onClickLeftIcon:function(t){this.$emit("click-left-icon",t)},onClickRightIcon:function(t){this.$emit("click-right-icon",t)},onClear:function(t){w(t),this.$emit("input",""),this.$emit("clear",t)},onKeypress:function(t){var e=13;if(t.keyCode===e){var n=this.getProp("submitOnEnter");n||"textarea"===this.type||w(t),"search"===this.type&&this.blur()}this.$emit("keypress",t)},adjustSize:function(){var t=this.$refs.input;if("textarea"===this.type&&this.autosize&&t){t.style.height="auto";var e=t.scrollHeight;if(Object(p["e"])(this.autosize)){var n=this.autosize,i=n.maxHeight,r=n.minHeight;i&&(e=Math.min(e,i)),r&&(e=Math.max(e,r))}e&&(t.style.height=e+"px")}},genInput:function(){var t=this.$createElement,e=this.type,n=this.slots("input"),r=this.getProp("inputAlign");if(n)return t("div",{class:Re("control",[r,"custom"]),on:{click:this.onClickInput}},[n]);var o={ref:"input",class:Re("control",r),domProps:{value:this.value},attrs:i({},this.$attrs,{name:this.name,disabled:this.disabled,readonly:this.readonly,placeholder:this.placeholder}),on:this.listeners,directives:[{name:"model",value:this.value}]};if("textarea"===e)return t("textarea",a()([{},o]));var s,l=e;return"number"===e&&(l="text",s="decimal"),"digit"===e&&(l="tel",s="numeric"),t("input",a()([{attrs:{type:l,inputmode:s}},o]))},genLeftIcon:function(){var t=this.$createElement,e=this.slots("left-icon")||this.leftIcon;if(e)return t("div",{class:Re("left-icon"),on:{click:this.onClickLeftIcon}},[this.slots("left-icon")||t(ft,{attrs:{name:this.leftIcon,classPrefix:this.iconPrefix}})])},genRightIcon:function(){var t=this.$createElement,e=this.slots,n=e("right-icon")||this.rightIcon;if(n)return t("div",{class:Re("right-icon"),on:{click:this.onClickRightIcon}},[e("right-icon")||t(ft,{attrs:{name:this.rightIcon,classPrefix:this.iconPrefix}})])},genWordLimit:function(){var t=this.$createElement;if(this.showWordLimit&&this.maxlength){var e=(this.value||"").length;return t("div",{class:Re("word-limit")},[t("span",{class:Re("word-num")},[e]),"/",this.maxlength])}},genMessage:function(){var t=this.$createElement;if(!this.vanForm||!1!==this.vanForm.showErrorMessage){var e=this.errorMessage||this.validateMessage;if(e){var n=this.getProp("errorMessageAlign");return t("div",{class:Re("error-message",n)},[e])}}},getProp:function(t){return Object(p["c"])(this[t])?this[t]:this.vanForm&&Object(p["c"])(this.vanForm[t])?this.vanForm[t]:void 0},genLabel:function(){var t=this.$createElement,e=this.getProp("colon")?":":"";return this.slots("label")?[this.slots("label"),e]:this.label?t("span",[this.label+e]):void 0}},render:function(){var t,e=arguments[0],n=this.slots,i=this.getProp("labelAlign"),r={icon:this.genLeftIcon},a=this.genLabel();a&&(r.title=function(){return a});var o=this.slots("extra");return o&&(r.extra=function(){return o}),e(Ce,{attrs:{icon:this.leftIcon,size:this.size,center:this.center,border:this.border,isLink:this.isLink,required:this.required,clickable:this.clickable,titleStyle:this.labelStyle,valueClass:Re("value"),titleClass:[Re("label",i),this.labelClass],arrowDirection:this.arrowDirection},scopedSlots:r,class:Re((t={error:this.showError,disabled:this.disabled},t["label-"+i]=i,t["min-height"]="textarea"===this.type&&!this.autosize,t)),on:{click:this.onClick}},[e("div",{class:Re("body")},[this.genInput(),this.showClear&&e(ft,{attrs:{name:"clear"},class:Re("clear"),on:{touchstart:this.onClear}}),this.genRightIcon(),n("button")&&e("div",{class:Re("button")},[n("button")])]),this.genWordLimit(),this.genMessage()])}}),Ie=0;function Pe(t){t?(Ie||document.body.classList.add("van-toast--unclickable"),Ie++):(Ie--,Ie||document.body.classList.remove("van-toast--unclickable"))}var Me=Object(o["a"])("toast"),Fe=Me[0],Be=Me[1],Ne=Fe({mixins:[Z()],props:{icon:String,className:null,iconPrefix:String,loadingType:String,forbidClick:Boolean,closeOnClick:Boolean,message:[Number,String],type:{type:String,default:"text"},position:{type:String,default:"middle"},transition:{type:String,default:"van-fade"},lockScroll:{type:Boolean,default:!1}},data:function(){return{clickable:!1}},mounted:function(){this.toggleClickable()},destroyed:function(){this.toggleClickable()},watch:{value:"toggleClickable",forbidClick:"toggleClickable"},methods:{onClick:function(){this.closeOnClick&&this.close()},toggleClickable:function(){var t=this.value&&this.forbidClick;this.clickable!==t&&(this.clickable=t,Pe(t))},onAfterEnter:function(){this.$emit("opened"),this.onOpened&&this.onOpened()},onAfterLeave:function(){this.$emit("closed")},genIcon:function(){var t=this.$createElement,e=this.icon,n=this.type,i=this.iconPrefix,r=this.loadingType,a=e||"success"===n||"fail"===n;return a?t(ft,{class:Be("icon"),attrs:{classPrefix:i,name:e||n}}):"loading"===n?t(Tt,{class:Be("loading"),attrs:{type:r}}):void 0},genMessage:function(){var t=this.$createElement,e=this.type,n=this.message;if(Object(p["c"])(n)&&""!==n)return"html"===e?t("div",{class:Be("text"),domProps:{innerHTML:n}}):t("div",{class:Be("text")},[n])}},render:function(){var t,e=arguments[0];return e("transition",{attrs:{name:this.transition},on:{afterEnter:this.onAfterEnter,afterLeave:this.onAfterLeave}},[e("div",{directives:[{name:"show",value:this.value}],class:[Be([this.position,(t={},t[this.type]=!this.icon,t)]),this.className],on:{click:this.onClick}},[this.genIcon(),this.genMessage()])])}}),je={icon:"",type:"text",mask:!1,value:!0,message:"",className:"",overlay:!1,onClose:null,onOpened:null,duration:2e3,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,getContainer:"body",overlayStyle:null,closeOnClick:!1,closeOnClickOverlay:!1},$e={},Ue=[],ze=!1,Ve=i({},je);function He(t){return Object(p["e"])(t)?t:{message:t}}function qe(){if(p["g"])return{};if(!Ue.length||ze){var t=new(s["a"].extend(Ne))({el:document.createElement("div")});t.$on("input",(function(e){t.value=e})),Ue.push(t)}return Ue[Ue.length-1]}function Ge(t){return i({},t,{overlay:t.mask||t.overlay,mask:void 0,duration:void 0})}function We(t){void 0===t&&(t={});var e=qe();return e.value&&e.updateZIndex(),t=He(t),t=i({},Ve,$e[t.type||Ve.type],t),t.clear=function(){e.value=!1,t.onClose&&t.onClose(),ze&&!p["g"]&&e.$on("closed",(function(){clearTimeout(e.timer),Ue=Ue.filter((function(t){return t!==e})),A(e.$el),e.$destroy()}))},i(e,Ge(t)),clearTimeout(e.timer),t.duration>0&&(e.timer=setTimeout((function(){e.clear()}),t.duration)),e}var Ke=function(t){return function(e){return We(i({type:t},He(e)))}};["loading","success","fail"].forEach((function(t){We[t]=Ke(t)})),We.clear=function(t){Ue.length&&(t?(Ue.forEach((function(t){t.clear()})),Ue=[]):ze?Ue.shift().clear():Ue[0].clear())},We.setDefaultOptions=function(t,e){"string"===typeof t?$e[t]=e:i(Ve,t)},We.resetDefaultOptions=function(t){"string"===typeof t?$e[t]=null:(Ve=i({},je),$e={})},We.allowMultiple=function(t){void 0===t&&(t=!0),ze=t},We.install=function(){s["a"].use(Ne)},s["a"].prototype.$toast=We;var Ye=We,Xe=Object(o["a"])("button"),Qe=Xe[0],Je=Xe[1];function Ze(t,e,n,i){var r,o=e.tag,s=e.icon,l=e.type,c=e.color,h=e.plain,f=e.disabled,p=e.loading,m=e.hairline,v=e.loadingText,g={};function y(t){p||f||(d(i,"click",t),ke(i))}function b(t){d(i,"touchstart",t)}c&&(g.color=h?c:Mt,h||(g.background=c),-1!==c.indexOf("gradient")?g.border=0:g.borderColor=c);var w=[Je([l,e.size,{plain:h,loading:p,disabled:f,hairline:m,block:e.block,round:e.round,square:e.square}]),(r={},r[$t]=m,r)];function k(){var i,r=[];return p?r.push(t(Tt,{class:Je("loading"),attrs:{size:e.loadingSize,type:e.loadingType,color:"currentColor"}})):s&&r.push(t(ft,{attrs:{name:s,classPrefix:e.iconPrefix},class:Je("icon")})),i=p?v:n.default?n.default():e.text,i&&r.push(t("span",{class:Je("text")},[i])),r}return t(o,a()([{style:g,class:w,attrs:{type:e.nativeType,disabled:f},on:{click:y,touchstart:b}},u(i)]),[t("div",{class:Je("content")},[k()])])}Ze.props=i({},Se,{text:String,icon:String,color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:String,loadingText:String,loadingType:String,tag:{type:String,default:"button"},type:{type:String,default:"default"},size:{type:String,default:"normal"},loadingSize:{type:String,default:"20px"}});var tn,en=Qe(Ze),nn=Object(o["a"])("dialog"),rn=nn[0],an=nn[1],on=nn[2],sn=rn({mixins:[Z()],props:{title:String,width:[Number,String],message:String,className:null,callback:Function,beforeClose:Function,messageAlign:String,cancelButtonText:String,cancelButtonColor:String,confirmButtonText:String,confirmButtonColor:String,showCancelButton:Boolean,transition:{type:String,default:"van-dialog-bounce"},showConfirmButton:{type:Boolean,default:!0},overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!1},allowHtml:{type:Boolean,default:!0}},data:function(){return{loading:{confirm:!1,cancel:!1}}},methods:{onClickOverlay:function(){this.handleAction("overlay")},handleAction:function(t){var e=this;this.$emit(t),this.value&&(this.beforeClose?(this.loading[t]=!0,this.beforeClose(t,(function(n){!1!==n&&e.loading[t]&&e.onClose(t),e.loading.confirm=!1,e.loading.cancel=!1}))):this.onClose(t))},onClose:function(t){this.close(),this.callback&&this.callback(t)},onOpened:function(){this.$emit("opened")},onClosed:function(){this.$emit("closed")},genButtons:function(){var t,e=this,n=this.$createElement,i=this.showCancelButton&&this.showConfirmButton;return n("div",{class:[Bt,an("footer",{buttons:i})]},[this.showCancelButton&&n(en,{attrs:{size:"large",loading:this.loading.cancel,text:this.cancelButtonText||on("cancel")},class:an("cancel"),style:{color:this.cancelButtonColor},on:{click:function(){e.handleAction("cancel")}}}),this.showConfirmButton&&n(en,{attrs:{size:"large",loading:this.loading.confirm,text:this.confirmButtonText||on("confirm")},class:[an("confirm"),(t={},t[Nt]=i,t)],style:{color:this.confirmButtonColor},on:{click:function(){e.handleAction("confirm")}}})])},genContent:function(t,e){var n=this.$createElement;if(e)return n("div",{class:an("content")},[e]);var i=this.message,r=this.messageAlign;if(i){var o,s,l={class:an("message",(o={"has-title":t},o[r]=r,o)),domProps:(s={},s[this.allowHtml?"innerHTML":"textContent"]=i,s)};return n("div",{class:an("content")},[n("div",a()([{},l]))])}}},render:function(){var t=arguments[0];if(this.shouldRender){var e=this.message,n=this.slots(),i=this.slots("title")||this.title,r=i&&t("div",{class:an("header",{isolated:!e&&!n})},[i]);return t("transition",{attrs:{name:this.transition},on:{afterEnter:this.onOpened,afterLeave:this.onClosed}},[t("div",{directives:[{name:"show",value:this.value}],attrs:{role:"dialog","aria-labelledby":this.title||e},class:[an(),this.className],style:{width:Object(tt["a"])(this.width)}},[r,this.genContent(i,n),this.genButtons()])])}}});function ln(t){return document.body.contains(t)}function cn(){tn&&tn.$destroy(),tn=new(s["a"].extend(sn))({el:document.createElement("div"),propsData:{lazyRender:!1}}),tn.$on("input",(function(t){tn.value=t}))}function un(t){return p["g"]?Promise.resolve():new Promise((function(e,n){tn&&ln(tn.$el)||cn(),i(tn,un.currentOptions,t,{resolve:e,reject:n})}))}un.defaultOptions={value:!0,title:"",width:"",message:"",overlay:!0,className:"",allowHtml:!0,lockScroll:!0,transition:"van-dialog-bounce",beforeClose:null,overlayClass:"",overlayStyle:null,messageAlign:"",getContainer:"body",cancelButtonText:"",cancelButtonColor:null,confirmButtonText:"",confirmButtonColor:null,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!1,closeOnClickOverlay:!1,callback:function(t){tn["confirm"===t?"resolve":"reject"](t)}},un.alert=un,un.confirm=function(t){return un(i({showCancelButton:!0},t))},un.close=function(){tn&&(tn.value=!1)},un.setDefaultOptions=function(t){i(un.currentOptions,t)},un.resetDefaultOptions=function(){un.currentOptions=i({},un.defaultOptions)},un.resetDefaultOptions(),un.install=function(){s["a"].use(sn)},un.Component=sn,s["a"].prototype.$dialog=un;var dn=un,hn=Object(o["a"])("address-edit-detail"),fn=hn[0],pn=hn[1],mn=hn[2],vn=me(),gn=fn({props:{value:String,errorMessage:String,focused:Boolean,detailRows:[Number,String],searchResult:Array,detailMaxlength:[Number,String],showSearchResult:Boolean},computed:{shouldShowSearchResult:function(){return this.focused&&this.searchResult&&this.showSearchResult}},methods:{onSelect:function(t){this.$emit("select-search",t),this.$emit("input",((t.address||"")+" "+(t.name||"")).trim())},onFinish:function(){this.$refs.field.blur()},genFinish:function(){var t=this.$createElement,e=this.value&&this.focused&&vn;if(e)return t("div",{class:pn("finish"),on:{click:this.onFinish}},[mn("complete")])},genSearchResult:function(){var t=this,e=this.$createElement,n=this.value,i=this.shouldShowSearchResult,r=this.searchResult;if(i)return r.map((function(i){return e(Ce,{key:i.name+i.address,attrs:{clickable:!0,border:!1,icon:"location-o",label:i.address},class:pn("search-item"),on:{click:function(){t.onSelect(i)}},scopedSlots:{title:function(){if(i.name){var t=i.name.replace(n,"<span class="+pn("keyword")+">"+n+"</span>");return e("div",{domProps:{innerHTML:t}})}}}})}))}},render:function(){var t=arguments[0];return t(Ce,{class:pn()},[t(De,{attrs:{autosize:!0,rows:this.detailRows,clearable:!vn,type:"textarea",value:this.value,errorMessage:this.errorMessage,border:!this.shouldShowSearchResult,label:mn("label"),maxlength:this.detailMaxlength,placeholder:mn("placeholder")},ref:"field",scopedSlots:{icon:this.genFinish},on:i({},this.$listeners)}),this.genSearchResult()])}}),yn={size:[Number,String],value:null,loading:Boolean,disabled:Boolean,activeColor:String,inactiveColor:String,activeValue:{type:null,default:!0},inactiveValue:{type:null,default:!1}},bn={inject:{vanField:{default:null}},watch:{value:function(){var t=this.vanField;t&&(t.resetValidation(),t.validateWithTrigger("onChange"))}},created:function(){var t=this.vanField;t&&!t.children&&(t.children=this)}},wn=Object(o["a"])("switch"),kn=wn[0],Sn=wn[1],xn=kn({mixins:[bn],props:yn,computed:{checked:function(){return this.value===this.activeValue},style:function(){return{fontSize:Object(tt["a"])(this.size),backgroundColor:this.checked?this.activeColor:this.inactiveColor}}},methods:{onClick:function(t){if(this.$emit("click",t),!this.disabled&&!this.loading){var e=this.checked?this.inactiveValue:this.activeValue;this.$emit("input",e),this.$emit("change",e)}},genLoading:function(){var t=this.$createElement;if(this.loading){var e=this.checked?this.activeColor:this.inactiveColor;return t(Tt,{class:Sn("loading"),attrs:{color:e}})}}},render:function(){var t=arguments[0],e=this.checked,n=this.loading,i=this.disabled;return t("div",{class:Sn({on:e,loading:n,disabled:i}),attrs:{role:"switch","aria-checked":String(e)},style:this.style,on:{click:this.onClick}},[t("div",{class:Sn("node")},[this.genLoading()])])}}),Tn=Object(o["a"])("switch-cell"),En=Tn[0],_n=Tn[1];function An(t,e,n,r){return t(Ce,a()([{attrs:{center:!0,size:e.cellSize,title:e.title,border:e.border},class:_n([e.cellSize])},u(r)]),[t(xn,{props:i({},e),on:i({},r.listeners)})])}An.props=i({},yn,{title:String,cellSize:String,border:{type:Boolean,default:!0},size:{type:String,default:"24px"}});var Cn=En(An),On=Object(o["a"])("address-edit"),Ln=On[0],Rn=On[1],Dn=On[2],In={name:"",tel:"",country:"",province:"",city:"",county:"",areaCode:"",postalCode:"",addressDetail:"",isDefault:!1};function Pn(t){return/^\d{6}$/.test(t)}var Mn=Ln({props:{areaList:Object,isSaving:Boolean,isDeleting:Boolean,validator:Function,showDelete:Boolean,showPostal:Boolean,searchResult:Array,showSetDefault:Boolean,showSearchResult:Boolean,saveButtonText:String,deleteButtonText:String,areaPlaceholder:String,showArea:{type:Boolean,default:!0},showDetail:{type:Boolean,default:!0},disableArea:Boolean,detailRows:{type:[Number,String],default:1},detailMaxlength:{type:[Number,String],default:200},addressInfo:{type:Object,default:function(){return i({},In)}},telValidator:{type:Function,default:Lt},postalValidator:{type:Function,default:Pn},areaColumnsPlaceholder:{type:Array,default:function(){return[]}}},data:function(){return{data:{},showAreaPopup:!1,detailFocused:!1,errorInfo:{tel:"",name:"",areaCode:"",postalCode:"",addressDetail:""}}},computed:{areaListLoaded:function(){return Object(p["e"])(this.areaList)&&Object.keys(this.areaList).length},areaText:function(){var t=this.data,e=t.country,n=t.province,i=t.city,r=t.county,a=t.areaCode;if(a){var o=[e,n,i,r];return n&&n===i&&o.splice(1,1),o.filter((function(t){return t})).join("/")}return""}},watch:{addressInfo:{handler:function(t){this.data=i({},In,t),this.setAreaCode(t.areaCode)},deep:!0,immediate:!0},areaList:function(){this.setAreaCode(this.data.areaCode)}},methods:{onFocus:function(t){this.errorInfo[t]="",this.detailFocused="addressDetail"===t,this.$emit("focus",t)},onChangeDetail:function(t){this.data.addressDetail=t,this.$emit("change-detail",t)},onAreaConfirm:function(t){t=t.filter((function(t){return!!t})),t.some((function(t){return!t.code}))?Ye(Dn("areaEmpty")):(this.showAreaPopup=!1,this.assignAreaValues(),this.$emit("change-area",t))},assignAreaValues:function(){var t=this.$refs.area;if(t){var e=t.getArea();e.areaCode=e.code,delete e.code,i(this.data,e)}},onSave:function(){var t=this,e=["name","tel"];this.showArea&&e.push("areaCode"),this.showDetail&&e.push("addressDetail"),this.showPostal&&e.push("postalCode");var n=e.every((function(e){var n=t.getErrorMessage(e);return n&&(t.errorInfo[e]=n),!n}));n&&!this.isSaving&&this.$emit("save",this.data)},getErrorMessage:function(t){var e=String(this.data[t]||"").trim();if(this.validator){var n=this.validator(t,e);if(n)return n}switch(t){case"name":return e?"":Dn("nameEmpty");case"tel":return this.telValidator(e)?"":Dn("telInvalid");case"areaCode":return e?"":Dn("areaEmpty");case"addressDetail":return e?"":Dn("addressEmpty");case"postalCode":return e&&!this.postalValidator(e)?Dn("postalEmpty"):""}},onDelete:function(){var t=this;dn.confirm({title:Dn("confirmDelete")}).then((function(){t.$emit("delete",t.data)})).catch((function(){t.$emit("cancel-delete",t.data)}))},getArea:function(){return this.$refs.area?this.$refs.area.getValues():[]},setAreaCode:function(t){this.data.areaCode=t||"",t&&this.$nextTick(this.assignAreaValues)},setAddressDetail:function(t){this.data.addressDetail=t},onDetailBlur:function(){var t=this;setTimeout((function(){t.detailFocused=!1}))}},render:function(){var t=this,e=arguments[0],n=this.data,i=this.errorInfo,r=this.searchResult,a=this.disableArea,o=function(e){return function(){return t.onFocus(e)}},s=r&&r.length&&this.detailFocused;return e("div",{class:Rn()},[e("div",{class:Rn("fields")},[e(De,{attrs:{clearable:!0,label:Dn("name"),placeholder:Dn("namePlaceholder"),errorMessage:i.name},on:{focus:o("name")},model:{value:n.name,callback:function(e){t.$set(n,"name",e)}}}),e(De,{attrs:{clearable:!0,type:"tel",label:Dn("tel"),placeholder:Dn("telPlaceholder"),errorMessage:i.tel},on:{focus:o("tel")},model:{value:n.tel,callback:function(e){t.$set(n,"tel",e)}}}),e(De,{directives:[{name:"show",value:this.showArea}],attrs:{readonly:!0,clickable:!a,label:Dn("area"),placeholder:this.areaPlaceholder||Dn("areaPlaceholder"),errorMessage:i.areaCode,rightIcon:a?null:"arrow",value:this.areaText},on:{focus:o("areaCode"),click:function(){t.$emit("click-area"),t.showAreaPopup=!a}}}),e(gn,{directives:[{name:"show",value:this.showDetail}],attrs:{focused:this.detailFocused,value:n.addressDetail,errorMessage:i.addressDetail,detailRows:this.detailRows,detailMaxlength:this.detailMaxlength,searchResult:this.searchResult,showSearchResult:this.showSearchResult},on:{focus:o("addressDetail"),blur:this.onDetailBlur,input:this.onChangeDetail,"select-search":function(e){t.$emit("select-search",e)}}}),this.showPostal&&e(De,{directives:[{name:"show",value:!s}],attrs:{type:"tel",maxlength:"6",label:Dn("postal"),placeholder:Dn("postal"),errorMessage:i.postalCode},on:{focus:o("postalCode")},model:{value:n.postalCode,callback:function(e){t.$set(n,"postalCode",e)}}}),this.slots()]),this.showSetDefault&&e(Cn,{class:Rn("default"),directives:[{name:"show",value:!s}],attrs:{title:Dn("defaultAddress")},on:{change:function(e){t.$emit("change-default",e)}},model:{value:n.isDefault,callback:function(e){t.$set(n,"isDefault",e)}}}),e("div",{directives:[{name:"show",value:!s}],class:Rn("buttons")},[e(en,{attrs:{block:!0,round:!0,loading:this.isSaving,type:"danger",text:this.saveButtonText||Dn("save")},on:{click:this.onSave}}),this.showDelete&&e(en,{attrs:{block:!0,round:!0,loading:this.isDeleting,text:this.deleteButtonText||Dn("delete")},on:{click:this.onDelete}})]),e(gt,{attrs:{round:!0,position:"bottom",lazyRender:!1,getContainer:"body"},model:{value:t.showAreaPopup,callback:function(e){t.showAreaPopup=e}}},[e(pe,{ref:"area",attrs:{value:n.areaCode,loading:!this.areaListLoaded,areaList:this.areaList,columnsPlaceholder:this.areaColumnsPlaceholder},on:{confirm:this.onAreaConfirm,cancel:function(){t.showAreaPopup=!1}}})])])}});function Fn(t){var e=[];function n(t){t.forEach((function(t){e.push(t),t.componentInstance&&n(t.componentInstance.$children.map((function(t){return t.$vnode}))),t.children&&n(t.children)}))}return n(t),e}function Bn(t,e){var n=e.$vnode.componentOptions;if(n&&n.children){var i=Fn(n.children);t.sort((function(t,e){return i.indexOf(t.$vnode)-i.indexOf(e.$vnode)}))}}function Nn(t,e){var n,i;void 0===e&&(e={});var r=e.indexKey||"index";return{inject:(n={},n[t]={default:null},n),computed:(i={parent:function(){return this.disableBindRelation?null:this[t]}},i[r]=function(){return this.bindRelation(),this.parent?this.parent.children.indexOf(this):null},i),watch:{disableBindRelation:function(t){t||this.bindRelation()}},mounted:function(){this.bindRelation()},beforeDestroy:function(){var t=this;this.parent&&(this.parent.children=this.parent.children.filter((function(e){return e!==t})))},methods:{bindRelation:function(){if(this.parent&&-1===this.parent.children.indexOf(this)){var t=[].concat(this.parent.children,[this]);Bn(t,this.parent),this.parent.children=t}}}}}function jn(t){return{provide:function(){var e;return e={},e[t]=this,e},data:function(){return{children:[]}}}}var $n=Object(o["a"])("radio-group"),Un=$n[0],zn=$n[1],Vn=Un({mixins:[jn("vanRadio"),bn],props:{value:null,disabled:Boolean,direction:String,checkedColor:String,iconSize:[Number,String]},watch:{value:function(t){this.$emit("change",t)}},render:function(){var t=arguments[0];return t("div",{class:zn([this.direction]),attrs:{role:"radiogroup"}},[this.slots()])}}),Hn=Object(o["a"])("tag"),qn=Hn[0],Gn=Hn[1];function Wn(t,e,n,i){var r,o,s=e.type,l=e.mark,c=e.plain,h=e.color,f=e.round,p=e.size,m=c?"color":"backgroundColor",v=(r={},r[m]=h,r);e.textColor&&(v.color=e.textColor);var g={mark:l,plain:c,round:f};p&&(g[p]=p);var y=e.closeable&&t(ft,{attrs:{name:"cross"},class:Gn("close"),on:{click:function(t){t.stopPropagation(),d(i,"close")}}});return t("transition",{attrs:{name:e.closeable?"van-fade":null}},[t("span",a()([{key:"content",style:v,class:[Gn([g,s]),(o={},o[$t]=c,o)]},u(i,!0)]),[null==n.default?void 0:n.default(),y])])}Wn.props={size:String,mark:Boolean,color:String,plain:Boolean,round:Boolean,textColor:String,closeable:Boolean,type:{type:String,default:"default"}};var Kn=qn(Wn),Yn=function(t){var e=t.parent,n=t.bem,i=t.role;return{mixins:[Nn(e),bn],props:{name:null,value:null,disabled:Boolean,iconSize:[Number,String],checkedColor:String,labelPosition:String,labelDisabled:Boolean,shape:{type:String,default:"round"},bindGroup:{type:Boolean,default:!0}},computed:{disableBindRelation:function(){return!this.bindGroup},isDisabled:function(){return this.parent&&this.parent.disabled||this.disabled},direction:function(){return this.parent&&this.parent.direction||null},iconStyle:function(){var t=this.checkedColor||this.parent&&this.parent.checkedColor;if(t&&this.checked&&!this.isDisabled)return{borderColor:t,backgroundColor:t}},tabindex:function(){return this.isDisabled||"radio"===i&&!this.checked?-1:0}},methods:{onClick:function(t){var e=this,n=t.target,i=this.$refs.icon,r=i===n||i.contains(n);this.isDisabled||!r&&this.labelDisabled?this.$emit("click",t):(this.toggle(),setTimeout((function(){e.$emit("click",t)})))},genIcon:function(){var t=this.$createElement,e=this.checked,i=this.iconSize||this.parent&&this.parent.iconSize;return t("div",{ref:"icon",class:n("icon",[this.shape,{disabled:this.isDisabled,checked:e}]),style:{fontSize:Object(tt["a"])(i)}},[this.slots("icon",{checked:e})||t(ft,{attrs:{name:"success"},style:this.iconStyle})])},genLabel:function(){var t=this.$createElement,e=this.slots();if(e)return t("span",{class:n("label",[this.labelPosition,{disabled:this.isDisabled}])},[e])}},render:function(){var t=arguments[0],e=[this.genIcon()];return"left"===this.labelPosition?e.unshift(this.genLabel()):e.push(this.genLabel()),t("div",{attrs:{role:i,tabindex:this.tabindex,"aria-checked":String(this.checked)},class:n([{disabled:this.isDisabled,"label-disabled":this.labelDisabled},this.direction]),on:{click:this.onClick}},[e])}}},Xn=Object(o["a"])("radio"),Qn=Xn[0],Jn=Xn[1],Zn=Qn({mixins:[Yn({bem:Jn,role:"radio",parent:"vanRadio"})],computed:{currentValue:{get:function(){return this.parent?this.parent.value:this.value},set:function(t){(this.parent||this).$emit("input",t)}},checked:function(){return this.currentValue===this.name}},methods:{toggle:function(){this.currentValue=this.name}}}),ti=Object(o["a"])("address-item"),ei=ti[0],ni=ti[1];function ii(t,e,n,r){var o=e.disabled,s=e.switchable;function l(){s&&d(r,"select"),d(r,"click")}var c=function(){return t(ft,{attrs:{name:"edit"},class:ni("edit"),on:{click:function(t){t.stopPropagation(),d(r,"edit"),d(r,"click")}}})};function h(){if(e.data.isDefault&&e.defaultTagText)return t(Kn,{attrs:{type:"danger",round:!0},class:ni("tag")},[e.defaultTagText])}function f(){var n=e.data,i=[t("div",{class:ni("name")},[n.name+" "+n.tel,h()]),t("div",{class:ni("address")},[n.address])];return s&&!o?t(Zn,{attrs:{name:n.id,iconSize:18}},[i]):i}return t("div",{class:ni({disabled:o}),on:{click:l}},[t(Ce,a()([{attrs:{border:!1,valueClass:ni("value")},scopedSlots:{default:f,"right-icon":c}},u(r)])),null==n.bottom?void 0:n.bottom(i({},e.data,{disabled:o}))])}ii.props={data:Object,disabled:Boolean,switchable:Boolean,defaultTagText:String};var ri=ei(ii),ai=Object(o["a"])("address-list"),oi=ai[0],si=ai[1],li=ai[2];function ci(t,e,n,i){function r(r,a){if(r)return r.map((function(r,o){return t(ri,{attrs:{data:r,disabled:a,switchable:e.switchable,defaultTagText:e.defaultTagText},key:r.id,scopedSlots:{bottom:n["item-bottom"]},on:{select:function(){d(i,a?"select-disabled":"select",r,o),a||d(i,"input",r.id)},edit:function(){d(i,a?"edit-disabled":"edit",r,o)},click:function(){d(i,"click-item",r,o)}}})}))}var o=r(e.list),s=r(e.disabledList,!0);return t("div",a()([{class:si()},u(i)]),[null==n.top?void 0:n.top(),t(Vn,{attrs:{value:e.value}},[o]),e.disabledText&&t("div",{class:si("disabled-text")},[e.disabledText]),s,null==n.default?void 0:n.default(),t("div",{class:si("bottom")},[t(en,{attrs:{round:!0,block:!0,type:"danger",text:e.addButtonText||li("add")},class:si("add"),on:{click:function(){d(i,"add")}}})])])}ci.props={list:Array,value:[Number,String],disabledList:Array,disabledText:String,addButtonText:String,defaultTagText:String,switchable:{type:Boolean,default:!0}};var ui=oi(ci),di=n("90c6");function hi(t){return"[object Date]"===Object.prototype.toString.call(t)&&!Object(di["a"])(t.getTime())}var fi=Object(o["a"])("calendar"),pi=fi[0],mi=fi[1],vi=fi[2],gi=64;function yi(t){return vi("monthTitle",t.getFullYear(),t.getMonth()+1)}function bi(t,e){var n=t.getFullYear(),i=e.getFullYear(),r=t.getMonth(),a=e.getMonth();return n===i?r===a?0:r>a?1:-1:n>i?1:-1}function wi(t,e){var n=bi(t,e);if(0===n){var i=t.getDate(),r=e.getDate();return i===r?0:i>r?1:-1}return n}function ki(t,e){return t=new Date(t),t.setDate(t.getDate()+e),t}function Si(t){return ki(t,-1)}function xi(t){return ki(t,1)}function Ti(t){var e=t[0].getTime(),n=t[1].getTime();return(n-e)/864e5+1}function Ei(t){return new Date(t)}function _i(t){return Array.isArray(t)?t.map((function(t){return null===t?t:Ei(t)})):Ei(t)}function Ai(t,e){var n=-1,i=Array(t);while(++n<t)i[n]=e(n);return i}function Ci(t){if(!t)return 0;while(Object(di["a"])(parseInt(t,10))){if(!(t.length>1))return 0;t=t.slice(1)}return parseInt(t,10)}function Oi(t,e){return 32-new Date(t,e-1,32).getDate()}var Li=Object(o["a"])("calendar-month"),Ri=Li[0],Di=Ri({props:{date:Date,type:String,color:String,minDate:Date,maxDate:Date,showMark:Boolean,rowHeight:[Number,String],formatter:Function,lazyRender:Boolean,currentDate:[Date,Array],allowSameDay:Boolean,showSubtitle:Boolean,showMonthTitle:Boolean,firstDayOfWeek:Number},data:function(){return{visible:!1}},computed:{title:function(){return yi(this.date)},offset:function(){var t=this.firstDayOfWeek,e=this.date.getDay();return t?(e+7-this.firstDayOfWeek)%7:e},totalDay:function(){return Oi(this.date.getFullYear(),this.date.getMonth()+1)},shouldRender:function(){return this.visible||!this.lazyRender},monthStyle:function(){if(!this.shouldRender){var t=Math.ceil((this.totalDay+this.offset)/7)*this.rowHeight;return{paddingBottom:t+"px"}}},days:function(){for(var t=[],e=this.date.getFullYear(),n=this.date.getMonth(),i=1;i<=this.totalDay;i++){var r=new Date(e,n,i),a=this.getDayType(r),o={date:r,type:a,text:i,bottomInfo:this.getBottomInfo(a)};this.formatter&&(o=this.formatter(o)),t.push(o)}return t}},methods:{getHeight:function(){return this.height||(this.height=this.$el.getBoundingClientRect().height),this.height},scrollIntoView:function(){this.showSubtitle?this.$refs.days.scrollIntoView():this.$refs.month.scrollIntoView()},getMultipleDayType:function(t){var e=this,n=function(t){return e.currentDate.some((function(e){return 0===wi(e,t)}))};if(n(t)){var i=Si(t),r=xi(t),a=n(i),o=n(r);return a&&o?"multiple-middle":a?"end":o?"start":"multiple-selected"}return""},getRangeDayType:function(t){var e=this.currentDate,n=e[0],i=e[1];if(!n)return"";var r=wi(t,n);if(!i)return 0===r?"start":"";var a=wi(t,i);return 0===r&&0===a&&this.allowSameDay?"start-end":0===r?"start":0===a?"end":r>0&&a<0?"middle":void 0},getDayType:function(t){var e=this.type,n=this.minDate,i=this.maxDate,r=this.currentDate;return wi(t,n)<0||wi(t,i)>0?"disabled":"single"===e?0===wi(t,r)?"selected":"":"multiple"===e?this.getMultipleDayType(t):"range"===e?this.getRangeDayType(t):void 0},getBottomInfo:function(t){if("range"===this.type){if("start"===t||"end"===t)return vi(t);if("start-end"===t)return vi("startEnd")}},getDayStyle:function(t,e){var n={};return 0===e&&(n.marginLeft=100*this.offset/7+"%"),this.rowHeight!==gi&&(n.height=this.rowHeight+"px"),this.color&&("start"===t||"end"===t||"start-end"===t||"multiple-selected"===t||"multiple-middle"===t?n.background=this.color:"middle"===t&&(n.color=this.color)),n},genTitle:function(){var t=this.$createElement;if(this.showMonthTitle)return t("div",{class:mi("month-title")},[this.title])},genMark:function(){var t=this.$createElement;if(this.showMark)return t("div",{class:mi("month-mark")},[this.date.getMonth()+1])},genDays:function(){var t=this.$createElement;return this.shouldRender?t("div",{ref:"days",attrs:{role:"grid"},class:mi("days")},[this.genMark(),this.days.map(this.genDay)]):t("div",{ref:"days"})},genDay:function(t,e){var n=this,i=this.$createElement,r=t.type,a=t.topInfo,o=t.bottomInfo,s=this.getDayStyle(r,e),l="disabled"===r,c=function(){l||n.$emit("click",t)},u=a&&i("div",{class:mi("top-info")},[a]),d=o&&i("div",{class:mi("bottom-info")},[o]);return"selected"===r?i("div",{attrs:{role:"gridcell",tabindex:-1},style:s,class:[mi("day"),t.className],on:{click:c}},[i("div",{class:mi("selected-day"),style:{background:this.color}},[u,t.text,d])]):i("div",{attrs:{role:"gridcell",tabindex:l?null:-1},style:s,class:[mi("day",r),t.className],on:{click:c}},[u,t.text,d])}},render:function(){var t=arguments[0];return t("div",{class:mi("month"),ref:"month",style:this.monthStyle},[this.genTitle(),this.genDays()])}}),Ii=Object(o["a"])("calendar-header"),Pi=Ii[0],Mi=Pi({props:{title:String,subtitle:String,showTitle:Boolean,showSubtitle:Boolean,firstDayOfWeek:Number},methods:{genTitle:function(){var t=this.$createElement;if(this.showTitle){var e=this.slots("title")||this.title||vi("title");return t("div",{class:mi("header-title")},[e])}},genSubtitle:function(){var t=this.$createElement;if(this.showSubtitle)return t("div",{class:mi("header-subtitle")},[this.subtitle])},genWeekDays:function(){var t=this.$createElement,e=vi("weekdays"),n=this.firstDayOfWeek,i=[].concat(e.slice(n,7),e.slice(0,n));return t("div",{class:mi("weekdays")},[i.map((function(e){return t("span",{class:mi("weekday")},[e])}))])}},render:function(){var t=arguments[0];return t("div",{class:mi("header")},[this.genTitle(),this.genSubtitle(),this.genWeekDays()])}}),Fi=pi({props:{title:String,color:String,value:Boolean,formatter:Function,confirmText:String,rangePrompt:String,defaultDate:[Date,Array],getContainer:[String,Function],allowSameDay:Boolean,closeOnPopstate:Boolean,confirmDisabledText:String,firstDayOfWeek:{type:[Number,String],default:0,validator:function(t){return t>=0&&t<=6}},type:{type:String,default:"single"},minDate:{type:Date,validator:hi,default:function(){return new Date}},maxDate:{type:Date,validator:hi,default:function(){var t=new Date;return new Date(t.getFullYear(),t.getMonth()+6,t.getDate())}},position:{type:String,default:"bottom"},rowHeight:{type:[Number,String],default:gi},round:{type:Boolean,default:!0},poppable:{type:Boolean,default:!0},lazyRender:{type:Boolean,default:!0},showMark:{type:Boolean,default:!0},showTitle:{type:Boolean,default:!0},showConfirm:{type:Boolean,default:!0},showSubtitle:{type:Boolean,default:!0},safeAreaInsetBottom:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0},maxRange:{type:[Number,String],default:null}},data:function(){return{subtitle:"",currentDate:this.getInitialDate()}},computed:{months:function(){var t=[],e=new Date(this.minDate);e.setDate(1);do{t.push(new Date(e)),e.setMonth(e.getMonth()+1)}while(1!==bi(e,this.maxDate));return t},buttonDisabled:function(){var t=this.type,e=this.currentDate;return"range"===t?!e[0]||!e[1]:"multiple"===t?!e.length:!e},dayOffset:function(){return this.firstDayOfWeek?this.firstDayOfWeek%7:0}},watch:{type:"reset",value:"init",defaultDate:function(t){this.currentDate=t,this.scrollIntoView()}},mounted:function(){this.init()},activated:function(){this.init()},methods:{reset:function(){this.currentDate=this.getInitialDate(),this.scrollIntoView()},init:function(){var t=this;this.poppable&&!this.value||(this.$nextTick((function(){t.bodyHeight=Math.floor(t.$refs.body.getBoundingClientRect().height),t.onScroll()})),this.scrollIntoView())},scrollIntoView:function(){var t=this;this.$nextTick((function(){var e=t.currentDate,n="single"===t.type?e:e[0],i=t.value||!t.poppable;n&&i&&t.months.some((function(e,i){return 0===bi(e,n)&&(t.$refs.months[i].scrollIntoView(),!0)}))}))},getInitialDate:function(){var t=this.type,e=this.minDate,n=this.maxDate,i=this.defaultDate,r=new Date;if(-1===wi(r,e)?r=e:1===wi(r,n)&&(r=n),"range"===t){var a=i||[],o=a[0],s=a[1];return[o||r,s||xi(r)]}return"multiple"===t?i||[r]:i||r},onScroll:function(){var t=this.$refs,e=t.body,n=t.months,i=B(e),r=n.map((function(t){return t.getHeight()})),a=r.reduce((function(t,e){return t+e}),0),o=i+this.bodyHeight;o>a&&i>0&&(o=a);for(var s,l=0,c=0;c<n.length;c++){var u=l<=o&&l+r[c]>=i;u&&!s&&(s=n[c]),!n[c].visible&&u&&this.$emit("month-show",{date:n[c].date,title:n[c].title}),n[c].visible=u,l+=r[c]}s&&(this.subtitle=s.title)},onClickDay:function(t){var e=t.date,n=this.type,i=this.currentDate;if("range"===n){var r=i[0],a=i[1];if(r&&!a){var o=wi(e,r);1===o?this.select([r,e],!0):-1===o?this.select([e,null]):this.allowSameDay&&this.select([e,e],!0)}else this.select([e,null])}else if("multiple"===n){var s,l=this.currentDate.some((function(t,n){var i=0===wi(t,e);return i&&(s=n),i}));if(l){var c=i.splice(s,1),u=c[0];this.$emit("unselect",Ei(u))}else this.maxRange&&i.length>=this.maxRange?Ye(this.rangePrompt||vi("rangePrompt",this.maxRange)):this.select([].concat(i,[e]))}else this.select(e,!0)},togglePopup:function(t){this.$emit("input",t)},select:function(t,e){var n=this,i=function(t){n.currentDate=t,n.$emit("select",_i(n.currentDate))};if(e&&"range"===this.type){var r=this.checkRange(t);if(!r)return void(this.showConfirm?i([t[0],ki(t[0],this.maxRange-1)]):i(t))}i(t),e&&!this.showConfirm&&this.onConfirm()},checkRange:function(t){var e=this.maxRange,n=this.rangePrompt;return!(e&&Ti(t)>e)||(Ye(n||vi("rangePrompt",e)),!1)},onConfirm:function(){this.$emit("confirm",_i(this.currentDate))},genMonth:function(t,e){var n=this.$createElement,i=0!==e||!this.showSubtitle;return n(Di,{ref:"months",refInFor:!0,attrs:{date:t,type:this.type,color:this.color,minDate:this.minDate,maxDate:this.maxDate,showMark:this.showMark,formatter:this.formatter,rowHeight:this.rowHeight,lazyRender:this.lazyRender,currentDate:this.currentDate,showSubtitle:this.showSubtitle,allowSameDay:this.allowSameDay,showMonthTitle:i,firstDayOfWeek:this.dayOffset},on:{click:this.onClickDay}})},genFooterContent:function(){var t=this.$createElement,e=this.slots("footer");if(e)return e;if(this.showConfirm){var n=this.buttonDisabled?this.confirmDisabledText:this.confirmText;return t(en,{attrs:{round:!0,block:!0,type:"danger",color:this.color,disabled:this.buttonDisabled,nativeType:"button"},class:mi("confirm"),on:{click:this.onConfirm}},[n||vi("confirm")])}},genFooter:function(){var t=this.$createElement;return t("div",{class:mi("footer",{unfit:!this.safeAreaInsetBottom})},[this.genFooterContent()])},genCalendar:function(){var t=this,e=this.$createElement;return e("div",{class:mi()},[e(Mi,{attrs:{title:this.title,showTitle:this.showTitle,subtitle:this.subtitle,showSubtitle:this.showSubtitle,firstDayOfWeek:this.dayOffset},scopedSlots:{title:function(){return t.slots("title")}}}),e("div",{ref:"body",class:mi("body"),on:{scroll:this.onScroll}},[this.months.map(this.genMonth)]),this.genFooter()])}},render:function(){var t=this,e=arguments[0];if(this.poppable){var n,i=function(e){return function(){return t.$emit(e)}};return e(gt,{attrs:(n={round:!0,value:this.value},n["round"]=this.round,n["position"]=this.position,n["closeable"]=this.showTitle||this.showSubtitle,n["getContainer"]=this.getContainer,n["closeOnPopstate"]=this.closeOnPopstate,n["closeOnClickOverlay"]=this.closeOnClickOverlay,n),class:mi("popup"),on:{input:this.togglePopup,open:i("open"),opened:i("opened"),close:i("close"),closed:i("closed")}},[this.genCalendar()])}return this.genCalendar()}}),Bi=Object(o["a"])("image"),Ni=Bi[0],ji=Bi[1],$i=Ni({props:{src:String,fit:String,alt:String,round:Boolean,width:[Number,String],height:[Number,String],radius:[Number,String],lazyLoad:Boolean,showError:{type:Boolean,default:!0},showLoading:{type:Boolean,default:!0},errorIcon:{type:String,default:"warning-o"},loadingIcon:{type:String,default:"photo-o"}},data:function(){return{loading:!0,error:!1}},watch:{src:function(){this.loading=!0,this.error=!1}},computed:{style:function(){var t={};return Object(p["c"])(this.width)&&(t.width=Object(tt["a"])(this.width)),Object(p["c"])(this.height)&&(t.height=Object(tt["a"])(this.height)),Object(p["c"])(this.radius)&&(t.overflow="hidden",t.borderRadius=Object(tt["a"])(this.radius)),t}},created:function(){var t=this.$Lazyload;t&&p["b"]&&(t.$on("loaded",this.onLazyLoaded),t.$on("error",this.onLazyLoadError))},beforeDestroy:function(){var t=this.$Lazyload;t&&(t.$off("loaded",this.onLazyLoaded),t.$off("error",this.onLazyLoadError))},methods:{onLoad:function(t){this.loading=!1,this.$emit("load",t)},onLazyLoaded:function(t){var e=t.el;e===this.$refs.image&&this.loading&&this.onLoad()},onLazyLoadError:function(t){var e=t.el;e!==this.$refs.image||this.error||this.onError()},onError:function(t){this.error=!0,this.loading=!1,this.$emit("error",t)},onClick:function(t){this.$emit("click",t)},genPlaceholder:function(){var t=this.$createElement;return this.loading&&this.showLoading?t("div",{class:ji("loading")},[this.slots("loading")||t(ft,{attrs:{name:this.loadingIcon},class:ji("loading-icon")})]):this.error&&this.showError?t("div",{class:ji("error")},[this.slots("error")||t(ft,{attrs:{name:this.errorIcon},class:ji("error-icon")})]):void 0},genImage:function(){var t=this.$createElement,e={class:ji("img"),attrs:{alt:this.alt},style:{objectFit:this.fit}};if(!this.error)return this.lazyLoad?t("img",a()([{ref:"image",directives:[{name:"lazy",value:this.src}]},e])):t("img",a()([{attrs:{src:this.src},on:{load:this.onLoad,error:this.onError}},e]))}},render:function(){var t=arguments[0];return t("div",{class:ji({round:this.round}),style:this.style,on:{click:this.onClick}},[this.genImage(),this.genPlaceholder(),this.slots()])}}),Ui=Object(o["a"])("card"),zi=Ui[0],Vi=Ui[1];function Hi(t,e,n,i){var r,o=e.thumb,s=n.num||Object(p["c"])(e.num),l=n.price||Object(p["c"])(e.price),c=n["origin-price"]||Object(p["c"])(e.originPrice),h=s||l||c||n.bottom;function f(t){d(i,"click-thumb",t)}function m(){if(n.tag||e.tag)return t("div",{class:Vi("tag")},[n.tag?n.tag():t(Kn,{attrs:{mark:!0,type:"danger"}},[e.tag])])}function v(){if(n.thumb||o)return t("a",{attrs:{href:e.thumbLink},class:Vi("thumb"),on:{click:f}},[n.thumb?n.thumb():t($i,{attrs:{src:o,width:"100%",height:"100%",fit:"cover","lazy-load":e.lazyLoad}}),m()])}function g(){return n.title?n.title():e.title?t("div",{class:[Vi("title"),"van-multi-ellipsis--l2"]},[e.title]):void 0}function y(){return n.desc?n.desc():e.desc?t("div",{class:[Vi("desc"),"van-ellipsis"]},[e.desc]):void 0}function b(){var n=e.price.toString().split(".");return t("div",[t("span",{class:Vi("price-currency")},[e.currency]),t("span",{class:Vi("price-integer")},[n[0]]),".",t("span",{class:Vi("price-decimal")},[n[1]])])}function w(){if(l)return t("div",{class:Vi("price")},[n.price?n.price():b()])}function k(){if(c){var i=n["origin-price"];return t("div",{class:Vi("origin-price")},[i?i():e.currency+" "+e.originPrice])}}function S(){if(s)return t("div",{class:Vi("num")},[n.num?n.num():"x"+e.num])}function x(){if(n.footer)return t("div",{class:Vi("footer")},[n.footer()])}return t("div",a()([{class:Vi()},u(i,!0)]),[t("div",{class:Vi("header")},[v(),t("div",{class:Vi("content",{centered:e.centered})},[t("div",[g(),y(),null==n.tags?void 0:n.tags()]),h&&t("div",{class:"van-card__bottom"},[null==(r=n["price-top"])?void 0:r.call(n),w(),k(),S(),null==n.bottom?void 0:n.bottom()])])]),x()])}Hi.props={tag:String,desc:String,thumb:String,title:String,centered:Boolean,lazyLoad:Boolean,thumbLink:String,num:[Number,String],price:[Number,String],originPrice:[Number,String],currency:{type:String,default:""}};var qi=zi(Hi),Gi=Object(o["a"])("cell-group"),Wi=Gi[0],Ki=Gi[1];function Yi(t,e,n,i){var r,o=t("div",a()([{class:[Ki(),(r={},r[Ut]=e.border,r)]},u(i,!0)]),[null==n.default?void 0:n.default()]);return e.title||n.title?t("div",[t("div",{class:Ki("title")},[n.title?n.title():e.title]),o]):o}Yi.props={title:String,border:{type:Boolean,default:!0}};var Xi=Wi(Yi),Qi=Object(o["a"])("checkbox"),Ji=Qi[0],Zi=Qi[1],tr=Ji({mixins:[Yn({bem:Zi,role:"checkbox",parent:"vanCheckbox"})],computed:{checked:{get:function(){return this.parent?-1!==this.parent.value.indexOf(this.name):this.value},set:function(t){this.parent?this.setParentValue(t):this.$emit("input",t)}}},watch:{value:function(t){this.$emit("change",t)}},methods:{toggle:function(t){var e=this;void 0===t&&(t=!this.checked),clearTimeout(this.toggleTask),this.toggleTask=setTimeout((function(){e.checked=t}))},setParentValue:function(t){var e=this.parent,n=e.value.slice();if(t){if(e.max&&n.length>=e.max)return;-1===n.indexOf(this.name)&&(n.push(this.name),e.$emit("input",n))}else{var i=n.indexOf(this.name);-1!==i&&(n.splice(i,1),e.$emit("input",n))}}}}),er=Object(o["a"])("checkbox-group"),nr=er[0],ir=er[1],rr=nr({mixins:[jn("vanCheckbox"),bn],props:{max:[Number,String],disabled:Boolean,direction:String,iconSize:[Number,String],checkedColor:String,value:{type:Array,default:function(){return[]}}},watch:{value:function(t){this.$emit("change",t)}},methods:{toggleAll:function(t){if(!1!==t){var e=this.children;t||(e=e.filter((function(t){return!t.checked})));var n=e.map((function(t){return t.name}));this.$emit("input",n)}else this.$emit("input",[])}},render:function(){var t=arguments[0];return t("div",{class:ir([this.direction])},[this.slots()])}}),ar=n("4598"),or=Object(o["a"])("circle"),sr=or[0],lr=or[1],cr=3140,ur=0;function dr(t){return Math.min(Math.max(t,0),100)}function hr(t,e){var n=t?1:0;return"M "+e/2+" "+e/2+" m 0, -500 a 500, 500 0 1, "+n+" 0, 1000 a 500, 500 0 1, "+n+" 0, -1000"}var fr=sr({props:{text:String,strokeLinecap:String,value:{type:Number,default:0},speed:{type:[Number,String],default:0},size:{type:[Number,String],default:100},fill:{type:String,default:"none"},rate:{type:[Number,String],default:100},layerColor:{type:String,default:Mt},color:{type:[String,Object],default:Pt},strokeWidth:{type:[Number,String],default:40},clockwise:{type:Boolean,default:!0}},beforeCreate:function(){this.uid="van-circle-gradient-"+ur++},computed:{style:function(){var t=Object(tt["a"])(this.size);return{width:t,height:t}},path:function(){return hr(this.clockwise,this.viewBoxSize)},viewBoxSize:function(){return+this.strokeWidth+1e3},layerStyle:function(){var t=cr*this.value/100;return{stroke:""+this.color,strokeWidth:+this.strokeWidth+1+"px",strokeLinecap:this.strokeLinecap,strokeDasharray:t+"px "+cr+"px"}},hoverStyle:function(){return{fill:""+this.fill,stroke:""+this.layerColor,strokeWidth:this.strokeWidth+"px"}},gradient:function(){return Object(p["e"])(this.color)},LinearGradient:function(){var t=this,e=this.$createElement;if(this.gradient){var n=Object.keys(this.color).sort((function(t,e){return parseFloat(t)-parseFloat(e)})).map((function(n,i){return e("stop",{key:i,attrs:{offset:n,"stop-color":t.color[n]}})}));return e("defs",[e("linearGradient",{attrs:{id:this.uid,x1:"100%",y1:"0%",x2:"0%",y2:"0%"}},[n])])}}},watch:{rate:{handler:function(t){this.startTime=Date.now(),this.startRate=this.value,this.endRate=dr(t),this.increase=this.endRate>this.startRate,this.duration=Math.abs(1e3*(this.startRate-this.endRate)/this.speed),this.speed?(Object(ar["a"])(this.rafId),this.rafId=Object(ar["c"])(this.animate)):this.$emit("input",this.endRate)},immediate:!0}},methods:{animate:function(){var t=Date.now(),e=Math.min((t-this.startTime)/this.duration,1),n=e*(this.endRate-this.startRate)+this.startRate;this.$emit("input",dr(parseFloat(n.toFixed(1)))),(this.increase?n<this.endRate:n>this.endRate)&&(this.rafId=Object(ar["c"])(this.animate))}},render:function(){var t=arguments[0];return t("div",{class:lr(),style:this.style},[t("svg",{attrs:{viewBox:"0 0 "+this.viewBoxSize+" "+this.viewBoxSize}},[this.LinearGradient,t("path",{class:lr("hover"),style:this.hoverStyle,attrs:{d:this.path}}),t("path",{attrs:{d:this.path,stroke:this.gradient?"url(#"+this.uid+")":this.color},class:lr("layer"),style:this.layerStyle})]),this.slots()||this.text&&t("div",{class:lr("text")},[this.text])])}}),pr=Object(o["a"])("col"),mr=pr[0],vr=pr[1],gr=mr({mixins:[Nn("vanRow")],props:{span:[Number,String],offset:[Number,String],tag:{type:String,default:"div"}},computed:{style:function(){var t=this.index,e=this.parent||{},n=e.spaces;if(n&&n[t]){var i=n[t],r=i.left,a=i.right;return{paddingLeft:r?r+"px":null,paddingRight:a?a+"px":null}}}},methods:{onClick:function(t){this.$emit("click",t)}},render:function(){var t,e=arguments[0],n=this.span,i=this.offset;return e(this.tag,{style:this.style,class:vr((t={},t[n]=n,t["offset-"+i]=i,t)),on:{click:this.onClick}},[this.slots()])}}),yr=Object(o["a"])("collapse"),br=yr[0],wr=yr[1],kr=br({mixins:[jn("vanCollapse")],props:{accordion:Boolean,value:[String,Number,Array],border:{type:Boolean,default:!0}},methods:{switch:function(t,e){this.accordion||(t=e?this.value.concat(t):this.value.filter((function(e){return e!==t}))),this.$emit("change",t),this.$emit("input",t)}},render:function(){var t,e=arguments[0];return e("div",{class:[wr(),(t={},t[Ut]=this.border,t)]},[this.slots()])}}),Sr=Object(o["a"])("collapse-item"),xr=Sr[0],Tr=Sr[1],Er=["title","icon","right-icon"],_r=xr({mixins:[Nn("vanCollapse")],props:i({},xe,{name:[Number,String],disabled:Boolean,isLink:{type:Boolean,default:!0}}),data:function(){return{show:null,inited:null}},computed:{currentName:function(){return Object(p["c"])(this.name)?this.name:this.index},expanded:function(){var t=this;if(!this.parent)return null;var e=this.parent,n=e.value,i=e.accordion;return i?n===this.currentName:n.some((function(e){return e===t.currentName}))}},created:function(){this.show=this.expanded,this.inited=this.expanded},watch:{expanded:function(t,e){var n=this;if(null!==e){t&&(this.show=!0,this.inited=!0);var i=t?this.$nextTick:ar["c"];i((function(){var e=n.$refs,i=e.content,r=e.wrapper;if(i&&r){var a=i.offsetHeight;if(a){var o=a+"px";r.style.height=t?0:o,Object(ar["b"])((function(){r.style.height=t?o:0}))}else n.onTransitionEnd()}}))}}},methods:{onClick:function(){if(!this.disabled){var t=this.parent,e=this.currentName,n=t.accordion&&e===t.value,i=n?"":e;t.switch(i,!this.expanded)}},onTransitionEnd:function(){this.expanded?this.$refs.wrapper.style.height="":this.show=!1},genTitle:function(){var t=this,e=this.$createElement,n=this.border,r=this.disabled,a=this.expanded,o=Er.reduce((function(e,n){return t.slots(n)&&(e[n]=function(){return t.slots(n)}),e}),{});return this.slots("value")&&(o.default=function(){return t.slots("value")}),e(Ce,{attrs:{role:"button",tabindex:r?-1:0,"aria-expanded":String(a)},class:Tr("title",{disabled:r,expanded:a,borderless:!n}),on:{click:this.onClick},scopedSlots:o,props:i({},this.$props)})},genContent:function(){var t=this.$createElement;if(this.inited)return t("div",{directives:[{name:"show",value:this.show}],ref:"wrapper",class:Tr("wrapper"),on:{transitionend:this.onTransitionEnd}},[t("div",{ref:"content",class:Tr("content")},[this.slots()])])}},render:function(){var t=arguments[0];return t("div",{class:[Tr({border:this.index&&this.border})]},[this.genTitle(),this.genContent()])}}),Ar=Object(o["a"])("contact-card"),Cr=Ar[0],Or=Ar[1],Lr=Ar[2];function Rr(t,e,n,i){var r=e.type,o=e.editable;function s(t){o&&d(i,"click",t)}function l(){return"add"===r?e.addText||Lr("addText"):[t("div",[Lr("name")+""+e.name]),t("div",[Lr("tel")+""+e.tel])]}return t(Ce,a()([{attrs:{center:!0,border:!1,isLink:o,valueClass:Or("value"),icon:"edit"===r?"contact":"add-square"},class:Or([r]),on:{click:s}},u(i)]),[l()])}Rr.props={tel:String,name:String,addText:String,editable:{type:Boolean,default:!0},type:{type:String,default:"add"}};var Dr=Cr(Rr),Ir=Object(o["a"])("contact-edit"),Pr=Ir[0],Mr=Ir[1],Fr=Ir[2],Br={tel:"",name:""},Nr=Pr({props:{isEdit:Boolean,isSaving:Boolean,isDeleting:Boolean,showSetDefault:Boolean,setDefaultLabel:String,contactInfo:{type:Object,default:function(){return i({},Br)}},telValidator:{type:Function,default:Lt}},data:function(){return{data:i({},Br,this.contactInfo),errorInfo:{name:"",tel:""}}},watch:{contactInfo:function(t){this.data=i({},Br,t)}},methods:{onFocus:function(t){this.errorInfo[t]=""},getErrorMessageByKey:function(t){var e=this.data[t].trim();switch(t){case"name":return e?"":Fr("nameInvalid");case"tel":return this.telValidator(e)?"":Fr("telInvalid")}},onSave:function(){var t=this,e=["name","tel"].every((function(e){var n=t.getErrorMessageByKey(e);return n&&(t.errorInfo[e]=n),!n}));e&&!this.isSaving&&this.$emit("save",this.data)},onDelete:function(){var t=this;dn.confirm({title:Fr("confirmDelete")}).then((function(){t.$emit("delete",t.data)}))}},render:function(){var t=this,e=arguments[0],n=this.data,i=this.errorInfo,r=function(e){return function(){return t.onFocus(e)}};return e("div",{class:Mr()},[e("div",{class:Mr("fields")},[e(De,{attrs:{clearable:!0,maxlength:"30",label:Fr("name"),placeholder:Fr("nameEmpty"),errorMessage:i.name},on:{focus:r("name")},model:{value:n.name,callback:function(e){t.$set(n,"name",e)}}}),e(De,{attrs:{clearable:!0,type:"tel",label:Fr("tel"),placeholder:Fr("telEmpty"),errorMessage:i.tel},on:{focus:r("tel")},model:{value:n.tel,callback:function(e){t.$set(n,"tel",e)}}})]),this.showSetDefault&&e(Ce,{attrs:{title:this.setDefaultLabel,border:!1},class:Mr("switch-cell")},[e(xn,{attrs:{size:24},slot:"right-icon",on:{change:function(e){t.$emit("change-default",e)}},model:{value:n.isDefault,callback:function(e){t.$set(n,"isDefault",e)}}})]),e("div",{class:Mr("buttons")},[e(en,{attrs:{block:!0,round:!0,type:"danger",text:Fr("save"),loading:this.isSaving},on:{click:this.onSave}}),this.isEdit&&e(en,{attrs:{block:!0,round:!0,text:Fr("delete"),loading:this.isDeleting},on:{click:this.onDelete}})])])}}),jr=Object(o["a"])("contact-list"),$r=jr[0],Ur=jr[1],zr=jr[2];function Vr(t,e,n,i){var r=e.list&&e.list.map((function(n,r){function a(){d(i,"input",n.id),d(i,"select",n,r)}function o(){return t(Zn,{attrs:{name:n.id,iconSize:16,checkedColor:It},on:{click:a}})}function s(){return t(ft,{attrs:{name:"edit"},class:Ur("edit"),on:{click:function(t){t.stopPropagation(),d(i,"edit",n,r)}}})}function l(){var i=[n.name+""+n.tel];return n.isDefault&&e.defaultTagText&&i.push(t(Kn,{attrs:{type:"danger",round:!0},class:Ur("item-tag")},[e.defaultTagText])),i}return t(Ce,{key:n.id,attrs:{isLink:!0,center:!0,valueClass:Ur("item-value")},class:Ur("item"),scopedSlots:{icon:s,default:l,"right-icon":o},on:{click:a}})}));return t("div",a()([{class:Ur()},u(i)]),[t(Vn,{attrs:{value:e.value},class:Ur("group")},[r]),t("div",{class:Ur("bottom")},[t(en,{attrs:{round:!0,block:!0,type:"danger",text:e.addText||zr("addText")},class:Ur("add"),on:{click:function(){d(i,"add")}}})])])}Vr.props={value:null,list:Array,addText:String,defaultTagText:String};var Hr=$r(Vr),qr=n("68ed"),Gr=1e3,Wr=60*Gr,Kr=60*Wr,Yr=24*Kr;function Xr(t){var e=Math.floor(t/Yr),n=Math.floor(t%Yr/Kr),i=Math.floor(t%Kr/Wr),r=Math.floor(t%Wr/Gr),a=Math.floor(t%Gr);return{days:e,hours:n,minutes:i,seconds:r,milliseconds:a}}function Qr(t,e){var n=e.days,i=e.hours,r=e.minutes,a=e.seconds,o=e.milliseconds;if(-1===t.indexOf("DD")?i+=24*n:t=t.replace("DD",Object(qr["b"])(n)),-1===t.indexOf("HH")?r+=60*i:t=t.replace("HH",Object(qr["b"])(i)),-1===t.indexOf("mm")?a+=60*r:t=t.replace("mm",Object(qr["b"])(r)),-1===t.indexOf("ss")?o+=1e3*a:t=t.replace("ss",Object(qr["b"])(a)),-1!==t.indexOf("S")){var s=Object(qr["b"])(o,3);t=-1!==t.indexOf("SSS")?t.replace("SSS",s):-1!==t.indexOf("SS")?t.replace("SS",s.slice(0,2)):t.replace("S",s.charAt(0))}return t}function Jr(t,e){return Math.floor(t/1e3)===Math.floor(e/1e3)}var Zr=Object(o["a"])("count-down"),ta=Zr[0],ea=Zr[1],na=ta({props:{millisecond:Boolean,time:{type:[Number,String],default:0},format:{type:String,default:"HH:mm:ss"},autoStart:{type:Boolean,default:!0}},data:function(){return{remain:0}},computed:{timeData:function(){return Xr(this.remain)},formattedTime:function(){return Qr(this.format,this.timeData)}},watch:{time:{immediate:!0,handler:"reset"}},activated:function(){this.keepAlivePaused&&(this.counting=!0,this.keepAlivePaused=!1,this.tick())},deactivated:function(){this.counting&&(this.pause(),this.keepAlivePaused=!0)},beforeDestroy:function(){this.pause()},methods:{start:function(){this.counting||(this.counting=!0,this.endTime=Date.now()+this.remain,this.tick())},pause:function(){this.counting=!1,Object(ar["a"])(this.rafId)},reset:function(){this.pause(),this.remain=+this.time,this.autoStart&&this.start()},tick:function(){this.millisecond?this.microTick():this.macroTick()},microTick:function(){var t=this;this.rafId=Object(ar["c"])((function(){t.counting&&(t.setRemain(t.getRemain()),t.remain>0&&t.microTick())}))},macroTick:function(){var t=this;this.rafId=Object(ar["c"])((function(){if(t.counting){var e=t.getRemain();Jr(e,t.remain)&&0!==e||t.setRemain(e),t.remain>0&&t.macroTick()}}))},getRemain:function(){return Math.max(this.endTime-Date.now(),0)},setRemain:function(t){this.remain=t,this.$emit("change",this.timeData),0===t&&(this.pause(),this.$emit("finish"))}},render:function(){var t=arguments[0];return t("div",{class:ea()},[this.slots("default",this.timeData)||this.formattedTime])}}),ia=Object(o["a"])("coupon"),ra=ia[0],aa=ia[1],oa=ia[2];function sa(t){var e=new Date(1e3*t);return e.getFullYear()+"."+Object(qr["b"])(e.getMonth()+1)+"."+Object(qr["b"])(e.getDate())}function la(t){return(t/10).toFixed(t%10===0?0:1)}function ca(t){return(t/100).toFixed(t%100===0?0:t%10===0?1:2)}var ua=ra({props:{coupon:Object,chosen:Boolean,disabled:Boolean,currency:{type:String,default:""}},computed:{validPeriod:function(){var t=this.coupon,e=t.startAt,n=t.endAt;return sa(e)+" - "+sa(n)},faceAmount:function(){var t=this.coupon;if(t.valueDesc)return t.valueDesc+"<span>"+(t.unitDesc||"")+"</span>";if(t.denominations){var e=ca(t.denominations);return"<span>"+this.currency+"</span> "+e}return t.discount?oa("discount",la(t.discount)):""},conditionMessage:function(){var t=ca(this.coupon.originCondition);return"0"===t?oa("unlimited"):oa("condition",t)}},render:function(){var t=arguments[0],e=this.coupon,n=this.disabled,i=n&&e.reason||e.description;return t("div",{class:aa({disabled:n})},[t("div",{class:aa("content")},[t("div",{class:aa("head")},[t("h2",{class:aa("amount"),domProps:{innerHTML:this.faceAmount}}),t("p",{class:aa("condition")},[this.coupon.condition||this.conditionMessage])]),t("div",{class:aa("body")},[t("p",{class:aa("name")},[e.name]),t("p",{class:aa("valid")},[this.validPeriod]),!this.disabled&&t(tr,{attrs:{size:18,value:this.chosen,checkedColor:It},class:aa("corner")})])]),i&&t("p",{class:aa("description")},[i])])}}),da=Object(o["a"])("coupon-cell"),ha=da[0],fa=da[1],pa=da[2];function ma(t){var e=t.coupons,n=t.chosenCoupon,i=t.currency,r=e[+n];if(r){var a=r.value||r.denominations||0;return"-"+i+(a/100).toFixed(2)}return 0===e.length?pa("tips"):pa("count",e.length)}function va(t,e,n,i){var r=e.coupons[+e.chosenCoupon]?"van-coupon-cell--selected":"",o=ma(e);return t(Ce,a()([{class:fa(),attrs:{value:o,title:e.title||pa("title"),border:e.border,isLink:e.editable,valueClass:r}},u(i,!0)]))}va.model={prop:"chosenCoupon"},va.props={title:String,coupons:{type:Array,default:function(){return[]}},currency:{type:String,default:""},border:{type:Boolean,default:!0},editable:{type:Boolean,default:!0},chosenCoupon:{type:[Number,String],default:-1}};var ga,ya=ha(va),ba=Object(o["a"])("tab"),wa=ba[0],ka=ba[1],Sa=wa({mixins:[Nn("vanTabs")],props:i({},Se,{dot:Boolean,name:[Number,String],info:[Number,String],badge:[Number,String],title:String,titleStyle:null,disabled:Boolean}),data:function(){return{inited:!1}},computed:{computedName:function(){return Object(p["c"])(this.name)?this.name:this.index},isActive:function(){var t=this.computedName===this.parent.currentName;return t&&(this.inited=!0),t}},watch:{title:function(){this.parent.setLine()},inited:function(t){var e=this;this.parent.lazyRender&&t&&this.$nextTick((function(){e.parent.$emit("rendered",e.computedName,e.title)}))}},render:function(t){var e=this.slots,n=this.parent,i=this.isActive,r=this.inited||n.scrollspy||!n.lazyRender,a=n.scrollspy||i,o=r?e():t();return n.animated?t("div",{attrs:{role:"tabpanel","aria-hidden":!i},class:ka("pane-wrapper",{inactive:!i})},[t("div",{class:ka("pane")},[o])]):t("div",{directives:[{name:"show",value:a}],attrs:{role:"tabpanel"},class:ka("pane")},[o])}});function xa(t,e,n){Object(ar["a"])(ga);var i=0,r=t.scrollLeft,a=0===n?1:Math.round(1e3*n/16);function o(){t.scrollLeft+=(e-r)/a,++i<a&&(ga=Object(ar["c"])(o))}o()}function Ta(t,e,n,i){var r=B(t),a=r<e,o=0===n?1:Math.round(1e3*n/16),s=(e-r)/o;function l(){r+=s,(a&&r>e||!a&&r<e)&&(r=e),N(t,r),a&&r<e||!a&&r>e?Object(ar["c"])(l):i&&Object(ar["c"])(i)}l()}function Ea(t){var e=window.getComputedStyle(t),n="none"===e.display,i=null===t.offsetParent&&"fixed"!==e.position;return n||i}var _a=Object(o["a"])("tab"),Aa=_a[0],Ca=_a[1],Oa=Aa({props:{dot:Boolean,type:String,info:[Number,String],color:String,title:String,isActive:Boolean,ellipsis:Boolean,disabled:Boolean,scrollable:Boolean,activeColor:String,inactiveColor:String,swipeThreshold:[Number,String]},computed:{style:function(){var t={},e=this.color,n=this.isActive,i="card"===this.type;e&&i&&(t.borderColor=e,this.disabled||(n?t.backgroundColor=e:t.color=e));var r=n?this.activeColor:this.inactiveColor;return r&&(t.color=r),this.scrollable&&this.ellipsis&&(t.flexBasis=88/this.swipeThreshold+"%"),t}},methods:{onClick:function(){this.$emit("click")},genText:function(){var t=this.$createElement,e=t("span",{class:Ca("text",{ellipsis:this.ellipsis})},[this.slots()||this.title]);return this.dot||Object(p["c"])(this.info)&&""!==this.info?t("span",{class:Ca("text-wrapper")},[e,t(at,{attrs:{dot:this.dot,info:this.info}})]):e}},render:function(){var t=arguments[0];return t("div",{attrs:{role:"tab","aria-selected":this.isActive},class:[Ca({active:this.isActive,disabled:this.disabled,complete:!this.ellipsis})],style:this.style,on:{click:this.onClick}},[this.genText()])}}),La=Object(o["a"])("sticky"),Ra=La[0],Da=La[1],Ia=Ra({mixins:[X((function(t,e){if(this.scroller||(this.scroller=F(this.$el)),this.observer){var n=e?"observe":"unobserve";this.observer[n](this.$el)}t(this.scroller,"scroll",this.onScroll,!0),this.onScroll()}))],props:{zIndex:[Number,String],container:null,offsetTop:{type:[Number,String],default:0}},data:function(){return{fixed:!1,height:0,transform:0}},computed:{offsetTopPx:function(){return Object(tt["b"])(this.offsetTop)},style:function(){if(this.fixed){var t={};return Object(p["c"])(this.zIndex)&&(t.zIndex=this.zIndex),this.offsetTopPx&&this.fixed&&(t.top=this.offsetTopPx+"px"),this.transform&&(t.transform="translate3d(0, "+this.transform+"px, 0)"),t}}},created:function(){var t=this;!p["g"]&&window.IntersectionObserver&&(this.observer=new IntersectionObserver((function(e){e[0].intersectionRatio>0&&t.onScroll()}),{root:document.body}))},methods:{onScroll:function(){var t=this;if(!Ea(this.$el)){this.height=this.$el.offsetHeight;var e=this.container,n=this.offsetTopPx,i=B(window),r=U(this.$el),a=function(){t.$emit("scroll",{scrollTop:i,isFixed:t.fixed})};if(e){var o=r+e.offsetHeight;if(i+n+this.height>o){var s=this.height+i-o;return s<this.height?(this.fixed=!0,this.transform=-(s+n)):this.fixed=!1,void a()}}i+n>r?(this.fixed=!0,this.transform=0):this.fixed=!1,a()}}},render:function(){var t=arguments[0],e=this.fixed,n={height:e?this.height+"px":null};return t("div",{style:n},[t("div",{class:Da({fixed:e}),style:this.style},[this.slots()])])}}),Pa=Object(o["a"])("tabs"),Ma=Pa[0],Fa=Pa[1],Ba=50,Na=Ma({mixins:[G],props:{count:Number,duration:[Number,String],animated:Boolean,swipeable:Boolean,currentIndex:Number},computed:{style:function(){if(this.animated)return{transform:"translate3d("+-1*this.currentIndex*100+"%, 0, 0)",transitionDuration:this.duration+"s"}},listeners:function(){if(this.swipeable)return{touchstart:this.touchStart,touchmove:this.touchMove,touchend:this.onTouchEnd,touchcancel:this.onTouchEnd}}},methods:{onTouchEnd:function(){var t=this.direction,e=this.deltaX,n=this.currentIndex;"horizontal"===t&&this.offsetX>=Ba&&(e>0&&0!==n?this.$emit("change",n-1):e<0&&n!==this.count-1&&this.$emit("change",n+1))},genChildren:function(){var t=this.$createElement;return this.animated?t("div",{class:Fa("track"),style:this.style},[this.slots()]):this.slots()}},render:function(){var t=arguments[0];return t("div",{class:Fa("content",{animated:this.animated}),on:i({},this.listeners)},[this.genChildren()])}}),ja=Object(o["a"])("tabs"),$a=ja[0],Ua=ja[1],za=$a({mixins:[jn("vanTabs"),X((function(t){this.scroller||(this.scroller=F(this.$el)),t(window,"resize",this.resize,!0),this.scrollspy&&t(this.scroller,"scroll",this.onScroll,!0)}))],model:{prop:"active"},props:{color:String,sticky:Boolean,animated:Boolean,swipeable:Boolean,scrollspy:Boolean,background:String,lineWidth:[Number,String],lineHeight:[Number,String],beforeChange:Function,titleActiveColor:String,titleInactiveColor:String,type:{type:String,default:"line"},active:{type:[Number,String],default:0},border:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},duration:{type:[Number,String],default:.3},offsetTop:{type:[Number,String],default:0},lazyRender:{type:Boolean,default:!0},swipeThreshold:{type:[Number,String],default:4}},data:function(){return{position:"",currentIndex:null,lineStyle:{backgroundColor:this.color}}},computed:{scrollable:function(){return this.children.length>this.swipeThreshold||!this.ellipsis},navStyle:function(){return{borderColor:this.color,background:this.background}},currentName:function(){var t=this.children[this.currentIndex];if(t)return t.computedName},scrollOffset:function(){return this.sticky?+this.offsetTop+this.tabHeight:0}},watch:{color:"setLine",active:function(t){t!==this.currentName&&this.setCurrentIndexByName(t)},children:function(){var t=this;this.setCurrentIndexByName(this.currentName||this.active),this.setLine(),this.$nextTick((function(){t.scrollIntoView(!0)}))},currentIndex:function(){this.scrollIntoView(),this.setLine(),this.stickyFixed&&!this.scrollspy&&$(Math.ceil(U(this.$el)-this.offsetTop))},scrollspy:function(t){t?g(this.scroller,"scroll",this.onScroll,!0):y(this.scroller,"scroll",this.onScroll)}},mounted:function(){this.init()},activated:function(){this.init(),this.setLine()},methods:{resize:function(){this.setLine()},init:function(){var t=this;this.$nextTick((function(){t.inited=!0,t.tabHeight=z(t.$refs.wrap),t.scrollIntoView(!0)}))},setLine:function(){var t=this,e=this.inited;this.$nextTick((function(){var n=t.$refs.titles;if(n&&n[t.currentIndex]&&"line"===t.type&&!Ea(t.$el)){var i=n[t.currentIndex].$el,r=t.lineWidth,a=t.lineHeight,o=Object(p["c"])(r)?r:i.offsetWidth/2,s=i.offsetLeft+i.offsetWidth/2,l={width:Object(tt["a"])(o),backgroundColor:t.color,transform:"translateX("+s+"px) translateX(-50%)"};if(e&&(l.transitionDuration=t.duration+"s"),Object(p["c"])(a)){var c=Object(tt["a"])(a);l.height=c,l.borderRadius=c}t.lineStyle=l}}))},setCurrentIndexByName:function(t){var e=this.children.filter((function(e){return e.computedName===t})),n=(this.children[0]||{}).index||0;this.setCurrentIndex(e.length?e[0].index:n)},setCurrentIndex:function(t){if(t=this.findAvailableTab(t),Object(p["c"])(t)&&t!==this.currentIndex){var e=null!==this.currentIndex;this.currentIndex=t,this.$emit("input",this.currentName),e&&this.$emit("change",this.currentName,this.children[t].title)}},findAvailableTab:function(t){var e=t<this.currentIndex?-1:1;while(t>=0&&t<this.children.length){if(!this.children[t].disabled)return t;t+=e}},callBeforeChange:function(t,e){if(this.beforeChange){var n=this.beforeChange(t);Object(p["f"])(n)?n.then((function(t){t&&e()})):n&&e()}else e()},onClick:function(t,e){var n=this,i=this.children[e],r=i.title,a=i.disabled,o=i.computedName;a?this.$emit("disabled",o,r):(this.callBeforeChange(o,(function(){n.setCurrentIndex(e),n.scrollToCurrentContent()})),this.$emit("click",o,r),we(t.$router,t))},scrollIntoView:function(t){var e=this.$refs.titles;if(this.scrollable&&e&&e[this.currentIndex]){var n=this.$refs.nav,i=e[this.currentIndex].$el,r=i.offsetLeft-(n.offsetWidth-i.offsetWidth)/2;xa(n,r,t?0:+this.duration)}},onSticktScroll:function(t){this.stickyFixed=t.isFixed,this.$emit("scroll",t)},scrollTo:function(t){var e=this;this.$nextTick((function(){e.setCurrentIndexByName(t),e.scrollToCurrentContent(!0)}))},scrollToCurrentContent:function(t){var e=this;if(void 0===t&&(t=!1),this.scrollspy){var n=this.children[this.currentIndex],i=null==n?void 0:n.$el;if(i){var r=U(i,this.scroller)-this.scrollOffset;this.lockScroll=!0,Ta(this.scroller,r,t?0:+this.duration,(function(){e.lockScroll=!1}))}}},onScroll:function(){if(this.scrollspy&&!this.lockScroll){var t=this.getCurrentIndexOnScroll();this.setCurrentIndex(t)}},getCurrentIndexOnScroll:function(){for(var t=this.children,e=0;e<t.length;e++){var n=V(t[e].$el);if(n>this.scrollOffset)return 0===e?0:e-1}return t.length-1}},render:function(){var t,e=this,n=arguments[0],i=this.type,r=this.ellipsis,a=this.animated,o=this.scrollable,s=this.children.map((function(t,a){return n(Oa,{ref:"titles",refInFor:!0,attrs:{type:i,dot:t.dot,info:Object(p["c"])(t.badge)?t.badge:t.info,title:t.title,color:e.color,isActive:a===e.currentIndex,ellipsis:r,disabled:t.disabled,scrollable:o,activeColor:e.titleActiveColor,inactiveColor:e.titleInactiveColor,swipeThreshold:e.swipeThreshold},style:t.titleStyle,scopedSlots:{default:function(){return t.slots("title")}},on:{click:function(){e.onClick(t,a)}}})})),l=n("div",{ref:"wrap",class:[Ua("wrap",{scrollable:o}),(t={},t[Ut]="line"===i&&this.border,t)]},[n("div",{ref:"nav",attrs:{role:"tablist"},class:Ua("nav",[i]),style:this.navStyle},[this.slots("nav-left"),s,"line"===i&&n("div",{class:Ua("line"),style:this.lineStyle}),this.slots("nav-right")])]);return n("div",{class:Ua([i])},[this.sticky?n(Ia,{attrs:{container:this.$el,offsetTop:this.offsetTop},on:{scroll:this.onSticktScroll}},[l]):l,n(Na,{attrs:{count:this.children.length,animated:a,duration:this.duration,swipeable:this.swipeable,currentIndex:this.currentIndex},on:{change:this.setCurrentIndex}},[this.slots()])])}}),Va=Object(o["a"])("coupon-list"),Ha=Va[0],qa=Va[1],Ga=Va[2],Wa="https://img.yzcdn.cn/vant/coupon-empty.png",Ka=Ha({model:{prop:"code"},props:{code:String,closeButtonText:String,inputPlaceholder:String,enabledTitle:String,disabledTitle:String,exchangeButtonText:String,exchangeButtonLoading:Boolean,exchangeButtonDisabled:Boolean,exchangeMinLength:{type:Number,default:1},chosenCoupon:{type:Number,default:-1},coupons:{type:Array,default:function(){return[]}},disabledCoupons:{type:Array,default:function(){return[]}},displayedCouponIndex:{type:Number,default:-1},showExchangeBar:{type:Boolean,default:!0},showCloseButton:{type:Boolean,default:!0},showCount:{type:Boolean,default:!0},currency:{type:String,default:""},emptyImage:{type:String,default:Wa}},data:function(){return{tab:0,winHeight:window.innerHeight,currentCode:this.code||""}},computed:{buttonDisabled:function(){return!this.exchangeButtonLoading&&(this.exchangeButtonDisabled||!this.currentCode||this.currentCode.length<this.exchangeMinLength)},listStyle:function(){return{height:this.winHeight-(this.showExchangeBar?140:94)+"px"}}},watch:{code:function(t){this.currentCode=t},currentCode:function(t){this.$emit("input",t)},displayedCouponIndex:"scrollToShowCoupon"},mounted:function(){this.scrollToShowCoupon(this.displayedCouponIndex)},methods:{onClickExchangeButton:function(){this.$emit("exchange",this.currentCode),this.code||(this.currentCode="")},scrollToShowCoupon:function(t){var e=this;-1!==t&&this.$nextTick((function(){var n=e.$refs,i=n.card,r=n.list;r&&i&&i[t]&&(r.scrollTop=i[t].$el.offsetTop-100)}))},genEmpty:function(){var t=this.$createElement;return t("div",{class:qa("empty")},[t("img",{attrs:{src:this.emptyImage}}),t("p",[Ga("empty")])])},genExchangeButton:function(){var t=this.$createElement;return t(en,{attrs:{plain:!0,type:"danger",text:this.exchangeButtonText||Ga("exchange"),loading:this.exchangeButtonLoading,disabled:this.buttonDisabled},class:qa("exchange"),on:{click:this.onClickExchangeButton}})}},render:function(){var t=this,e=arguments[0],n=this.coupons,i=this.disabledCoupons,r=this.showCount?" ("+n.length+")":"",a=(this.enabledTitle||Ga("enable"))+r,o=this.showCount?" ("+i.length+")":"",s=(this.disabledTitle||Ga("disabled"))+o,l=this.showExchangeBar&&e("div",{class:qa("exchange-bar")},[e(De,{attrs:{clearable:!0,border:!1,placeholder:this.inputPlaceholder||Ga("placeholder"),maxlength:"20"},class:qa("field"),model:{value:t.currentCode,callback:function(e){t.currentCode=e}}}),this.genExchangeButton()]),c=function(e){return function(){return t.$emit("change",e)}},u=e(Sa,{attrs:{title:a}},[e("div",{class:qa("list",{"with-bottom":this.showCloseButton}),style:this.listStyle},[n.map((function(n,i){return e(ua,{ref:"card",key:n.id,attrs:{coupon:n,currency:t.currency,chosen:i===t.chosenCoupon},nativeOn:{click:c(i)}})})),!n.length&&this.genEmpty()])]),d=e(Sa,{attrs:{title:s}},[e("div",{class:qa("list",{"with-bottom":this.showCloseButton}),style:this.listStyle},[i.map((function(n){return e(ua,{attrs:{disabled:!0,coupon:n,currency:t.currency},key:n.id})})),!i.length&&this.genEmpty()])]);return e("div",{class:qa()},[l,e(za,{class:qa("tab"),attrs:{border:!1},model:{value:t.tab,callback:function(e){t.tab=e}}},[u,d]),e("div",{class:qa("bottom")},[e(en,{directives:[{name:"show",value:this.showCloseButton}],attrs:{round:!0,type:"danger",block:!0,text:this.closeButtonText||Ga("close")},class:qa("close"),on:{click:c(-1)}})])])}}),Ya=i({},Dt,{value:null,filter:Function,showToolbar:{type:Boolean,default:!0},formatter:{type:Function,default:function(t,e){return e}},columnsOrder:Array}),Xa={data:function(){return{innerValue:this.formatValue(this.value)}},computed:{originColumns:function(){var t=this;return this.ranges.map((function(e){var n=e.type,i=e.range,r=Ai(i[1]-i[0]+1,(function(t){var e=Object(qr["b"])(i[0]+t);return e}));return t.filter&&(r=t.filter(n,r)),{type:n,values:r}}))},columns:function(){var t=this;return this.originColumns.map((function(e){return{values:e.values.map((function(n){return t.formatter(e.type,n)}))}}))}},watch:{columns:"updateColumnValue",innerValue:function(t){this.$emit("input",t)}},mounted:function(){var t=this;this.updateColumnValue(),this.$nextTick((function(){t.updateInnerValue()}))},methods:{getPicker:function(){return this.$refs.picker},onConfirm:function(){this.$emit("confirm",this.innerValue)},onCancel:function(){this.$emit("cancel")}},render:function(){var t=this,e=arguments[0],n={};return Object.keys(Dt).forEach((function(e){n[e]=t[e]})),e(se,{ref:"picker",attrs:{columns:this.columns},on:{change:this.onChange,confirm:this.onConfirm,cancel:this.onCancel},props:i({},n)})}},Qa=Object(o["a"])("time-picker"),Ja=Qa[0],Za=Ja({mixins:[Xa],props:i({},Ya,{minHour:{type:[Number,String],default:0},maxHour:{type:[Number,String],default:23},minMinute:{type:[Number,String],default:0},maxMinute:{type:[Number,String],default:59}}),computed:{ranges:function(){return[{type:"hour",range:[+this.minHour,+this.maxHour]},{type:"minute",range:[+this.minMinute,+this.maxMinute]}]}},watch:{filter:"updateInnerValue",minHour:"updateInnerValue",maxHour:"updateInnerValue",minMinute:"updateInnerValue",maxMinute:"updateInnerValue",value:function(t){t=this.formatValue(t),t!==this.innerValue&&(this.innerValue=t,this.updateColumnValue())}},methods:{formatValue:function(t){t||(t=Object(qr["b"])(this.minHour)+":"+Object(qr["b"])(this.minMinute));var e=t.split(":"),n=e[0],i=e[1];return n=Object(qr["b"])(qt(n,this.minHour,this.maxHour)),i=Object(qr["b"])(qt(i,this.minMinute,this.maxMinute)),n+":"+i},updateInnerValue:function(){var t=this.getPicker().getIndexes(),e=t[0],n=t[1],i=this.originColumns,r=i[0],a=i[1],o=r.values[e]||r.values[0],s=a.values[n]||a.values[0];this.innerValue=this.formatValue(o+":"+s),this.updateColumnValue()},onChange:function(t){var e=this;this.updateInnerValue(),this.$nextTick((function(){e.$nextTick((function(){e.$emit("change",t)}))}))},updateColumnValue:function(){var t=this,e=this.formatter,n=this.innerValue.split(":"),i=[e("hour",n[0]),e("minute",n[1])];this.$nextTick((function(){t.getPicker().setValues(i)}))}}}),to=(new Date).getFullYear(),eo=Object(o["a"])("date-picker"),no=eo[0],io=no({mixins:[Xa],props:i({},Ya,{type:{type:String,default:"datetime"},minDate:{type:Date,default:function(){return new Date(to-10,0,1)},validator:hi},maxDate:{type:Date,default:function(){return new Date(to+10,11,31)},validator:hi}}),watch:{filter:"updateInnerValue",minDate:"updateInnerValue",maxDate:"updateInnerValue",value:function(t){t=this.formatValue(t),t.valueOf()!==this.innerValue.valueOf()&&(this.innerValue=t)}},computed:{ranges:function(){var t=this.getBoundary("max",this.innerValue),e=t.maxYear,n=t.maxDate,i=t.maxMonth,r=t.maxHour,a=t.maxMinute,o=this.getBoundary("min",this.innerValue),s=o.minYear,l=o.minDate,c=o.minMonth,u=o.minHour,d=o.minMinute,h=[{type:"year",range:[s,e]},{type:"month",range:[c,i]},{type:"day",range:[l,n]},{type:"hour",range:[u,r]},{type:"minute",range:[d,a]}];switch(this.type){case"date":h=h.slice(0,3);break;case"year-month":h=h.slice(0,2);break;case"month-day":h=h.slice(1,3);break;case"datehour":h=h.slice(0,4);break}if(this.columnsOrder){var f=this.columnsOrder.concat(h.map((function(t){return t.type})));h.sort((function(t,e){return f.indexOf(t.type)-f.indexOf(e.type)}))}return h}},methods:{formatValue:function(t){return hi(t)||(t=this.minDate),t=Math.max(t,this.minDate.getTime()),t=Math.min(t,this.maxDate.getTime()),new Date(t)},getBoundary:function(t,e){var n,i=this[t+"Date"],r=i.getFullYear(),a=1,o=1,s=0,l=0;return"max"===t&&(a=12,o=Oi(e.getFullYear(),e.getMonth()+1),s=23,l=59),e.getFullYear()===r&&(a=i.getMonth()+1,e.getMonth()+1===a&&(o=i.getDate(),e.getDate()===o&&(s=i.getHours(),e.getHours()===s&&(l=i.getMinutes())))),n={},n[t+"Year"]=r,n[t+"Month"]=a,n[t+"Date"]=o,n[t+"Hour"]=s,n[t+"Minute"]=l,n},updateInnerValue:function(){var t,e,n,i=this,r=this.type,a=this.getPicker().getIndexes(),o=function(t){var e=0;i.originColumns.forEach((function(n,i){t===n.type&&(e=i)}));var n=i.originColumns[e].values;return Ci(n[a[e]])};"month-day"===r?(t=this.innerValue.getFullYear(),e=o("month"),n=o("day")):(t=o("year"),e=o("month"),n="year-month"===r?1:o("day"));var s=Oi(t,e);n=n>s?s:n;var l=0,c=0;"datehour"===r&&(l=o("hour")),"datetime"===r&&(l=o("hour"),c=o("minute"));var u=new Date(t,e-1,n,l,c);this.innerValue=this.formatValue(u)},onChange:function(t){var e=this;this.updateInnerValue(),this.$nextTick((function(){e.$nextTick((function(){e.$emit("change",t)}))}))},updateColumnValue:function(){var t=this,e=this.innerValue,n=this.formatter,i=this.originColumns.map((function(t){switch(t.type){case"year":return n("year",""+e.getFullYear());case"month":return n("month",Object(qr["b"])(e.getMonth()+1));case"day":return n("day",Object(qr["b"])(e.getDate()));case"hour":return n("hour",Object(qr["b"])(e.getHours()));case"minute":return n("minute",Object(qr["b"])(e.getMinutes()));default:return null}}));this.$nextTick((function(){t.getPicker().setValues(i)}))}}}),ro=Object(o["a"])("datetime-picker"),ao=ro[0],oo=ro[1],so=ao({props:i({},Za.props,io.props),methods:{getPicker:function(){return this.$refs.root.getPicker()}},render:function(){var t=arguments[0],e="time"===this.type?Za:io;return t(e,{ref:"root",class:oo(),props:i({},this.$props),on:i({},this.$listeners)})}}),lo=Object(o["a"])("divider"),co=lo[0],uo=lo[1];function ho(t,e,n,i){var r;return t("div",a()([{attrs:{role:"separator"},style:{borderColor:e.borderColor},class:uo((r={dashed:e.dashed,hairline:e.hairline},r["content-"+e.contentPosition]=n.default,r))},u(i,!0)]),[n.default&&n.default()])}ho.props={dashed:Boolean,hairline:{type:Boolean,default:!0},contentPosition:{type:String,default:"center"}};var fo=co(ho),po=Object(o["a"])("dropdown-item"),mo=po[0],vo=po[1],go=mo({mixins:[K({ref:"wrapper"}),Nn("vanDropdownMenu")],props:{value:null,title:String,disabled:Boolean,titleClass:String,options:{type:Array,default:function(){return[]}},lazyRender:{type:Boolean,default:!0}},data:function(){return{transition:!0,showPopup:!1,showWrapper:!1}},computed:{displayTitle:function(){var t=this;if(this.title)return this.title;var e=this.options.filter((function(e){return e.value===t.value}));return e.length?e[0].text:""}},watch:{showPopup:function(t){this.bindScroll(t)}},beforeCreate:function(){var t=this,e=function(e){return function(){return t.$emit(e)}};this.onOpen=e("open"),this.onClose=e("close"),this.onOpened=e("opened")},methods:{toggle:function(t,e){void 0===t&&(t=!this.showPopup),void 0===e&&(e={}),t!==this.showPopup&&(this.transition=!e.immediate,this.showPopup=t,t&&(this.parent.updateOffset(),this.showWrapper=!0))},bindScroll:function(t){var e=this.parent.scroller,n=t?g:y;n(e,"scroll",this.onScroll,!0)},onScroll:function(){this.parent.updateOffset()},onClickWrapper:function(t){this.getContainer&&t.stopPropagation()}},render:function(){var t=this,e=arguments[0],n=this.parent,i=n.zIndex,r=n.offset,a=n.overlay,o=n.duration,s=n.direction,l=n.activeColor,c=n.closeOnClickOverlay,u=this.options.map((function(n){var i=n.value===t.value;return e(Ce,{attrs:{clickable:!0,icon:n.icon,title:n.text},key:n.value,class:vo("option",{active:i}),style:{color:i?l:""},on:{click:function(){t.showPopup=!1,n.value!==t.value&&(t.$emit("input",n.value),t.$emit("change",n.value))}}},[i&&e(ft,{class:vo("icon"),attrs:{color:l,name:"success"}})])})),d={zIndex:i};return"down"===s?d.top=r+"px":d.bottom=r+"px",e("div",[e("div",{directives:[{name:"show",value:this.showWrapper}],ref:"wrapper",style:d,class:vo([s]),on:{click:this.onClickWrapper}},[e(gt,{attrs:{overlay:a,position:"down"===s?"top":"bottom",duration:this.transition?o:0,lazyRender:this.lazyRender,overlayStyle:{position:"absolute"},closeOnClickOverlay:c},class:vo("content"),on:{open:this.onOpen,close:this.onClose,opened:this.onOpened,closed:function(){t.showWrapper=!1,t.$emit("closed")}},model:{value:t.showPopup,callback:function(e){t.showPopup=e}}},[u,this.slots("default")])])])}}),yo=function(t){return{props:{closeOnClickOutside:{type:Boolean,default:!0}},data:function(){var e=this,n=function(n){e.closeOnClickOutside&&!e.$el.contains(n.target)&&e[t.method]()};return{clickOutsideHandler:n}},mounted:function(){g(document,t.event,this.clickOutsideHandler)},beforeDestroy:function(){y(document,t.event,this.clickOutsideHandler)}}},bo=Object(o["a"])("dropdown-menu"),wo=bo[0],ko=bo[1],So=wo({mixins:[jn("vanDropdownMenu"),yo({event:"click",method:"onClickOutside"})],props:{zIndex:[Number,String],activeColor:String,overlay:{type:Boolean,default:!0},duration:{type:[Number,String],default:.2},direction:{type:String,default:"down"},closeOnClickOverlay:{type:Boolean,default:!0}},data:function(){return{offset:0}},computed:{scroller:function(){return F(this.$el)},opened:function(){return this.children.some((function(t){return t.showWrapper}))},barStyle:function(){if(this.opened&&Object(p["c"])(this.zIndex))return{zIndex:1+this.zIndex}}},methods:{updateOffset:function(){if(this.$refs.bar){var t=this.$refs.bar.getBoundingClientRect();"down"===this.direction?this.offset=t.bottom:this.offset=window.innerHeight-t.top}},toggleItem:function(t){this.children.forEach((function(e,n){n===t?e.toggle():e.showPopup&&e.toggle(!1,{immediate:!0})}))},onClickOutside:function(){this.children.forEach((function(t){t.toggle(!1)}))}},render:function(){var t=this,e=arguments[0],n=this.children.map((function(n,i){return e("div",{attrs:{role:"button",tabindex:n.disabled?-1:0},class:ko("item",{disabled:n.disabled}),on:{click:function(){n.disabled||t.toggleItem(i)}}},[e("span",{class:[ko("title",{active:n.showPopup,down:n.showPopup===("down"===t.direction)}),n.titleClass],style:{color:n.showPopup?t.activeColor:""}},[e("div",{class:"van-ellipsis"},[n.slots("title")||n.displayTitle])])])}));return e("div",{class:ko()},[e("div",{ref:"bar",style:this.barStyle,class:ko("bar",{opened:this.opened})},[n]),this.slots("default")])}}),xo={render:function(){var t=arguments[0],e=function(e,n,i){return t("stop",{attrs:{"stop-color":e,offset:n+"%","stop-opacity":i}})};return t("svg",{attrs:{viewBox:"0 0 160 160",xmlns:"http://www.w3.org/2000/svg"}},[t("defs",[t("linearGradient",{attrs:{id:"c",x1:"64.022%",y1:"100%",x2:"64.022%",y2:"0%"}},[e("#FFF",0,.5),e("#F2F3F5",100)]),t("linearGradient",{attrs:{id:"d",x1:"64.022%",y1:"96.956%",x2:"64.022%",y2:"0%"}},[e("#F2F3F5",0,.3),e("#F2F3F5",100)]),t("linearGradient",{attrs:{id:"h",x1:"50%",y1:"0%",x2:"50%",y2:"84.459%"}},[e("#EBEDF0",0),e("#DCDEE0",100,0)]),t("linearGradient",{attrs:{id:"i",x1:"100%",y1:"0%",x2:"100%",y2:"100%"}},[e("#EAEDF0",0),e("#DCDEE0",100)]),t("linearGradient",{attrs:{id:"k",x1:"100%",y1:"100%",x2:"100%",y2:"0%"}},[e("#EAEDF0",0),e("#DCDEE0",100)]),t("linearGradient",{attrs:{id:"m",x1:"0%",y1:"43.982%",x2:"100%",y2:"54.703%"}},[e("#EAEDF0",0),e("#DCDEE0",100)]),t("linearGradient",{attrs:{id:"n",x1:"94.535%",y1:"43.837%",x2:"5.465%",y2:"54.948%"}},[e("#EAEDF0",0),e("#DCDEE0",100)]),t("radialGradient",{attrs:{id:"g",cx:"50%",cy:"0%",fx:"50%",fy:"0%",r:"100%",gradientTransform:"matrix(0 1 -.54835 0 .5 -.5)"}},[e("#EBEDF0",0),e("#FFF",100,0)])]),t("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[t("g",{attrs:{opacity:".8"}},[t("path",{attrs:{d:"M0 124V46h20v20h14v58H0z",fill:"url(#c)",transform:"matrix(-1 0 0 1 36 7)"}}),t("path",{attrs:{d:"M40.5 5a8.504 8.504 0 018.13 6.009l.12-.005L49 11a8 8 0 11-1 15.938V27H34v-.174a6.5 6.5 0 11-1.985-12.808A8.5 8.5 0 0140.5 5z",fill:"url(#d)",transform:"translate(2 7)"}}),t("path",{attrs:{d:"M96.016 0a4.108 4.108 0 013.934 2.868l.179-.004c2.138 0 3.871 1.71 3.871 3.818 0 2.109-1.733 3.818-3.871 3.818-.164 0-.325-.01-.484-.03v.03h-6.774v-.083a3.196 3.196 0 01-.726.083C90.408 10.5 89 9.111 89 7.398c0-1.636 1.284-2.976 2.911-3.094a3.555 3.555 0 01-.008-.247c0-2.24 1.842-4.057 4.113-4.057z",fill:"url(#d)",transform:"translate(2 7)"}}),t("path",{attrs:{d:"M121 8h22.231v14H152v77.37h-31V8z",fill:"url(#c)",transform:"translate(2 7)"}})]),t("path",{attrs:{fill:"url(#g)",d:"M0 139h160v21H0z"}}),t("path",{attrs:{d:"M37 18a7 7 0 013 13.326v26.742c0 1.23-.997 2.227-2.227 2.227h-1.546A2.227 2.227 0 0134 58.068V31.326A7 7 0 0137 18z",fill:"url(#h)","fill-rule":"nonzero",transform:"translate(43 36)"}}),t("g",{attrs:{opacity:".6","stroke-linecap":"round","stroke-width":"7"}},[t("path",{attrs:{d:"M20.875 11.136a18.868 18.868 0 00-5.284 13.121c0 5.094 2.012 9.718 5.284 13.12",stroke:"url(#i)",transform:"translate(43 36)"}}),t("path",{attrs:{d:"M9.849 0C3.756 6.225 0 14.747 0 24.146c0 9.398 3.756 17.92 9.849 24.145",stroke:"url(#i)",transform:"translate(43 36)"}}),t("path",{attrs:{d:"M57.625 11.136a18.868 18.868 0 00-5.284 13.121c0 5.094 2.012 9.718 5.284 13.12",stroke:"url(#k)",transform:"rotate(-180 76.483 42.257)"}}),t("path",{attrs:{d:"M73.216 0c-6.093 6.225-9.849 14.747-9.849 24.146 0 9.398 3.756 17.92 9.849 24.145",stroke:"url(#k)",transform:"rotate(-180 89.791 42.146)"}})]),t("g",{attrs:{transform:"translate(31 105)","fill-rule":"nonzero"}},[t("rect",{attrs:{fill:"url(#m)",width:"98",height:"34",rx:"2"}}),t("rect",{attrs:{fill:"#FFF",x:"9",y:"8",width:"80",height:"18",rx:"1.114"}}),t("rect",{attrs:{fill:"url(#n)",x:"15",y:"12",width:"18",height:"6",rx:"1.114"}})])])])}},To=Object(o["a"])("empty"),Eo=To[0],_o=To[1],Ao=["error","search","default"],Co=Eo({props:{description:String,image:{type:String,default:"default"}},methods:{genImageContent:function(){var t=this.$createElement,e=this.slots("image");if(e)return e;if("network"===this.image)return t(xo);var n=this.image;return-1!==Ao.indexOf(n)&&(n="https://img.yzcdn.cn/vant/empty-image-"+n+".png"),t("img",{attrs:{src:n}})},genImage:function(){var t=this.$createElement;return t("div",{class:_o("image")},[this.genImageContent()])},genDescription:function(){var t=this.$createElement,e=this.slots("description")||this.description;if(e)return t("p",{class:_o("description")},[e])},genBottom:function(){var t=this.$createElement,e=this.slots();if(e)return t("div",{class:_o("bottom")},[e])}},render:function(){var t=arguments[0];return t("div",{class:_o()},[this.genImage(),this.genDescription(),this.genBottom()])}}),Oo=Object(o["a"])("form"),Lo=Oo[0],Ro=Oo[1],Do=Lo({props:{colon:Boolean,labelWidth:[Number,String],labelAlign:String,inputAlign:String,scrollToError:Boolean,validateFirst:Boolean,errorMessageAlign:String,submitOnEnter:{type:Boolean,default:!0},validateTrigger:{type:String,default:"onBlur"},showError:{type:Boolean,default:!0},showErrorMessage:{type:Boolean,default:!0}},provide:function(){return{vanForm:this}},data:function(){return{fields:[]}},methods:{validateSeq:function(){var t=this;return new Promise((function(e,n){var i=[];t.fields.reduce((function(t,e){return t.then((function(){if(!i.length)return e.validate().then((function(t){t&&i.push(t)}))}))}),Promise.resolve()).then((function(){i.length?n(i):e()}))}))},validateAll:function(){var t=this;return new Promise((function(e,n){Promise.all(t.fields.map((function(t){return t.validate()}))).then((function(t){t=t.filter((function(t){return t})),t.length?n(t):e()}))}))},validate:function(t){return t?this.validateField(t):this.validateFirst?this.validateSeq():this.validateAll()},validateField:function(t){var e=this.fields.filter((function(e){return e.name===t}));return e.length?new Promise((function(t,n){e[0].validate().then((function(e){e?n(e):t()}))})):Promise.reject()},resetValidation:function(t){this.fields.forEach((function(e){t&&e.name!==t||e.resetValidation()}))},scrollToField:function(t,e){this.fields.forEach((function(n){n.name===t&&n.$el.scrollIntoView(e)}))},addField:function(t){this.fields.push(t),Bn(this.fields,this)},removeField:function(t){this.fields=this.fields.filter((function(e){return e!==t}))},getValues:function(){return this.fields.reduce((function(t,e){return t[e.name]=e.formValue,t}),{})},onSubmit:function(t){t.preventDefault(),this.submit()},submit:function(){var t=this,e=this.getValues();this.validate().then((function(){t.$emit("submit",e)})).catch((function(n){t.$emit("failed",{values:e,errors:n}),t.scrollToError&&t.scrollToField(n[0].name)}))}},render:function(){var t=arguments[0];return t("form",{class:Ro(),on:{submit:this.onSubmit}},[this.slots()])}}),Io=Object(o["a"])("goods-action"),Po=Io[0],Mo=Io[1],Fo=Po({mixins:[jn("vanGoodsAction")],props:{safeAreaInsetBottom:{type:Boolean,default:!0}},render:function(){var t=arguments[0];return t("div",{class:Mo({unfit:!this.safeAreaInsetBottom})},[this.slots()])}}),Bo=Object(o["a"])("goods-action-button"),No=Bo[0],jo=Bo[1],$o=No({mixins:[Nn("vanGoodsAction")],props:i({},Se,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean}),computed:{isFirst:function(){var t=this.parent&&this.parent.children[this.index-1];return!t||t.$options.name!==this.$options.name},isLast:function(){var t=this.parent&&this.parent.children[this.index+1];return!t||t.$options.name!==this.$options.name}},methods:{onClick:function(t){this.$emit("click",t),we(this.$router,this)}},render:function(){var t=arguments[0];return t(en,{class:jo([{first:this.isFirst,last:this.isLast},this.type]),attrs:{square:!0,size:"large",type:this.type,icon:this.icon,color:this.color,loading:this.loading,disabled:this.disabled},on:{click:this.onClick}},[this.slots()||this.text])}}),Uo=Object(o["a"])("goods-action-icon"),zo=Uo[0],Vo=Uo[1],Ho=zo({mixins:[Nn("vanGoodsAction")],props:i({},Se,{dot:Boolean,text:String,icon:String,color:String,info:[Number,String],badge:[Number,String],iconClass:null}),methods:{onClick:function(t){this.$emit("click",t),we(this.$router,this)},genIcon:function(){var t=this.$createElement,e=this.slots("icon"),n=Object(p["c"])(this.badge)?this.badge:this.info;return e?t("div",{class:Vo("icon")},[e,t(at,{attrs:{dot:this.dot,info:n}})]):t(ft,{class:[Vo("icon"),this.iconClass],attrs:{tag:"div",dot:this.dot,info:n,name:this.icon,color:this.color}})}},render:function(){var t=arguments[0];return t("div",{attrs:{role:"button",tabindex:"0"},class:Vo(),on:{click:this.onClick}},[this.genIcon(),this.slots()||this.text])}}),qo=Object(o["a"])("grid"),Go=qo[0],Wo=qo[1],Ko=Go({mixins:[jn("vanGrid")],props:{square:Boolean,gutter:[Number,String],iconSize:[Number,String],direction:String,clickable:Boolean,columnNum:{type:[Number,String],default:4},center:{type:Boolean,default:!0},border:{type:Boolean,default:!0}},computed:{style:function(){var t=this.gutter;if(t)return{paddingLeft:Object(tt["a"])(t)}}},render:function(){var t,e=arguments[0];return e("div",{style:this.style,class:[Wo(),(t={},t[Bt]=this.border&&!this.gutter,t)]},[this.slots()])}}),Yo=Object(o["a"])("grid-item"),Xo=Yo[0],Qo=Yo[1],Jo=Xo({mixins:[Nn("vanGrid")],props:i({},Se,{dot:Boolean,text:String,icon:String,iconPrefix:String,info:[Number,String],badge:[Number,String]}),computed:{style:function(){var t=this.parent,e=t.square,n=t.gutter,i=t.columnNum,r=100/i+"%",a={flexBasis:r};if(e)a.paddingTop=r;else if(n){var o=Object(tt["a"])(n);a.paddingRight=o,this.index>=i&&(a.marginTop=o)}return a},contentStyle:function(){var t=this.parent,e=t.square,n=t.gutter;if(e&&n){var i=Object(tt["a"])(n);return{right:i,bottom:i,height:"auto"}}}},methods:{onClick:function(t){this.$emit("click",t),we(this.$router,this)},genIcon:function(){var t=this.$createElement,e=this.slots("icon"),n=Object(p["c"])(this.badge)?this.badge:this.info;return e?t("div",{class:Qo("icon-wrapper")},[e,t(at,{attrs:{dot:this.dot,info:n}})]):this.icon?t(ft,{attrs:{name:this.icon,dot:this.dot,info:n,size:this.parent.iconSize,classPrefix:this.iconPrefix},class:Qo("icon")}):void 0},getText:function(){var t=this.$createElement,e=this.slots("text");return e||(this.text?t("span",{class:Qo("text")},[this.text]):void 0)},genContent:function(){var t=this.slots();return t||[this.genIcon(),this.getText()]}},render:function(){var t,e=arguments[0],n=this.parent,i=n.center,r=n.border,a=n.square,o=n.gutter,s=n.direction,l=n.clickable;return e("div",{class:[Qo({square:a})],style:this.style},[e("div",{style:this.contentStyle,attrs:{role:l?"button":null,tabindex:l?0:null},class:[Qo("content",[s,{center:i,square:a,clickable:l,surround:r&&o}]),(t={},t[Ft]=r,t)],on:{click:this.onClick}},[this.genContent()])])}}),Zo=Object(o["a"])("image-preview"),ts=Zo[0],es=Zo[1],ns=Object(o["a"])("swipe"),is=ns[0],rs=ns[1],as=is({mixins:[G,jn("vanSwipe"),X((function(t,e){t(window,"resize",this.resize,!0),t(window,"visibilitychange",this.onVisibilityChange),e?this.initialize():this.clear()}))],props:{width:[Number,String],height:[Number,String],autoplay:[Number,String],vertical:Boolean,lazyRender:Boolean,indicatorColor:String,loop:{type:Boolean,default:!0},duration:{type:[Number,String],default:500},touchable:{type:Boolean,default:!0},initialSwipe:{type:[Number,String],default:0},showIndicators:{type:Boolean,default:!0},stopPropagation:{type:Boolean,default:!0}},data:function(){return{rect:null,offset:0,active:0,deltaX:0,deltaY:0,swiping:!1,computedWidth:0,computedHeight:0}},watch:{children:function(){this.initialize()},initialSwipe:function(){this.initialize()},autoplay:function(t){t>0?this.autoPlay():this.clear()}},computed:{count:function(){return this.children.length},maxCount:function(){return Math.ceil(Math.abs(this.minOffset)/this.size)},delta:function(){return this.vertical?this.deltaY:this.deltaX},size:function(){return this[this.vertical?"computedHeight":"computedWidth"]},trackSize:function(){return this.count*this.size},activeIndicator:function(){return(this.active+this.count)%this.count},isCorrectDirection:function(){var t=this.vertical?"vertical":"horizontal";return this.direction===t},trackStyle:function(){var t,e=this.vertical?"height":"width",n=this.vertical?"width":"height";return t={},t[e]=this.trackSize+"px",t[n]=this[n]?this[n]+"px":"",t.transitionDuration=(this.swiping?0:this.duration)+"ms",t.transform="translate"+(this.vertical?"Y":"X")+"("+this.offset+"px)",t},indicatorStyle:function(){return{backgroundColor:this.indicatorColor}},minOffset:function(){return(this.vertical?this.rect.height:this.rect.width)-this.size*this.count}},mounted:function(){this.bindTouchEvent(this.$refs.track)},methods:{initialize:function(t){if(void 0===t&&(t=+this.initialSwipe),this.$el&&!Ea(this.$el)){clearTimeout(this.timer);var e=this.$el.getBoundingClientRect();this.rect=e,this.swiping=!0,this.active=t,this.computedWidth=Math.round(+this.width||e.width),this.computedHeight=Math.round(+this.height||e.height),this.offset=this.getTargetOffset(t),this.children.forEach((function(t){t.offset=0})),this.autoPlay()}},resize:function(){this.initialize(this.activeIndicator)},onVisibilityChange:function(){document.hidden?this.clear():this.autoPlay()},onTouchStart:function(t){this.touchable&&(this.clear(),this.touchStartTime=Date.now(),this.touchStart(t),this.correctPosition())},onTouchMove:function(t){this.touchable&&this.swiping&&(this.touchMove(t),this.isCorrectDirection&&(w(t,this.stopPropagation),this.move({offset:this.delta})))},onTouchEnd:function(){if(this.touchable&&this.swiping){var t=this.size,e=this.delta,n=Date.now()-this.touchStartTime,i=e/n,r=Math.abs(i)>.25||Math.abs(e)>t/2;if(r&&this.isCorrectDirection){var a=this.vertical?this.offsetY:this.offsetX,o=0;o=this.loop?a>0?e>0?-1:1:0:-Math[e>0?"ceil":"floor"](e/t),this.move({pace:o,emitChange:!0})}else e&&this.move({pace:0});this.swiping=!1,this.autoPlay()}},getTargetActive:function(t){var e=this.active,n=this.count,i=this.maxCount;return t?this.loop?qt(e+t,-1,n):qt(e+t,0,i):e},getTargetOffset:function(t,e){void 0===e&&(e=0);var n=t*this.size;this.loop||(n=Math.min(n,-this.minOffset));var i=Math.round(e-n);return this.loop||(i=qt(i,this.minOffset,0)),i},move:function(t){var e=t.pace,n=void 0===e?0:e,i=t.offset,r=void 0===i?0:i,a=t.emitChange,o=this.loop,s=this.count,l=this.active,c=this.children,u=this.trackSize,d=this.minOffset;if(!(s<=1)){var h=this.getTargetActive(n),f=this.getTargetOffset(h,r);if(o){if(c[0]&&f!==d){var p=f<d;c[0].offset=p?u:0}if(c[s-1]&&0!==f){var m=f>0;c[s-1].offset=m?-u:0}}this.active=h,this.offset=f,a&&h!==l&&this.$emit("change",this.activeIndicator)}},prev:function(){var t=this;this.correctPosition(),this.resetTouchStatus(),Object(ar["b"])((function(){t.swiping=!1,t.move({pace:-1,emitChange:!0})}))},next:function(){var t=this;this.correctPosition(),this.resetTouchStatus(),Object(ar["b"])((function(){t.swiping=!1,t.move({pace:1,emitChange:!0})}))},swipeTo:function(t,e){var n=this;void 0===e&&(e={}),this.correctPosition(),this.resetTouchStatus(),Object(ar["b"])((function(){var i;i=n.loop&&t===n.count?0===n.active?0:t:t%n.count,e.immediate?Object(ar["b"])((function(){n.swiping=!1})):n.swiping=!1,n.move({pace:i-n.active,emitChange:!0})}))},correctPosition:function(){this.swiping=!0,this.active<=-1&&this.move({pace:this.count}),this.active>=this.count&&this.move({pace:-this.count})},clear:function(){clearTimeout(this.timer)},autoPlay:function(){var t=this,e=this.autoplay;e>0&&this.count>1&&(this.clear(),this.timer=setTimeout((function(){t.next(),t.autoPlay()}),e))},genIndicator:function(){var t=this,e=this.$createElement,n=this.count,i=this.activeIndicator,r=this.slots("indicator");return r||(this.showIndicators&&n>1?e("div",{class:rs("indicators",{vertical:this.vertical})},[Array.apply(void 0,Array(n)).map((function(n,r){return e("i",{class:rs("indicator",{active:r===i}),style:r===i?t.indicatorStyle:null})}))]):void 0)}},render:function(){var t=arguments[0];return t("div",{class:rs()},[t("div",{ref:"track",style:this.trackStyle,class:rs("track",{vertical:this.vertical})},[this.slots()]),this.genIndicator()])}}),os=Object(o["a"])("swipe-item"),ss=os[0],ls=os[1],cs=ss({mixins:[Nn("vanSwipe")],data:function(){return{offset:0,mounted:!1}},mounted:function(){var t=this;this.$nextTick((function(){t.mounted=!0}))},computed:{style:function(){var t={},e=this.parent,n=e.size,i=e.vertical;return t[i?"height":"width"]=n+"px",this.offset&&(t.transform="translate"+(i?"Y":"X")+"("+this.offset+"px)"),t},shouldRender:function(){var t=this.index,e=this.parent,n=this.mounted;if(!e.lazyRender)return!0;if(!n)return!1;var i=e.activeIndicator,r=e.count-1,a=0===i?r:i-1,o=i===r?0:i+1;return t===i||t===a||t===o}},render:function(){var t=arguments[0];return t("div",{class:ls(),style:this.style,on:i({},this.$listeners)},[this.shouldRender&&this.slots()])}});function us(t){return Math.sqrt(Math.pow(t[0].clientX-t[1].clientX,2)+Math.pow(t[0].clientY-t[1].clientY,2))}var ds,hs={mixins:[G],props:{src:String,show:Boolean,active:Number,minZoom:[Number,String],maxZoom:[Number,String],windowWidth:Number,windowHeight:Number},data:function(){return{scale:1,moveX:0,moveY:0,moving:!1,zooming:!1,imageRatio:0,displayWidth:0,displayHeight:0}},computed:{vertical:function(){var t=this.windowWidth,e=this.windowHeight,n=e/t;return this.imageRatio>n},imageStyle:function(){var t=this.scale,e={transitionDuration:this.zooming||this.moving?"0s":".3s"};if(1!==t){var n=this.moveX/t,i=this.moveY/t;e.transform="scale("+t+", "+t+") translate("+n+"px, "+i+"px)"}return e},maxMoveX:function(){if(this.imageRatio){var t=this.vertical?this.windowHeight/this.imageRatio:this.windowWidth;return Math.max(0,(this.scale*t-this.windowWidth)/2)}return 0},maxMoveY:function(){if(this.imageRatio){var t=this.vertical?this.windowHeight:this.windowWidth*this.imageRatio;return Math.max(0,(this.scale*t-this.windowHeight)/2)}return 0}},watch:{show:function(t){t||this.resetScale()}},mounted:function(){this.bindTouchEvent(this.$el)},methods:{resetScale:function(){this.setScale(1),this.moveX=0,this.moveY=0},setScale:function(t){this.scale=qt(t,+this.minZoom,+this.maxZoom),this.$emit("scale",{scale:this.scale,index:this.active})},toggleScale:function(){var t=this.scale>1?1:2;this.setScale(t),this.moveX=0,this.moveY=0},onTouchStart:function(t){var e=t.touches,n=this.offsetX,i=void 0===n?0:n;this.touchStart(t),this.touchStartTime=new Date,this.startMoveX=this.moveX,this.startMoveY=this.moveY,this.moving=1===e.length&&1!==this.scale,this.zooming=2===e.length&&!i,this.zooming&&(this.startScale=this.scale,this.startDistance=us(t.touches))},onTouchMove:function(t){var e=t.touches;if(this.touchMove(t),(this.moving||this.zooming)&&w(t,!0),this.moving){var n=this.deltaX+this.startMoveX,i=this.deltaY+this.startMoveY;this.moveX=qt(n,-this.maxMoveX,this.maxMoveX),this.moveY=qt(i,-this.maxMoveY,this.maxMoveY)}if(this.zooming&&2===e.length){var r=us(e),a=this.startScale*r/this.startDistance;this.setScale(a)}},onTouchEnd:function(t){var e=!1;(this.moving||this.zooming)&&(e=!0,this.moving&&this.startMoveX===this.moveX&&this.startMoveY===this.moveY&&(e=!1),t.touches.length||(this.zooming&&(this.moveX=qt(this.moveX,-this.maxMoveX,this.maxMoveX),this.moveY=qt(this.moveY,-this.maxMoveY,this.maxMoveY),this.zooming=!1),this.moving=!1,this.startMoveX=0,this.startMoveY=0,this.startScale=1,this.scale<1&&this.resetScale())),w(t,e),this.checkTap(),this.resetTouchStatus()},checkTap:function(){var t=this,e=this.offsetX,n=void 0===e?0:e,i=this.offsetY,r=void 0===i?0:i,a=new Date-this.touchStartTime,o=250,s=10;n<s&&r<s&&a<o&&(this.doubleTapTimer?(clearTimeout(this.doubleTapTimer),this.doubleTapTimer=null,this.toggleScale()):this.doubleTapTimer=setTimeout((function(){t.$emit("close"),t.doubleTapTimer=null}),o))},onLoad:function(t){var e=t.target,n=e.naturalWidth,i=e.naturalHeight;this.imageRatio=i/n}},render:function(){var t=arguments[0],e={loading:function(){return t(Tt,{attrs:{type:"spinner"}})}};return t(cs,{class:es("swipe-item")},[t($i,{attrs:{src:this.src,fit:"contain"},class:es("image",{vertical:this.vertical}),style:this.imageStyle,scopedSlots:e,on:{load:this.onLoad}})])}},fs=ts({mixins:[G,Z({skipToggleEvent:!0}),X((function(t){t(window,"resize",this.resize,!0)}))],props:{className:null,closeable:Boolean,asyncClose:Boolean,showIndicators:Boolean,images:{type:Array,default:function(){return[]}},loop:{type:Boolean,default:!0},swipeDuration:{type:[Number,String],default:500},overlay:{type:Boolean,default:!0},showIndex:{type:Boolean,default:!0},startPosition:{type:[Number,String],default:0},minZoom:{type:[Number,String],default:1/3},maxZoom:{type:[Number,String],default:3},overlayClass:{type:String,default:es("overlay")},closeIcon:{type:String,default:"clear"},closeIconPosition:{type:String,default:"top-right"}},data:function(){return{active:0,windowWidth:0,windowHeight:0,doubleClickTimer:null}},created:function(){this.resize()},watch:{startPosition:"setActive",value:function(t){var e=this;t?(this.setActive(+this.startPosition),this.$nextTick((function(){e.$refs.swipe.swipeTo(+e.startPosition,{immediate:!0})}))):this.$emit("close",{index:this.active,url:this.images[this.active]})}},methods:{resize:function(){p["b"]&&(this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight)},emitClose:function(){this.asyncClose||this.$emit("input",!1)},emitScale:function(t){this.$emit("scale",t)},setActive:function(t){t!==this.active&&(this.active=t,this.$emit("change",t))},genIndex:function(){var t=this.$createElement;if(this.showIndex)return t("div",{class:es("index")},[this.slots("index")||this.active+1+" / "+this.images.length])},genCover:function(){var t=this.$createElement,e=this.slots("cover");if(e)return t("div",{class:es("cover")},[e])},genImages:function(){var t=this,e=this.$createElement;return e(as,{ref:"swipe",attrs:{lazyRender:!0,loop:this.loop,duration:this.swipeDuration,initialSwipe:this.startPosition,showIndicators:this.showIndicators,indicatorColor:"white"},class:es("swipe"),on:{change:this.setActive}},[this.images.map((function(n){return e(hs,{attrs:{src:n,show:t.value,active:t.active,maxZoom:t.maxZoom,minZoom:t.minZoom,windowWidth:t.windowWidth,windowHeight:t.windowHeight},on:{scale:t.emitScale,close:t.emitClose}})}))])},genClose:function(){var t=this.$createElement;if(this.closeable)return t(ft,{attrs:{role:"button",name:this.closeIcon},class:es("close-icon",this.closeIconPosition),on:{click:this.emitClose}})},onClosed:function(){this.$emit("closed")},swipeTo:function(t,e){this.$refs.swipe&&this.$refs.swipe.swipeTo(t,e)}},render:function(){var t=arguments[0];if(this.shouldRender)return t("transition",{attrs:{name:"van-fade"},on:{afterLeave:this.onClosed}},[t("div",{directives:[{name:"show",value:this.value}],class:[es(),this.className]},[this.genClose(),this.genImages(),this.genIndex(),this.genCover()])])}}),ps={loop:!0,images:[],value:!0,minZoom:1/3,maxZoom:3,className:"",onClose:null,onChange:null,showIndex:!0,closeable:!1,closeIcon:"clear",asyncClose:!1,startPosition:0,swipeDuration:500,showIndicators:!1,closeOnPopstate:!1,closeIconPosition:"top-right",getContainer:"body"},ms=function(){ds=new(s["a"].extend(fs))({el:document.createElement("div")}),document.body.appendChild(ds.$el),ds.$on("change",(function(t){ds.onChange&&ds.onChange(t)})),ds.$on("scale",(function(t){ds.onScale&&ds.onScale(t)}))},vs=function(t,e){if(void 0===e&&(e=0),!p["g"]){ds||ms();var n=Array.isArray(t)?{images:t,startPosition:e}:t;return i(ds,ps,n),ds.$once("input",(function(t){ds.value=t})),ds.$once("closed",(function(){ds.images=[]})),n.onClose&&(ds.$off("close"),ds.$once("close",n.onClose)),ds}};vs.Component=fs,vs.install=function(){s["a"].use(fs)};var gs=vs,ys=Object(o["a"])("index-anchor"),bs=ys[0],ws=ys[1],ks=bs({mixins:[Nn("vanIndexBar",{indexKey:"childrenIndex"})],props:{index:[Number,String]},data:function(){return{top:0,left:null,width:null,active:!1}},computed:{sticky:function(){return this.active&&this.parent.sticky},anchorStyle:function(){if(this.sticky)return{zIndex:""+this.parent.zIndex,left:this.left?this.left+"px":null,width:this.width?this.width+"px":null,transform:"translate3d(0, "+this.top+"px, 0)",color:this.parent.highlightColor}}},mounted:function(){this.height=this.$el.offsetHeight},methods:{scrollIntoView:function(){this.$el.scrollIntoView()}},render:function(){var t,e=arguments[0],n=this.sticky;return e("div",{style:{height:n?this.height+"px":null}},[e("div",{style:this.anchorStyle,class:[ws({sticky:n}),(t={},t[jt]=n,t)]},[this.slots("default")||this.index])])}});function Ss(){for(var t=[],e="A".charCodeAt(0),n=0;n<26;n++)t.push(String.fromCharCode(e+n));return t}var xs=Object(o["a"])("index-bar"),Ts=xs[0],Es=xs[1],_s=Ts({mixins:[G,jn("vanIndexBar"),X((function(t){this.scroller||(this.scroller=F(this.$el)),t(this.scroller,"scroll",this.onScroll)}))],props:{zIndex:[Number,String],highlightColor:String,sticky:{type:Boolean,default:!0},stickyOffsetTop:{type:Number,default:0},indexList:{type:Array,default:Ss}},data:function(){return{activeAnchorIndex:null}},computed:{sidebarStyle:function(){if(Object(p["c"])(this.zIndex))return{zIndex:this.zIndex+1}},highlightStyle:function(){var t=this.highlightColor;if(t)return{color:t}}},watch:{indexList:function(){this.$nextTick(this.onScroll)}},methods:{onScroll:function(){var t=this;if(!Ea(this.$el)){var e=B(this.scroller),n=this.getScrollerRect(),i=this.children.map((function(e){return{height:e.height,top:t.getElementTop(e.$el,n)}})),r=this.getActiveAnchorIndex(e,i);this.activeAnchorIndex=this.indexList[r],this.sticky&&this.children.forEach((function(a,o){if(o===r||o===r-1){var s=a.$el.getBoundingClientRect();a.left=s.left,a.width=s.width}else a.left=null,a.width=null;if(o===r)a.active=!0,a.top=Math.max(t.stickyOffsetTop,i[o].top-e)+n.top;else if(o===r-1){var l=i[r].top-e;a.active=l>0,a.top=l+n.top-a.height}else a.active=!1}))}},getScrollerRect:function(){return this.scroller.getBoundingClientRect?this.scroller.getBoundingClientRect():{top:0,left:0}},getElementTop:function(t,e){var n=this.scroller;if(n===window||n===document.body)return U(t);var i=t.getBoundingClientRect();return i.top-e.top+B(n)},getActiveAnchorIndex:function(t,e){for(var n=this.children.length-1;n>=0;n--){var i=n>0?e[n-1].height:0,r=this.sticky?i+this.stickyOffsetTop:0;if(t+r>=e[n].top)return n}return-1},onClick:function(t){this.scrollToElement(t.target)},onTouchMove:function(t){if(this.touchMove(t),"vertical"===this.direction){w(t);var e=t.touches[0],n=e.clientX,i=e.clientY,r=document.elementFromPoint(n,i);if(r){var a=r.dataset.index;this.touchActiveIndex!==a&&(this.touchActiveIndex=a,this.scrollToElement(r))}}},scrollToElement:function(t){var e=t.dataset.index;if(e){var n=this.children.filter((function(t){return String(t.index)===e}));n[0]&&(n[0].scrollIntoView(),this.sticky&&this.stickyOffsetTop&&$(j()-this.stickyOffsetTop),this.$emit("select",n[0].index))}},onTouchEnd:function(){this.active=null}},render:function(){var t=this,e=arguments[0],n=this.indexList.map((function(n){var i=n===t.activeAnchorIndex;return e("span",{class:Es("index",{active:i}),style:i?t.highlightStyle:null,attrs:{"data-index":n}},[n])}));return e("div",{class:Es()},[e("div",{class:Es("sidebar"),style:this.sidebarStyle,on:{click:this.onClick,touchstart:this.touchStart,touchmove:this.onTouchMove,touchend:this.onTouchEnd,touchcancel:this.onTouchEnd}},[n]),this.slots("default")])}}),As=Object(o["a"])("list"),Cs=As[0],Os=As[1],Ls=As[2],Rs=Cs({mixins:[X((function(t){this.scroller||(this.scroller=F(this.$el)),t(this.scroller,"scroll",this.check)}))],model:{prop:"loading"},props:{error:Boolean,loading:Boolean,finished:Boolean,errorText:String,loadingText:String,finishedText:String,immediateCheck:{type:Boolean,default:!0},offset:{type:[Number,String],default:300},direction:{type:String,default:"down"}},data:function(){return{innerLoading:this.loading}},updated:function(){this.innerLoading=this.loading},mounted:function(){this.immediateCheck&&this.check()},watch:{loading:"check",finished:"check"},methods:{check:function(){var t=this;this.$nextTick((function(){if(!(t.innerLoading||t.finished||t.error)){var e,n=t.$el,i=t.scroller,r=t.offset,a=t.direction;e=i.getBoundingClientRect?i.getBoundingClientRect():{top:0,bottom:i.innerHeight};var o=e.bottom-e.top;if(!o||Ea(n))return!1;var s=!1,l=t.$refs.placeholder.getBoundingClientRect();s="up"===a?e.top-l.top<=r:l.bottom-e.bottom<=r,s&&(t.innerLoading=!0,t.$emit("input",!0),t.$emit("load"))}}))},clickErrorText:function(){this.$emit("update:error",!1),this.check()},genLoading:function(){var t=this.$createElement;if(this.innerLoading&&!this.finished)return t("div",{class:Os("loading"),key:"loading"},[this.slots("loading")||t(Tt,{attrs:{size:"16"}},[this.loadingText||Ls("loading")])])},genFinishedText:function(){var t=this.$createElement;if(this.finished){var e=this.slots("finished")||this.finishedText;if(e)return t("div",{class:Os("finished-text")},[e])}},genErrorText:function(){var t=this.$createElement;if(this.error){var e=this.slots("error")||this.errorText;if(e)return t("div",{on:{click:this.clickErrorText},class:Os("error-text")},[e])}}},render:function(){var t=arguments[0],e=t("div",{ref:"placeholder",class:Os("placeholder")});return t("div",{class:Os(),attrs:{role:"feed","aria-busy":this.innerLoading}},["down"===this.direction?this.slots():e,this.genLoading(),this.genFinishedText(),this.genErrorText(),"up"===this.direction?this.slots():e])}}),Ds=n("3c69"),Is=Object(o["a"])("nav-bar"),Ps=Is[0],Ms=Is[1],Fs=Ps({props:{title:String,fixed:Boolean,zIndex:[Number,String],leftText:String,rightText:String,leftArrow:Boolean,placeholder:Boolean,border:{type:Boolean,default:!0}},data:function(){return{height:null}},mounted:function(){this.placeholder&&this.fixed&&(this.height=this.$refs.navBar.getBoundingClientRect().height)},methods:{genLeft:function(){var t=this.$createElement,e=this.slots("left");return e||[this.leftArrow&&t(ft,{class:Ms("arrow"),attrs:{name:"arrow-left"}}),this.leftText&&t("span",{class:Ms("text")},[this.leftText])]},genRight:function(){var t=this.$createElement,e=this.slots("right");return e||(this.rightText?t("span",{class:Ms("text")},[this.rightText]):void 0)},genNavBar:function(){var t,e=this.$createElement;return e("div",{ref:"navBar",style:{zIndex:this.zIndex},class:[Ms({fixed:this.fixed}),(t={},t[jt]=this.border,t)]},[e("div",{class:Ms("left"),on:{click:this.onClickLeft}},[this.genLeft()]),e("div",{class:[Ms("title"),"van-ellipsis"]},[this.slots("title")||this.title]),e("div",{class:Ms("right"),on:{click:this.onClickRight}},[this.genRight()])])},onClickLeft:function(t){this.$emit("click-left",t)},onClickRight:function(t){this.$emit("click-right",t)}},render:function(){var t=arguments[0];return this.placeholder&&this.fixed?t("div",{class:Ms("placeholder"),style:{height:this.height+"px"}},[this.genNavBar()]):this.genNavBar()}}),Bs=Object(o["a"])("notice-bar"),Ns=Bs[0],js=Bs[1],$s=Ns({props:{text:String,mode:String,color:String,leftIcon:String,wrapable:Boolean,background:String,scrollable:{type:Boolean,default:null},delay:{type:[Number,String],default:1},speed:{type:[Number,String],default:50}},data:function(){return{show:!0,offset:0,duration:0,wrapWidth:0,contentWidth:0}},watch:{scrollable:"start",text:{handler:"start",immediate:!0}},activated:function(){this.start()},methods:{onClickIcon:function(t){"closeable"===this.mode&&(this.show=!1,this.$emit("close",t))},onTransitionEnd:function(){var t=this;this.offset=this.wrapWidth,this.duration=0,this.$nextTick((function(){Object(ar["b"])((function(){t.offset=-t.contentWidth,t.duration=(t.contentWidth+t.wrapWidth)/t.speed,t.$emit("replay")}))}))},reset:function(){this.offset=0,this.duration=0,this.wrapWidth=0,this.contentWidth=0},start:function(){var t=this,e=Object(p["c"])(this.delay)?1e3*this.delay:0;this.reset(),setTimeout((function(){var e=t.$refs,n=e.wrap,i=e.content;if(n&&i&&!1!==t.scrollable){var r=n.getBoundingClientRect().width,a=i.getBoundingClientRect().width;(t.scrollable||a>r)&&Object(ar["b"])((function(){t.offset=-a,t.duration=a/t.speed,t.wrapWidth=r,t.contentWidth=a}))}}),e)}},render:function(){var t=this,e=arguments[0],n=this.slots,i=this.mode,r=this.leftIcon,a=this.onClickIcon,o={color:this.color,background:this.background},s={transform:this.offset?"translateX("+this.offset+"px)":"",transitionDuration:this.duration+"s"};function l(){var t=n("left-icon");return t||(r?e(ft,{class:js("left-icon"),attrs:{name:r}}):void 0)}function c(){var t,r=n("right-icon");return r||("closeable"===i?t="cross":"link"===i&&(t="arrow"),t?e(ft,{class:js("right-icon"),attrs:{name:t},on:{click:a}}):void 0)}return e("div",{attrs:{role:"alert"},directives:[{name:"show",value:this.show}],class:js({wrapable:this.wrapable}),style:o,on:{click:function(e){t.$emit("click",e)}}},[l(),e("div",{ref:"wrap",class:js("wrap"),attrs:{role:"marquee"}},[e("div",{ref:"content",class:[js("content"),{"van-ellipsis":!1===this.scrollable&&!this.wrapable}],style:s,on:{transitionend:this.onTransitionEnd}},[this.slots()||this.text])]),c()])}}),Us=Object(o["a"])("notify"),zs=Us[0],Vs=Us[1];function Hs(t,e,n,i){var r={color:e.color,background:e.background};return t(gt,a()([{attrs:{value:e.value,position:"top",overlay:!1,duration:.2,lockScroll:!1},style:r,class:[Vs([e.type]),e.className]},u(i,!0)]),[(null==n.default?void 0:n.default())||e.message])}Hs.props=i({},J,{color:String,message:[Number,String],duration:[Number,String],className:null,background:String,getContainer:[String,Function],type:{type:String,default:"danger"}});var qs,Gs,Ws=zs(Hs);function Ks(t){return Object(p["e"])(t)?t:{message:t}}function Ys(t){if(!p["g"])return Gs||(Gs=h(Ws,{on:{click:function(t){Gs.onClick&&Gs.onClick(t)},close:function(){Gs.onClose&&Gs.onClose()},opened:function(){Gs.onOpened&&Gs.onOpened()}}})),t=i({},Ys.currentOptions,Ks(t)),i(Gs,t),clearTimeout(qs),t.duration&&t.duration>0&&(qs=setTimeout(Ys.clear,t.duration)),Gs}function Xs(){return{type:"danger",value:!0,message:"",color:void 0,background:void 0,duration:3e3,className:"",onClose:null,onClick:null,onOpened:null}}Ys.clear=function(){Gs&&(Gs.value=!1)},Ys.currentOptions=Xs(),Ys.setDefaultOptions=function(t){i(Ys.currentOptions,t)},Ys.resetDefaultOptions=function(){Ys.currentOptions=Xs()},Ys.install=function(){s["a"].use(Ws)},Ys.Component=Ws,s["a"].prototype.$notify=Ys;var Qs=Ys,Js={render:function(){var t=arguments[0];return t("svg",{attrs:{viewBox:"0 0 32 22",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{d:"M28.016 0A3.991 3.991 0 0132 3.987v14.026c0 2.2-1.787 3.987-3.98 3.987H10.382c-.509 0-.996-.206-1.374-.585L.89 13.09C.33 12.62 0 11.84 0 11.006c0-.86.325-1.62.887-2.08L9.01.585A1.936 1.936 0 0110.383 0zm0 1.947H10.368L2.24 10.28c-.224.226-.312.432-.312.73 0 .287.094.51.312.729l8.128 8.333h17.648a2.041 2.041 0 002.037-2.04V3.987c0-1.127-.915-2.04-2.037-2.04zM23.028 6a.96.96 0 01.678.292.95.95 0 01-.003 1.377l-3.342 3.348 3.326 3.333c.189.188.292.43.292.679 0 .248-.103.49-.292.679a.96.96 0 01-.678.292.959.959 0 01-.677-.292L18.99 12.36l-3.343 3.345a.96.96 0 01-.677.292.96.96 0 01-.678-.292.962.962 0 01-.292-.68c0-.248.104-.49.292-.679l3.342-3.348-3.342-3.348A.963.963 0 0114 6.971c0-.248.104-.49.292-.679A.96.96 0 0114.97 6a.96.96 0 01.677.292l3.358 3.348 3.345-3.348A.96.96 0 0123.028 6z",fill:"currentColor"}})])}},Zs={render:function(){var t=arguments[0];return t("svg",{attrs:{viewBox:"0 0 30 24",xmlns:"http://www.w3.org/2000/svg"}},[t("path",{attrs:{d:"M25.877 12.843h-1.502c-.188 0-.188 0-.188.19v1.512c0 .188 0 .188.188.188h1.5c.187 0 .187 0 .187-.188v-1.511c0-.19 0-.191-.185-.191zM17.999 10.2c0 .188 0 .188.188.188h1.687c.188 0 .188 0 .188-.188V8.688c0-.187.004-.187-.186-.19h-1.69c-.187 0-.187 0-.187.19V10.2zm2.25-3.967h1.5c.188 0 .188 0 .188-.188v-1.7c0-.19 0-.19-.188-.19h-1.5c-.189 0-.189 0-.189.19v1.7c0 .188 0 .188.19.188zm2.063 4.157h3.563c.187 0 .187 0 .187-.189V4.346c0-.19.004-.19-.185-.19h-1.69c-.187 0-.187 0-.187.188v4.155h-1.688c-.187 0-.187 0-.187.189v1.514c0 .19 0 .19.187.19zM14.812 24l2.812-3.4H12l2.813 3.4zm-9-11.157H4.31c-.188 0-.188 0-.188.19v1.512c0 .188 0 .188.188.188h1.502c.187 0 .187 0 .187-.188v-1.511c0-.19.01-.191-.189-.191zm15.937 0H8.25c-.188 0-.188 0-.188.19v1.512c0 .188 0 .188.188.188h13.5c.188 0 .188 0 .188-.188v-1.511c0-.19 0-.191-.188-.191zm-11.438-2.454h1.5c.188 0 .188 0 .188-.188V8.688c0-.187 0-.187-.188-.189h-1.5c-.187 0-.187 0-.187.189V10.2c0 .188 0 .188.187.188zM27.94 0c.563 0 .917.21 1.313.567.518.466.748.757.748 1.51v14.92c0 .567-.188 1.134-.562 1.512-.376.378-.938.566-1.313.566H2.063c-.563 0-.938-.188-1.313-.566-.562-.378-.75-.945-.75-1.511V2.078C0 1.51.188.944.562.567.938.189 1.5 0 1.875 0zm-.062 2H2v14.92h25.877V2zM5.81 4.157c.19 0 .19 0 .19.189v1.762c-.003.126-.024.126-.188.126H4.249c-.126-.003-.126-.023-.126-.188v-1.7c-.187-.19 0-.19.188-.19zm10.5 2.077h1.503c.187 0 .187 0 .187-.188v-1.7c0-.19 0-.19-.187-.19h-1.502c-.188 0-.188.001-.188.19v1.7c0 .188 0 .188.188.188zM7.875 8.5c.187 0 .187.002.187.189V10.2c0 .188 0 .188-.187.188H4.249c-.126-.002-.126-.023-.126-.188V8.625c.003-.126.024-.126.188-.126zm7.875 0c.19.002.19.002.19.189v1.575c-.003.126-.024.126-.19.126h-1.563c-.126-.002-.126-.023-.126-.188V8.625c.002-.126.023-.126.189-.126zm-6-4.342c.187 0 .187 0 .187.189v1.7c0 .188 0 .188-.187.188H8.187c-.126-.003-.126-.023-.126-.188V4.283c.003-.126.024-.126.188-.126zm3.94 0c.185 0 .372 0 .372.189v1.762c-.002.126-.023.126-.187.126h-1.75C12 6.231 12 6.211 12 6.046v-1.7c0-.19.187-.19.187-.19z",fill:"currentColor"}})])}},tl=Object(o["a"])("key"),el=tl[0],nl=tl[1],il=el({mixins:[G],props:{type:String,text:[Number,String],color:String,wider:Boolean,large:Boolean,loading:Boolean},data:function(){return{active:!1}},mounted:function(){this.bindTouchEvent(this.$el)},methods:{onTouchStart:function(t){t.stopPropagation(),this.touchStart(t),this.active=!0},onTouchMove:function(t){this.touchMove(t),this.direction&&(this.active=!1)},onTouchEnd:function(t){this.active&&(t.preventDefault(),this.active=!1,this.$emit("press",this.text,this.type))},genContent:function(){var t=this.$createElement,e="extra"===this.type,n="delete"===this.type,i=this.slots("default")||this.text;return this.loading?t(Tt,{class:nl("loading-icon")}):n?i||t(Js,{class:nl("delete-icon")}):e?i||t(Zs,{class:nl("collapse-icon")}):i}},render:function(){var t=arguments[0];return t("div",{class:nl("wrapper",{wider:this.wider})},[t("div",{attrs:{role:"button",tabindex:"0"},class:nl([this.color,{large:this.large,active:this.active,delete:"delete"===this.type}])},[this.genContent()])])}}),rl=Object(o["a"])("number-keyboard"),al=rl[0],ol=rl[1],sl=al({mixins:[X((function(t){this.hideOnClickOutside&&t(document.body,"touchstart",this.onBlur)}))],model:{event:"update:value"},props:{show:Boolean,title:String,zIndex:[Number,String],closeButtonText:String,deleteButtonText:String,closeButtonLoading:Boolean,theme:{type:String,default:"default"},value:{type:String,default:""},extraKey:{type:[String,Array],default:""},maxlength:{type:[Number,String],default:Number.MAX_VALUE},transition:{type:Boolean,default:!0},showDeleteKey:{type:Boolean,default:!0},hideOnClickOutside:{type:Boolean,default:!0},safeAreaInsetBottom:{type:Boolean,default:!0}},watch:{show:function(t){this.transition||this.$emit(t?"show":"hide")}},computed:{keys:function(){return"custom"===this.theme?this.genCustomKeys():this.genDefaultKeys()}},methods:{genBasicKeys:function(){for(var t=[],e=1;e<=9;e++)t.push({text:e});return t},genDefaultKeys:function(){return[].concat(this.genBasicKeys(),[{text:this.extraKey,type:"extra"},{text:0},{text:this.showDeleteKey?this.deleteButtonText:"",type:this.showDeleteKey?"delete":""}])},genCustomKeys:function(){var t=this.genBasicKeys(),e=this.extraKey,n=Array.isArray(e)?e:[e];return 1===n.length?t.push({text:0,wider:!0},{text:e[0],type:"extra"}):2===n.length&&t.push({text:e[0],type:"extra"},{text:0},{text:e[1],type:"extra"}),t},onBlur:function(){this.show&&this.$emit("blur")},onClose:function(){this.$emit("close"),this.onBlur()},onAnimationEnd:function(){this.$emit(this.show?"show":"hide")},onPress:function(t,e){if(""!==t){var n=this.value;"delete"===e?(this.$emit("delete"),this.$emit("update:value",n.slice(0,n.length-1))):"close"===e?this.onClose():n.length<this.maxlength&&(this.$emit("input",t),this.$emit("update:value",n+t))}else"extra"===e&&this.onBlur()},genTitle:function(){var t=this.$createElement,e=this.title,n=this.theme,i=this.closeButtonText,r=this.slots("title-left"),a=i&&"default"===n,o=e||a||r;if(o)return t("div",{class:ol("header")},[r&&t("span",{class:ol("title-left")},[r]),e&&t("h2",{class:ol("title")},[e]),a&&t("button",{attrs:{type:"button"},class:ol("close"),on:{click:this.onClose}},[i])])},genKeys:function(){var t=this,e=this.$createElement;return this.keys.map((function(n){return e(il,{key:n.text,attrs:{text:n.text,type:n.type,wider:n.wider,color:n.color},on:{press:t.onPress}},["delete"===n.type&&t.slots("delete"),"extra"===n.type&&t.slots("extra-key")])}))},genSidebar:function(){var t=this.$createElement;if("custom"===this.theme)return t("div",{class:ol("sidebar")},[this.showDeleteKey&&t(il,{attrs:{large:!0,text:this.deleteButtonText,type:"delete"},on:{press:this.onPress}},[this.slots("delete")]),t(il,{attrs:{large:!0,text:this.closeButtonText,type:"close",color:"blue",loading:this.closeButtonLoading},on:{press:this.onPress}})])}},render:function(){var t=arguments[0],e=this.genTitle();return t("transition",{attrs:{name:this.transition?"van-slide-up":""}},[t("div",{directives:[{name:"show",value:this.show}],style:{zIndex:this.zIndex},class:ol({unfit:!this.safeAreaInsetBottom,"with-title":e}),on:{touchstart:b,animationend:this.onAnimationEnd,webkitAnimationEnd:this.onAnimationEnd}},[e,t("div",{class:ol("body")},[t("div",{class:ol("keys")},[this.genKeys()]),this.genSidebar()])])])}}),ll=Object(o["a"])("pagination"),cl=ll[0],ul=ll[1],dl=ll[2];function hl(t,e,n){return{number:t,text:e,active:n}}var fl=cl({props:{prevText:String,nextText:String,forceEllipses:Boolean,mode:{type:String,default:"multi"},value:{type:Number,default:0},pageCount:{type:[Number,String],default:0},totalItems:{type:[Number,String],default:0},itemsPerPage:{type:[Number,String],default:10},showPageSize:{type:[Number,String],default:5}},computed:{count:function(){var t=this.pageCount||Math.ceil(this.totalItems/this.itemsPerPage);return Math.max(1,t)},pages:function(){var t=[],e=this.count,n=+this.showPageSize;if("multi"!==this.mode)return t;var i=1,r=e,a=n<e;a&&(i=Math.max(this.value-Math.floor(n/2),1),r=i+n-1,r>e&&(r=e,i=r-n+1));for(var o=i;o<=r;o++){var s=hl(o,o,o===this.value);t.push(s)}if(a&&n>0&&this.forceEllipses){if(i>1){var l=hl(i-1,"...",!1);t.unshift(l)}if(r<e){var c=hl(r+1,"...",!1);t.push(c)}}return t}},watch:{value:{handler:function(t){this.select(t||this.value)},immediate:!0}},methods:{select:function(t,e){t=Math.min(this.count,Math.max(1,t)),this.value!==t&&(this.$emit("input",t),e&&this.$emit("change",t))}},render:function(){var t=this,e=arguments[0],n=this.value,i="multi"!==this.mode,r=function(e){return function(){t.select(e,!0)}};return e("ul",{class:ul({simple:i})},[e("li",{class:[ul("item",{disabled:1===n}),ul("prev"),Ft],on:{click:r(n-1)}},[this.prevText||dl("prev")]),this.pages.map((function(t){return e("li",{class:[ul("item",{active:t.active}),ul("page"),Ft],on:{click:r(t.number)}},[t.text])})),i&&e("li",{class:ul("page-desc")},[this.slots("pageDesc")||n+"/"+this.count]),e("li",{class:[ul("item",{disabled:n===this.count}),ul("next"),Ft],on:{click:r(n+1)}},[this.nextText||dl("next")])])}}),pl=Object(o["a"])("panel"),ml=pl[0],vl=pl[1];function gl(t,e,n,i){var r=function(){return[n.header?n.header():t(Ce,{attrs:{icon:e.icon,label:e.desc,title:e.title,value:e.status,valueClass:vl("header-value")},class:vl("header")}),t("div",{class:vl("content")},[n.default&&n.default()]),n.footer&&t("div",{class:[vl("footer"),Bt]},[n.footer()])]};return t(Xi,a()([{class:vl(),scopedSlots:{default:r}},u(i,!0)]))}gl.props={icon:String,desc:String,title:String,status:String};var yl=ml(gl),bl=Object(o["a"])("password-input"),wl=bl[0],kl=bl[1];function Sl(t,e,n,i){for(var r,o=e.mask,s=e.value,l=e.length,c=e.gutter,h=e.focused,f=e.errorInfo,p=f||e.info,m=[],v=0;v<l;v++){var g,y=s[v],b=0!==v&&!c,w=h&&v===s.length,k=void 0;0!==v&&c&&(k={marginLeft:Object(tt["a"])(c)}),m.push(t("li",{class:[(g={},g[Nt]=b,g),kl("item",{focus:w})],style:k},[o?t("i",{style:{visibility:y?"visible":"hidden"}}):y,w&&t("div",{class:kl("cursor")})]))}return t("div",{class:kl()},[t("ul",a()([{class:[kl("security"),(r={},r[$t]=!c,r)],on:{touchstart:function(t){t.stopPropagation(),d(i,"focus",t)}}},u(i,!0)]),[m]),p&&t("div",{class:kl(f?"error-info":"info")},[p])])}Sl.props={info:String,gutter:[Number,String],focused:Boolean,errorInfo:String,mask:{type:Boolean,default:!0},value:{type:String,default:""},length:{type:[Number,String],default:6}};var xl=wl(Sl),Tl=Object(o["a"])("progress"),El=Tl[0],_l=Tl[1],Al=El({props:{color:String,inactive:Boolean,pivotText:String,textColor:String,pivotColor:String,trackColor:String,strokeWidth:[Number,String],percentage:{type:[Number,String],required:!0,validator:function(t){return t>=0&&t<=100}},showPivot:{type:Boolean,default:!0}},data:function(){return{pivotWidth:0,progressWidth:0}},mounted:function(){this.setWidth()},watch:{showPivot:"setWidth",pivotText:"setWidth"},methods:{setWidth:function(){var t=this;this.$nextTick((function(){t.progressWidth=t.$el.offsetWidth,t.pivotWidth=t.$refs.pivot?t.$refs.pivot.offsetWidth:0}))}},render:function(){var t=arguments[0],e=this.pivotText,n=this.percentage,i=Object(p["c"])(e)?e:n+"%",r=this.showPivot&&i,a=this.inactive?"#cacaca":this.color,o={color:this.textColor,left:(this.progressWidth-this.pivotWidth)*n/100+"px",background:this.pivotColor||a},s={background:a,width:this.progressWidth*n/100+"px"},l={background:this.trackColor,height:Object(tt["a"])(this.strokeWidth)};return t("div",{class:_l(),style:l},[t("span",{class:_l("portion"),style:s},[r&&t("span",{ref:"pivot",style:o,class:_l("pivot")},[i])])])}}),Cl=Object(o["a"])("pull-refresh"),Ol=Cl[0],Ll=Cl[1],Rl=Cl[2],Dl=50,Il=["pulling","loosing","success"],Pl=Ol({mixins:[G],props:{disabled:Boolean,successText:String,pullingText:String,loosingText:String,loadingText:String,value:{type:Boolean,required:!0},successDuration:{type:[Number,String],default:500},animationDuration:{type:[Number,String],default:300},headHeight:{type:[Number,String],default:Dl}},data:function(){return{status:"normal",distance:0,duration:0}},computed:{touchable:function(){return"loading"!==this.status&&"success"!==this.status&&!this.disabled},headStyle:function(){if(this.headHeight!==Dl)return{height:this.headHeight+"px"}}},watch:{value:function(t){this.duration=this.animationDuration,t?this.setStatus(+this.headHeight,!0):this.slots("success")||this.successText?this.showSuccessTip():this.setStatus(0,!1)}},mounted:function(){this.bindTouchEvent(this.$refs.track),this.scrollEl=F(this.$el)},methods:{checkPullStart:function(t){this.ceiling=0===B(this.scrollEl),this.ceiling&&(this.duration=0,this.touchStart(t))},onTouchStart:function(t){this.touchable&&this.checkPullStart(t)},onTouchMove:function(t){this.touchable&&(this.ceiling||this.checkPullStart(t),this.touchMove(t),this.ceiling&&this.deltaY>=0&&"vertical"===this.direction&&(w(t),this.setStatus(this.ease(this.deltaY))))},onTouchEnd:function(){var t=this;this.touchable&&this.ceiling&&this.deltaY&&(this.duration=this.animationDuration,"loosing"===this.status?(this.setStatus(+this.headHeight,!0),this.$emit("input",!0),this.$nextTick((function(){t.$emit("refresh")}))):this.setStatus(0))},ease:function(t){var e=+this.headHeight;return t>e&&(t=t<2*e?e+(t-e)/2:1.5*e+(t-2*e)/4),Math.round(t)},setStatus:function(t,e){var n;n=e?"loading":0===t?"normal":t<this.headHeight?"pulling":"loosing",this.distance=t,n!==this.status&&(this.status=n)},genStatus:function(){var t=this.$createElement,e=this.status,n=this.distance,i=this.slots(e,{distance:n});if(i)return i;var r=[],a=this[e+"Text"]||Rl(e);return-1!==Il.indexOf(e)&&r.push(t("div",{class:Ll("text")},[a])),"loading"===e&&r.push(t(Tt,{attrs:{size:"16"}},[a])),r},showSuccessTip:function(){var t=this;this.status="success",setTimeout((function(){t.setStatus(0)}),this.successDuration)}},render:function(){var t=arguments[0],e={transitionDuration:this.duration+"ms",transform:this.distance?"translate3d(0,"+this.distance+"px, 0)":""};return t("div",{class:Ll()},[t("div",{ref:"track",class:Ll("track"),style:e},[t("div",{class:Ll("head"),style:this.headStyle},[this.genStatus()]),this.slots()])])}}),Ml=Object(o["a"])("rate"),Fl=Ml[0],Bl=Ml[1];function Nl(t,e,n){return t>=e?"full":t+.5>=e&&n?"half":"void"}var jl=Fl({mixins:[G,bn],props:{size:[Number,String],color:String,gutter:[Number,String],readonly:Boolean,disabled:Boolean,allowHalf:Boolean,voidColor:String,iconPrefix:String,disabledColor:String,value:{type:Number,default:0},icon:{type:String,default:"star"},voidIcon:{type:String,default:"star-o"},count:{type:[Number,String],default:5},touchable:{type:Boolean,default:!0}},computed:{list:function(){for(var t=[],e=1;e<=this.count;e++)t.push(Nl(this.value,e,this.allowHalf));return t},sizeWithUnit:function(){return Object(tt["a"])(this.size)},gutterWithUnit:function(){return Object(tt["a"])(this.gutter)}},mounted:function(){this.bindTouchEvent(this.$el)},methods:{select:function(t){this.disabled||this.readonly||t===this.value||(this.$emit("input",t),this.$emit("change",t))},onTouchStart:function(t){var e=this;if(!this.readonly&&!this.disabled&&this.touchable){this.touchStart(t);var n=this.$refs.items.map((function(t){return t.getBoundingClientRect()})),i=[];n.forEach((function(t,n){e.allowHalf?i.push({score:n+.5,left:t.left},{score:n+1,left:t.left+t.width/2}):i.push({score:n+1,left:t.left})})),this.ranges=i}},onTouchMove:function(t){if(!this.readonly&&!this.disabled&&this.touchable&&(this.touchMove(t),"horizontal"===this.direction)){w(t);var e=t.touches[0].clientX;this.select(this.getScoreByPosition(e))}},getScoreByPosition:function(t){for(var e=this.ranges.length-1;e>0;e--)if(t>this.ranges[e].left)return this.ranges[e].score;return this.allowHalf?.5:1},genStar:function(t,e){var n,i=this,r=this.$createElement,a=this.icon,o=this.color,s=this.count,l=this.voidIcon,c=this.disabled,u=this.voidColor,d=this.disabledColor,h=e+1,f="full"===t,p="void"===t;return this.gutterWithUnit&&h!==+s&&(n={paddingRight:this.gutterWithUnit}),r("div",{ref:"items",refInFor:!0,key:e,attrs:{role:"radio",tabindex:"0","aria-setsize":s,"aria-posinset":h,"aria-checked":String(!p)},style:n,class:Bl("item")},[r(ft,{attrs:{size:this.sizeWithUnit,name:f?a:l,color:c?d:f?o:u,classPrefix:this.iconPrefix,"data-score":h},class:Bl("icon",{disabled:c,full:f}),on:{click:function(){i.select(h)}}}),this.allowHalf&&r(ft,{attrs:{size:this.sizeWithUnit,name:p?l:a,color:c?d:p?u:o,classPrefix:this.iconPrefix,"data-score":h-.5},class:Bl("icon",["half",{disabled:c,full:!p}]),on:{click:function(){i.select(h-.5)}}})])}},render:function(){var t=this,e=arguments[0];return e("div",{class:Bl({readonly:this.readonly,disabled:this.disabled}),attrs:{tabindex:"0",role:"radiogroup"}},[this.list.map((function(e,n){return t.genStar(e,n)}))])}}),$l=Object(o["a"])("row"),Ul=$l[0],zl=$l[1],Vl=Ul({mixins:[jn("vanRow")],props:{type:String,align:String,justify:String,tag:{type:String,default:"div"},gutter:{type:[Number,String],default:0}},computed:{spaces:function(){var t=Number(this.gutter);if(t){var e=[],n=[[]],i=0;return this.children.forEach((function(t,e){i+=Number(t.span),i>24?(n.push([e]),i-=24):n[n.length-1].push(e)})),n.forEach((function(n){var i=t*(n.length-1)/n.length;n.forEach((function(n,r){if(0===r)e.push({right:i});else{var a=t-e[n-1].right,o=i-a;e.push({left:a,right:o})}}))})),e}}},methods:{onClick:function(t){this.$emit("click",t)}},render:function(){var t,e=arguments[0],n=this.align,i=this.justify,r="flex"===this.type;return e(this.tag,{class:zl((t={flex:r},t["align-"+n]=r&&n,t["justify-"+i]=r&&i,t)),on:{click:this.onClick}},[this.slots()])}}),Hl=Object(o["a"])("search"),ql=Hl[0],Gl=Hl[1],Wl=Hl[2];function Kl(t,e,n,r){function o(){if(n.label||e.label)return t("div",{class:Gl("label")},[n.label?n.label():e.label])}function s(){if(e.showAction)return t("div",{class:Gl("action"),attrs:{role:"button",tabindex:"0"},on:{click:i}},[n.action?n.action():e.actionText||Wl("cancel")]);function i(){n.action||(d(r,"input",""),d(r,"cancel"))}}var l={attrs:r.data.attrs,on:i({},r.listeners,{keypress:function(t){13===t.keyCode&&(w(t),d(r,"search",e.value)),d(r,"keypress",t)}})},c=u(r);return c.attrs=void 0,t("div",a()([{class:Gl({"show-action":e.showAction}),style:{background:e.background}},c]),[null==n.left?void 0:n.left(),t("div",{class:Gl("content",e.shape)},[o(),t(De,a()([{attrs:{type:"search",border:!1,value:e.value,leftIcon:e.leftIcon,rightIcon:e.rightIcon,clearable:e.clearable,clearTrigger:e.clearTrigger},scopedSlots:{"left-icon":n["left-icon"],"right-icon":n["right-icon"]}},l]))]),s()])}Kl.props={value:String,label:String,rightIcon:String,actionText:String,background:String,showAction:Boolean,clearTrigger:String,shape:{type:String,default:"square"},clearable:{type:Boolean,default:!0},leftIcon:{type:String,default:"search"}};var Yl=ql(Kl),Xl=["qq","weibo","wechat","link","qrcode","poster"],Ql=Object(o["a"])("share-sheet"),Jl=Ql[0],Zl=Ql[1],tc=Ql[2],ec=Jl({props:i({},J,{title:String,cancelText:String,description:String,getContainer:[String,Function],options:{type:Array,default:function(){return[]}},overlay:{type:Boolean,default:!0},closeOnPopstate:{type:Boolean,default:!0},safeAreaInsetBottom:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0}}),methods:{onCancel:function(){this.toggle(!1),this.$emit("cancel")},onSelect:function(t,e){this.$emit("select",t,e)},toggle:function(t){this.$emit("input",t)},getIconURL:function(t){return-1!==Xl.indexOf(t)?"https://img.yzcdn.cn/vant/share-icon-"+t+".png":t},genHeader:function(){var t=this.$createElement,e=this.slots("title")||this.title,n=this.slots("description")||this.description;if(e||n)return t("div",{class:Zl("header")},[e&&t("h2",{class:Zl("title")},[e]),n&&t("span",{class:Zl("description")},[n])])},genOptions:function(t,e){var n=this,i=this.$createElement;return i("div",{class:Zl("options",{border:e})},[t.map((function(t,e){return i("div",{attrs:{role:"button",tabindex:"0"},class:Zl("option"),on:{click:function(){n.onSelect(t,e)}}},[i("img",{attrs:{src:n.getIconURL(t.icon)},class:Zl("icon")}),t.name&&i("span",{class:Zl("name")},[t.name]),t.description&&i("span",{class:Zl("option-description")},[t.description])])}))])},genRows:function(){var t=this,e=this.options;return Array.isArray(e[0])?e.map((function(e,n){return t.genOptions(e,0!==n)})):this.genOptions(e)},genCancelText:function(){var t=this.$createElement,e=Object(p["c"])(this.cancelText)?this.cancelText:tc("cancel");if(e)return t("button",{attrs:{type:"button"},class:Zl("cancel"),on:{click:this.onCancel}},[e])},onClickOverlay:function(){this.$emit("click-overlay")}},render:function(){var t=arguments[0];return t(gt,{attrs:{round:!0,value:this.value,position:"bottom",overlay:this.overlay,duration:this.duration,lazyRender:this.lazyRender,lockScroll:this.lockScroll,getContainer:this.getContainer,closeOnPopstate:this.closeOnPopstate,closeOnClickOverlay:this.closeOnClickOverlay,safeAreaInsetBottom:this.safeAreaInsetBottom},class:Zl(),on:{input:this.toggle,"click-overlay":this.onClickOverlay}},[this.genHeader(),this.genRows(),this.genCancelText()])}}),nc=Object(o["a"])("sidebar"),ic=nc[0],rc=nc[1],ac=ic({mixins:[jn("vanSidebar")],model:{prop:"activeKey"},props:{activeKey:{type:[Number,String],default:0}},data:function(){return{index:+this.activeKey}},watch:{activeKey:function(){this.setIndex(+this.activeKey)}},methods:{setIndex:function(t){t!==this.index&&(this.index=t,this.$emit("change",t))}},render:function(){var t=arguments[0];return t("div",{class:rc()},[this.slots()])}}),oc=Object(o["a"])("sidebar-item"),sc=oc[0],lc=oc[1],cc=sc({mixins:[Nn("vanSidebar")],props:i({},Se,{dot:Boolean,info:[Number,String],badge:[Number,String],title:String,disabled:Boolean}),computed:{select:function(){return this.index===+this.parent.activeKey}},methods:{onClick:function(){this.disabled||(this.$emit("click",this.index),this.parent.$emit("input",this.index),this.parent.setIndex(this.index),we(this.$router,this))}},render:function(){var t=arguments[0];return t("a",{class:lc({select:this.select,disabled:this.disabled}),on:{click:this.onClick}},[t("div",{class:lc("text")},[this.title,t(at,{attrs:{dot:this.dot,info:Object(p["c"])(this.badge)?this.badge:this.info},class:lc("info")})])])}}),uc=Object(o["a"])("skeleton"),dc=uc[0],hc=uc[1],fc="100%",pc="60%";function mc(t,e,n,i){if(!e.loading)return n.default&&n.default();function r(){if(e.title)return t("h3",{class:hc("title"),style:{width:Object(tt["a"])(e.titleWidth)}})}function o(){var n=[],i=e.rowWidth;function r(t){return i===fc&&t===+e.row-1?pc:Array.isArray(i)?i[t]:i}for(var a=0;a<e.row;a++)n.push(t("div",{class:hc("row"),style:{width:Object(tt["a"])(r(a))}}));return n}function s(){if(e.avatar){var n=Object(tt["a"])(e.avatarSize);return t("div",{class:hc("avatar",e.avatarShape),style:{width:n,height:n}})}}return t("div",a()([{class:hc({animate:e.animate,round:e.round})},u(i)]),[s(),t("div",{class:hc("content")},[r(),o()])])}mc.props={title:Boolean,round:Boolean,avatar:Boolean,row:{type:[Number,String],default:0},loading:{type:Boolean,default:!0},animate:{type:Boolean,default:!0},avatarSize:{type:String,default:"32px"},avatarShape:{type:String,default:"round"},titleWidth:{type:[Number,String],default:"40%"},rowWidth:{type:[Number,String,Array],default:fc}};var vc=dc(mc),gc={"zh-CN":{vanSku:{select:"",selected:"",selectSku:"",soldout:"",originPrice:"",minusTip:"",minusStartTip:function(t){return t+""},unavailable:"",stock:"",stockUnit:"",quotaTip:function(t){return""+t+""},quotaUsedTip:function(t,e){return""+t+""+e+""}},vanSkuActions:{buy:"",addCart:""},vanSkuImgUploader:{oversize:function(t){return""+t+"MB"},fail:"",uploading:"..."},vanSkuStepper:{quotaLimit:function(t){return""+t+""},quotaStart:function(t){return t+""},comma:"",num:""},vanSkuMessages:{fill:"",upload:"",imageLabel:"",invalid:{tel:"",mobile:"6-20",email:"",id_no:""},placeholder:{id_no:"",text:"",tel:"",email:"",date:"",time:"",textarea:"",mobile:""}},vanSkuRow:{multiple:""},vanSkuDatetimeField:{title:{date:"",time:"",datetime:""},format:{year:"",month:"",day:"",hour:"",minute:""}}}},yc={QUOTA_LIMIT:0,STOCK_LIMIT:1},bc="",wc={LIMIT_TYPE:yc,UNSELECTED_SKU_VALUE_ID:bc},kc=function(t){var e={};return t.forEach((function(t){e[t.k_s]=t.v})),e},Sc=function(t){var e={};return t.forEach((function(t){var n={};t.v.forEach((function(t){n[t.id]=t})),e[t.k_id]=n})),e},xc=function(t,e){var n=Object.keys(e).filter((function(t){return e[t]!==bc}));return t.length===n.length},Tc=function(t,e){var n=t.filter((function(t){return Object.keys(e).every((function(n){return String(t[n])===String(e[n])}))}));return n[0]},Ec=function(t,e){var n=kc(t);return Object.keys(e).reduce((function(t,i){var r=n[i],a=e[i];if(a!==bc){var o=r.filter((function(t){return t.id===a}))[0];o&&t.push(o)}return t}),[])},_c=function(t,e,n){var r,a=n.key,o=n.valueId,s=i({},e,(r={},r[a]=o,r)),l=Object.keys(s).filter((function(t){return s[t]!==bc})),c=t.filter((function(t){return l.every((function(e){return String(s[e])===String(t[e])}))})),u=c.reduce((function(t,e){return t+=e.stock_num,t}),0);return u>0},Ac=function(t,e){var n=Sc(t);return Object.keys(e).reduce((function(t,r){return e[r].forEach((function(e){t.push(i({},n[r][e]))})),t}),[])},Cc=function(t,e){var n=[];return(t||[]).forEach((function(t){if(e[t.k_id]&&e[t.k_id].length>0){var r=[];t.v.forEach((function(n){e[t.k_id].indexOf(n.id)>-1&&r.push(i({},n))})),n.push(i({},t,{v:r}))}})),n},Oc={normalizeSkuTree:kc,getSkuComb:Tc,getSelectedSkuValues:Ec,isAllSelected:xc,isSkuChoosable:_c,getSelectedPropValues:Ac,getSelectedProperties:Cc},Lc=Object(o["a"])("sku-header"),Rc=Lc[0],Dc=Lc[1];function Ic(t,e){var n;return t.tree.some((function(t){var r=e[t.k_s];if(r&&t.v){var a=t.v.filter((function(t){return t.id===r}))[0]||{},o=a.previewImgUrl||a.imgUrl||a.img_url;if(o)return n=i({},a,{ks:t.k_s,imgUrl:o}),!0}return!1})),n}function Pc(t,e,n,i){var r,o=e.sku,s=e.goods,l=e.skuEventBus,c=e.selectedSku,d=e.showHeaderImage,h=void 0===d||d,f=Ic(o,c),p=f?f.imgUrl:s.picture,m=function(){l.$emit("sku:previewImage",f)};return t("div",a()([{class:[Dc(),jt]},u(i)]),[h&&t($i,{attrs:{fit:"cover",src:p},class:Dc("img-wrap"),on:{click:m}},[null==(r=n["sku-header-image-extra"])?void 0:r.call(n)]),t("div",{class:Dc("goods-info")},[null==n.default?void 0:n.default()])])}Pc.props={sku:Object,goods:Object,skuEventBus:Object,selectedSku:Object,showHeaderImage:Boolean};var Mc=Rc(Pc),Fc=Object(o["a"])("sku-header-item"),Bc=Fc[0],Nc=Fc[1];function jc(t,e,n,i){return t("div",a()([{class:Nc()},u(i)]),[n.default&&n.default()])}var $c=Bc(jc),Uc=Object(o["a"])("sku-row"),zc=Uc[0],Vc=Uc[1],Hc=Uc[2],qc=zc({mixins:[jn("vanSkuRows"),X((function(t){this.scrollable&&this.$refs.scroller&&t(this.$refs.scroller,"scroll",this.onScroll)}))],props:{skuRow:Object},data:function(){return{progress:0}},computed:{scrollable:function(){return this.skuRow.largeImageMode&&this.skuRow.v.length>6}},methods:{onScroll:function(){var t=this.$refs,e=t.scroller,n=t.row,i=n.offsetWidth-e.offsetWidth;this.progress=e.scrollLeft/i},genTitle:function(){var t=this.$createElement;return t("div",{class:Vc("title")},[this.skuRow.k,this.skuRow.is_multiple&&t("span",{class:Vc("title-multiple")},["",Hc("multiple"),""])])},genIndicator:function(){var t=this.$createElement;if(this.scrollable){var e={transform:"translate3d("+20*this.progress+"px, 0, 0)"};return t("div",{class:Vc("indicator-wrapper")},[t("div",{class:Vc("indicator")},[t("div",{class:Vc("indicator-slider"),style:e})])])}},genContent:function(){var t=this.$createElement,e=this.slots();if(this.skuRow.largeImageMode){var n=[],i=[];return e.forEach((function(t,e){var r=Math.floor(e/3)%2===0?n:i;r.push(t)})),t("div",{class:Vc("scroller"),ref:"scroller"},[t("div",{class:Vc("row"),ref:"row"},[n]),i.length?t("div",{class:Vc("row")},[i]):null])}return e},centerItem:function(t){if(this.skuRow.largeImageMode&&t){var e=this.children,n=void 0===e?[]:e,i=this.$refs,r=i.scroller,a=i.row,o=n.find((function(e){return+e.skuValue.id===+t}));if(r&&a&&o&&o.$el){var s=o.$el,l=s.offsetLeft-(r.offsetWidth-s.offsetWidth)/2;r.scrollLeft=l}}}},render:function(){var t=arguments[0];return t("div",{class:[Vc(),jt]},[this.genTitle(),this.genContent(),this.genIndicator()])}}),Gc=Object(o["a"])("sku-row-item"),Wc=Gc[0],Kc=Wc({mixins:[Nn("vanSkuRows")],props:{lazyLoad:Boolean,skuValue:Object,skuKeyStr:String,skuEventBus:Object,selectedSku:Object,largeImageMode:Boolean,skuList:{type:Array,default:function(){return[]}}},computed:{imgUrl:function(){var t=this.skuValue.imgUrl||this.skuValue.img_url;return this.largeImageMode?t||"https://img.yzcdn.cn/upload_files/2020/06/24/FmKWDg0bN9rMcTp9ne8MXiQWGtLn.png":t},choosable:function(){return _c(this.skuList,this.selectedSku,{key:this.skuKeyStr,valueId:this.skuValue.id})}},methods:{onSelect:function(){this.choosable&&this.skuEventBus.$emit("sku:select",i({},this.skuValue,{skuKeyStr:this.skuKeyStr}))},onPreviewImg:function(t){t.stopPropagation();var e=this.skuValue,n=this.skuKeyStr;this.skuEventBus.$emit("sku:previewImage",i({},e,{ks:n,imgUrl:e.imgUrl||e.img_url}))},genImage:function(t){var e=this.$createElement;if(this.imgUrl)return e($i,{attrs:{fit:"cover",src:this.imgUrl,lazyLoad:this.lazyLoad},class:t+"-img"})}},render:function(){var t=arguments[0],e=this.skuValue.id===this.selectedSku[this.skuKeyStr],n=this.largeImageMode?Vc("image-item"):Vc("item");return t("span",{class:[n,e?n+"--active":"",this.choosable?"":n+"--disabled"],on:{click:this.onSelect}},[this.genImage(n),t("div",{class:n+"-name"},[this.largeImageMode?t("span",{class:{"van-multi-ellipsis--l2":this.largeImageMode}},[this.skuValue.name]):this.skuValue.name]),this.largeImageMode&&t("img",{class:n+"-img-icon",attrs:{src:"https://img.yzcdn.cn/upload_files/2020/07/02/Fu4_ya0l0aAt4Mv4PL9jzPzfZnDX.png"},on:{click:this.onPreviewImg}})])}}),Yc=Object(o["a"])("sku-row-prop-item"),Xc=Yc[0],Qc=Xc({props:{skuValue:Object,skuKeyStr:String,skuEventBus:Object,selectedProp:Object,multiple:Boolean},computed:{choosed:function(){var t=this.selectedProp,e=this.skuKeyStr,n=this.skuValue;return!(!t||!t[e])&&t[e].indexOf(n.id)>-1}},methods:{onSelect:function(){this.skuEventBus.$emit("sku:propSelect",i({},this.skuValue,{skuKeyStr:this.skuKeyStr,multiple:this.multiple}))}},render:function(){var t=arguments[0];return t("span",{class:["van-sku-row__item",{"van-sku-row__item--active":this.choosed}],on:{click:this.onSelect}},[t("span",{class:"van-sku-row__item-name"},[this.skuValue.name])])}}),Jc=Object(o["a"])("stepper"),Zc=Jc[0],tu=Jc[1],eu=600,nu=200;function iu(t,e){return String(t)===String(e)}function ru(t,e){var n=Math.pow(10,10);return Math.round((t+e)*n)/n}var au=Zc({mixins:[bn],props:{value:null,theme:String,integer:Boolean,disabled:Boolean,allowEmpty:Boolean,inputWidth:[Number,String],buttonSize:[Number,String],asyncChange:Boolean,placeholder:String,disablePlus:Boolean,disableMinus:Boolean,disableInput:Boolean,decimalLength:[Number,String],name:{type:[Number,String],default:""},min:{type:[Number,String],default:1},max:{type:[Number,String],default:1/0},step:{type:[Number,String],default:1},defaultValue:{type:[Number,String],default:1},showPlus:{type:Boolean,default:!0},showMinus:{type:Boolean,default:!0},longPress:{type:Boolean,default:!0}},data:function(){var t=Object(p["c"])(this.value)?this.value:this.defaultValue,e=this.format(t);return iu(e,this.value)||this.$emit("input",e),{currentValue:e}},computed:{minusDisabled:function(){return this.disabled||this.disableMinus||this.currentValue<=+this.min},plusDisabled:function(){return this.disabled||this.disablePlus||this.currentValue>=+this.max},inputStyle:function(){var t={};return this.inputWidth&&(t.width=Object(tt["a"])(this.inputWidth)),this.buttonSize&&(t.height=Object(tt["a"])(this.buttonSize)),t},buttonStyle:function(){if(this.buttonSize){var t=Object(tt["a"])(this.buttonSize);return{width:t,height:t}}}},watch:{max:"check",min:"check",integer:"check",decimalLength:"check",value:function(t){iu(t,this.currentValue)||(this.currentValue=this.format(t))},currentValue:function(t){this.$emit("input",t),this.$emit("change",t,{name:this.name})}},methods:{check:function(){var t=this.format(this.currentValue);iu(t,this.currentValue)||(this.currentValue=t)},formatNumber:function(t){return Wt(String(t),!this.integer)},format:function(t){return this.allowEmpty&&""===t||(t=this.formatNumber(t),t=""===t?0:+t,t=Object(di["a"])(t)?this.min:t,t=Math.max(Math.min(this.max,t),this.min),Object(p["c"])(this.decimalLength)&&(t=t.toFixed(this.decimalLength))),t},onInput:function(t){var e=t.target.value,n=this.formatNumber(e);if(Object(p["c"])(this.decimalLength)&&-1!==n.indexOf(".")){var i=n.split(".");n=i[0]+"."+i[1].slice(0,this.decimalLength)}iu(e,n)||(t.target.value=n),this.emitChange(n)},emitChange:function(t){this.asyncChange?(this.$emit("input",t),this.$emit("change",t,{name:this.name})):this.currentValue=t},onChange:function(){var t=this.type;if(this[t+"Disabled"])this.$emit("overlimit",t);else{var e="minus"===t?-this.step:+this.step,n=this.format(ru(+this.currentValue,e));this.emitChange(n),this.$emit(t)}},onFocus:function(t){this.disableInput&&this.$refs.input?this.$refs.input.blur():this.$emit("focus",t)},onBlur:function(t){var e=this.format(t.target.value);t.target.value=e,this.currentValue=e,this.$emit("blur",t),ye()},longPressStep:function(){var t=this;this.longPressTimer=setTimeout((function(){t.onChange(),t.longPressStep(t.type)}),nu)},onTouchStart:function(){var t=this;this.longPress&&(clearTimeout(this.longPressTimer),this.isLongPress=!1,this.longPressTimer=setTimeout((function(){t.isLongPress=!0,t.onChange(),t.longPressStep()}),eu))},onTouchEnd:function(t){this.longPress&&(clearTimeout(this.longPressTimer),this.isLongPress&&w(t))}},render:function(){var t=this,e=arguments[0],n=function(e){return{on:{click:function(){t.type=e,t.onChange()},touchstart:function(){t.type=e,t.onTouchStart()},touchend:t.onTouchEnd,touchcancel:t.onTouchEnd}}};return e("div",{class:tu([this.theme])},[e("button",a()([{directives:[{name:"show",value:this.showMinus}],attrs:{type:"button"},style:this.buttonStyle,class:tu("minus",{disabled:this.minusDisabled})},n("minus")])),e("input",{ref:"input",attrs:{type:this.integer?"tel":"text",role:"spinbutton",disabled:this.disabled,readonly:this.disableInput,inputmode:this.integer?"numeric":"decimal",placeholder:this.placeholder,"aria-valuemax":this.max,"aria-valuemin":this.min,"aria-valuenow":this.currentValue},class:tu("input"),domProps:{value:this.currentValue},style:this.inputStyle,on:{input:this.onInput,focus:this.onFocus,blur:this.onBlur}}),e("button",a()([{directives:[{name:"show",value:this.showPlus}],attrs:{type:"button"},style:this.buttonStyle,class:tu("plus",{disabled:this.plusDisabled})},n("plus")]))])}}),ou=Object(o["a"])("sku-stepper"),su=ou[0],lu=ou[2],cu=yc.QUOTA_LIMIT,uu=yc.STOCK_LIMIT,du=su({props:{stock:Number,skuEventBus:Object,skuStockNum:Number,selectedNum:Number,stepperTitle:String,disableStepperInput:Boolean,customStepperConfig:Object,hideQuotaText:Boolean,quota:{type:Number,default:0},quotaUsed:{type:Number,default:0},startSaleNum:{type:Number,default:1}},data:function(){return{currentNum:this.selectedNum,limitType:uu}},watch:{currentNum:function(t){var e=parseInt(t,10);e>=this.stepperMinLimit&&e<=this.stepperLimit&&this.skuEventBus.$emit("sku:numChange",e)},stepperLimit:function(t){t<this.currentNum&&this.stepperMinLimit<=t&&(this.currentNum=t),this.checkState(this.stepperMinLimit,t)},stepperMinLimit:function(t){(t>this.currentNum||t>this.stepperLimit)&&(this.currentNum=t),this.checkState(t,this.stepperLimit)}},computed:{stepperLimit:function(){var t,e=this.quota-this.quotaUsed;return this.quota>0&&e<=this.stock?(t=e<0?0:e,this.limitType=cu):(t=this.stock,this.limitType=uu),t},stepperMinLimit:function(){return this.startSaleNum<1?1:this.startSaleNum},quotaText:function(){var t=this.customStepperConfig,e=t.quotaText,n=t.hideQuotaText;if(n)return"";var i="";if(e)i=e;else{var r=[];this.startSaleNum>1&&r.push(lu("quotaStart",this.startSaleNum)),this.quota>0&&r.push(lu("quotaLimit",this.quota)),i=r.join(lu("comma"))}return i}},created:function(){this.checkState(this.stepperMinLimit,this.stepperLimit)},methods:{setCurrentNum:function(t){this.currentNum=t,this.checkState(this.stepperMinLimit,this.stepperLimit)},onOverLimit:function(t){this.skuEventBus.$emit("sku:overLimit",{action:t,limitType:this.limitType,quota:this.quota,quotaUsed:this.quotaUsed,startSaleNum:this.startSaleNum})},onChange:function(t){var e=parseInt(t,10),n=this.customStepperConfig.handleStepperChange;n&&n(e),this.$emit("change",e)},checkState:function(t,e){this.currentNum<t||t>e?this.currentNum=t:this.currentNum>e&&(this.currentNum=e),this.skuEventBus.$emit("sku:stepperState",{valid:t<=e,min:t,max:e,limitType:this.limitType,quota:this.quota,quotaUsed:this.quotaUsed,startSaleNum:this.startSaleNum})}},render:function(){var t=this,e=arguments[0];return e("div",{class:"van-sku-stepper-stock"},[e("div",{class:"van-sku__stepper-title"},[this.stepperTitle||lu("num")]),e(au,{attrs:{integer:!0,min:this.stepperMinLimit,max:this.stepperLimit,disableInput:this.disableStepperInput},class:"van-sku__stepper",on:{overlimit:this.onOverLimit,change:this.onChange},model:{value:t.currentNum,callback:function(e){t.currentNum=e}}}),!this.hideQuotaText&&this.quotaText&&e("span",{class:"van-sku__stepper-quota"},["(",this.quotaText,")"])])}});function hu(t){var e=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i;return e.test(t)}function fu(t){return Array.isArray(t)?t:[t]}function pu(t,e){return new Promise((function(n){if("file"!==e){var i=new FileReader;i.onload=function(t){n(t.target.result)},"dataUrl"===e?i.readAsDataURL(t):"text"===e&&i.readAsText(t)}else n()}))}function mu(t,e){return fu(t).some((function(t){return t.size>e}))}var vu=/\.(jpeg|jpg|gif|png|svg|webp|jfif|bmp|dpg)/i;function gu(t){return vu.test(t)}function yu(t){return!!t.isImage||(t.file&&t.file.type?0===t.file.type.indexOf("image"):t.url?gu(t.url):!!t.content&&0===t.content.indexOf("data:image"))}var bu=Object(o["a"])("uploader"),wu=bu[0],ku=bu[1],Su=wu({inheritAttrs:!1,mixins:[bn],model:{prop:"fileList"},props:{disabled:Boolean,lazyLoad:Boolean,uploadText:String,afterRead:Function,beforeRead:Function,beforeDelete:Function,previewSize:[Number,String],previewOptions:Object,name:{type:[Number,String],default:""},accept:{type:String,default:"image/*"},fileList:{type:Array,default:function(){return[]}},maxSize:{type:[Number,String],default:Number.MAX_VALUE},maxCount:{type:[Number,String],default:Number.MAX_VALUE},deletable:{type:Boolean,default:!0},showUpload:{type:Boolean,default:!0},previewImage:{type:Boolean,default:!0},previewFullImage:{type:Boolean,default:!0},imageFit:{type:String,default:"cover"},resultType:{type:String,default:"dataUrl"},uploadIcon:{type:String,default:"photograph"}},computed:{previewSizeWithUnit:function(){return Object(tt["a"])(this.previewSize)},value:function(){return this.fileList}},methods:{getDetail:function(t){return void 0===t&&(t=this.fileList.length),{name:this.name,index:t}},onChange:function(t){var e=this,n=t.target.files;if(!this.disabled&&n.length){if(n=1===n.length?n[0]:[].slice.call(n),this.beforeRead){var i=this.beforeRead(n,this.getDetail());if(!i)return void this.resetInput();if(Object(p["f"])(i))return void i.then((function(t){t?e.readFile(t):e.readFile(n)})).catch(this.resetInput)}this.readFile(n)}},readFile:function(t){var e=this,n=mu(t,this.maxSize);if(Array.isArray(t)){var i=this.maxCount-this.fileList.length;t.length>i&&(t=t.slice(0,i)),Promise.all(t.map((function(t){return pu(t,e.resultType)}))).then((function(i){var r=t.map((function(t,e){var n={file:t,status:"",message:""};return i[e]&&(n.content=i[e]),n}));e.onAfterRead(r,n)}))}else pu(t,this.resultType).then((function(i){var r={file:t,status:"",message:""};i&&(r.content=i),e.onAfterRead(r,n)}))},onAfterRead:function(t,e){var n=this;this.resetInput();var i=t;if(e){var r=t;Array.isArray(t)?(r=[],i=[],t.forEach((function(t){t.file&&(t.file.size>n.maxSize?r.push(t):i.push(t))}))):i=null,this.$emit("oversize",r,this.getDetail())}var a=Array.isArray(i)?Boolean(i.length):Boolean(i);a&&(this.$emit("input",[].concat(this.fileList,fu(i))),this.afterRead&&this.afterRead(i,this.getDetail()))},onDelete:function(t,e){var n=this;if(this.beforeDelete){var i=this.beforeDelete(t,this.getDetail(e));if(!i)return;if(Object(p["f"])(i))return void i.then((function(){n.deleteFile(t,e)})).catch(p["h"])}this.deleteFile(t,e)},deleteFile:function(t,e){var n=this.fileList.slice(0);n.splice(e,1),this.$emit("input",n),this.$emit("delete",t,this.getDetail(e))},resetInput:function(){this.$refs.input&&(this.$refs.input.value="")},onPreviewImage:function(t){var e=this;if(this.previewFullImage){var n=this.fileList.filter((function(t){return yu(t)})),r=n.map((function(t){return t.content||t.url}));this.imagePreview=gs(i({images:r,startPosition:n.indexOf(t),closeOnPopstate:!0,onClose:function(){e.$emit("close-preview")}},this.previewOptions))}},closeImagePreview:function(){this.imagePreview&&this.imagePreview.close()},chooseFile:function(){this.disabled||this.$refs.input&&this.$refs.input.click()},genPreviewMask:function(t){var e=this.$createElement,n=t.status,i=t.message;if("uploading"===n||"failed"===n){var r="failed"===n?e(ft,{attrs:{name:"close"},class:ku("mask-icon")}):e(Tt,{class:ku("loading")}),a=Object(p["c"])(i)&&""!==i;return e("div",{class:ku("mask")},[r,a&&e("div",{class:ku("mask-message")},[i])])}},genPreviewItem:function(t,e){var n=this,i=this.$createElement,r="uploading"!==t.status&&this.deletable,a=r&&i("div",{class:ku("preview-delete"),on:{click:function(i){i.stopPropagation(),n.onDelete(t,e)}}},[i(ft,{attrs:{name:"cross"},class:ku("preview-delete-icon")})]),o=this.slots("preview-cover",t),s=o&&i("div",{class:ku("preview-cover")},[o]),l=yu(t)?i($i,{attrs:{fit:this.imageFit,src:t.content||t.url,width:this.previewSize,height:this.previewSize,lazyLoad:this.lazyLoad},class:ku("preview-image"),on:{click:function(){n.onPreviewImage(t)}}},[s]):i("div",{class:ku("file"),style:{width:this.previewSizeWithUnit,height:this.previewSizeWithUnit}},[i(ft,{class:ku("file-icon"),attrs:{name:"description"}}),i("div",{class:[ku("file-name"),"van-ellipsis"]},[t.file?t.file.name:t.url]),s]);return i("div",{class:ku("preview"),on:{click:function(){n.$emit("click-preview",t,n.getDetail(e))}}},[l,this.genPreviewMask(t),a])},genPreviewList:function(){if(this.previewImage)return this.fileList.map(this.genPreviewItem)},genUpload:function(){var t=this.$createElement;if(!(this.fileList.length>=this.maxCount)&&this.showUpload){var e,n=this.slots(),r=t("input",{attrs:i({},this.$attrs,{type:"file",accept:this.accept,disabled:this.disabled}),ref:"input",class:ku("input"),on:{change:this.onChange}});if(n)return t("div",{class:ku("input-wrapper")},[n,r]);if(this.previewSize){var a=this.previewSizeWithUnit;e={width:a,height:a}}return t("div",{class:ku("upload"),style:e},[t(ft,{attrs:{name:this.uploadIcon},class:ku("upload-icon")}),this.uploadText&&t("span",{class:ku("upload-text")},[this.uploadText]),r])}}},render:function(){var t=arguments[0];return t("div",{class:ku()},[t("div",{class:ku("wrapper",{disabled:this.disabled})},[this.genPreviewList(),this.genUpload()])])}}),xu=Object(o["a"])("sku-img-uploader"),Tu=xu[0],Eu=xu[2],_u=Tu({props:{value:String,uploadImg:Function,maxSize:{type:Number,default:6}},data:function(){return{fileList:[]}},watch:{value:function(t){this.fileList=t?[{url:t,isImage:!0}]:[]}},methods:{afterReadFile:function(t){var e=this;t.status="uploading",t.message=Eu("uploading"),this.uploadImg(t.file,t.content).then((function(n){t.status="done",e.$emit("input",n)})).catch((function(){t.status="failed",t.message=Eu("fail")}))},onOversize:function(){this.$toast(Eu("oversize",this.maxSize))},onDelete:function(){this.$emit("input","")}},render:function(){var t=this,e=arguments[0];return e(Su,{attrs:{maxCount:1,afterRead:this.afterReadFile,maxSize:1024*this.maxSize*1024},on:{oversize:this.onOversize,delete:this.onDelete},model:{value:t.fileList,callback:function(e){t.fileList=e}}})}});function Au(t){return t?new Date(t.replace(/-/g,"/")):null}function Cu(t,e){if(void 0===e&&(e="date"),!t)return"";var n=t.getFullYear(),i=t.getMonth()+1,r=t.getDate(),a=n+"-"+Object(qr["b"])(i)+"-"+Object(qr["b"])(r);if("datetime"===e){var o=t.getHours(),s=t.getMinutes();a+=" "+Object(qr["b"])(o)+":"+Object(qr["b"])(s)}return a}var Ou=Object(o["a"])("sku-datetime-field"),Lu=Ou[0],Ru=Ou[2],Du=Lu({props:{value:String,label:String,required:Boolean,placeholder:String,type:{type:String,default:"date"}},data:function(){return{showDatePicker:!1,currentDate:"time"===this.type?"":new Date}},watch:{value:function(t){switch(this.type){case"time":this.currentDate=t;break;case"date":case"datetime":this.currentDate=Au(t)||new Date;break}}},computed:{title:function(){return Ru("title."+this.type)}},methods:{onClick:function(){this.showDatePicker=!0},onConfirm:function(t){var e=t;"time"!==this.type&&(e=Cu(t,this.type)),this.$emit("input",e),this.showDatePicker=!1},onCancel:function(){this.showDatePicker=!1},formatter:function(t,e){var n=Ru("format."+t);return""+e+n}},render:function(){var t=this,e=arguments[0];return e(De,{attrs:{readonly:!0,"is-link":!0,center:!0,value:this.value,label:this.label,required:this.required,placeholder:this.placeholder},on:{click:this.onClick}},[e(gt,{attrs:{round:!0,position:"bottom",getContainer:"body"},slot:"extra",model:{value:t.showDatePicker,callback:function(e){t.showDatePicker=e}}},[e(so,{attrs:{type:this.type,title:this.title,value:this.currentDate,formatter:this.formatter},on:{cancel:this.onCancel,confirm:this.onConfirm}})])])}}),Iu=Object(o["a"])("sku-messages"),Pu=Iu[0],Mu=Iu[1],Fu=Iu[2],Bu=Pu({props:{messageConfig:Object,goodsId:[Number,String],messages:{type:Array,default:function(){return[]}}},data:function(){return{messageValues:this.resetMessageValues(this.messages)}},watch:{messages:function(t){this.messageValues=this.resetMessageValues(t)}},methods:{resetMessageValues:function(t){var e=this.messageConfig,n=e.initialMessages,i=void 0===n?{}:n;return(t||[]).map((function(t){return{value:i[t.name]||""}}))},getType:function(t){return 1===+t.multiple?"textarea":"id_no"===t.type?"text":t.datetime>0?"datetime":t.type},getMessages:function(){var t={};return this.messageValues.forEach((function(e,n){t["message_"+n]=e.value})),t},getCartMessages:function(){var t=this,e={};return this.messageValues.forEach((function(n,i){var r=t.messages[i];e[r.name]=n.value})),e},getPlaceholder:function(t){var e=1===+t.multiple?"textarea":t.type,n=this.messageConfig.placeholderMap||{};return t.placeholder||n[e]||Fu("placeholder."+e)},validateMessages:function(){for(var t=this.messageValues,e=0;e<t.length;e++){var n=t[e].value,i=this.messages[e];if(""===n){if("1"===String(i.required)){var r=Fu("image"===i.type?"upload":"fill");return r+i.name}}else{if("tel"===i.type&&!Object(di["b"])(n))return Fu("invalid.tel");if("mobile"===i.type&&!/^\d{6,20}$/.test(n))return Fu("invalid.mobile");if("email"===i.type&&!hu(n))return Fu("invalid.email");if("id_no"===i.type&&(n.length<15||n.length>18))return Fu("invalid.id_no")}}},getFormatter:function(t){return function(e){return"mobile"===t.type||"tel"===t.type?e.replace(/[^\d.]/g,""):e}},genMessage:function(t,e){var n=this,i=this.$createElement;if("image"===t.type)return i(Ce,{key:this.goodsId+"-"+e,attrs:{title:t.name,required:"1"===String(t.required),valueClass:Mu("image-cell-value")},class:Mu("image-cell")},[i(_u,{attrs:{maxSize:this.messageConfig.uploadMaxSize,uploadImg:this.messageConfig.uploadImg},model:{value:n.messageValues[e].value,callback:function(t){n.$set(n.messageValues[e],"value",t)}}}),i("div",{class:Mu("image-cell-label")},[Fu("imageLabel")])]);var r=["date","time"].indexOf(t.type)>-1;return r?i(Du,{attrs:{label:t.name,required:"1"===String(t.required),placeholder:this.getPlaceholder(t),type:this.getType(t)},key:this.goodsId+"-"+e,model:{value:n.messageValues[e].value,callback:function(t){n.$set(n.messageValues[e],"value",t)}}}):i(De,{attrs:{maxlength:"200",center:!t.multiple,label:t.name,required:"1"===String(t.required),placeholder:this.getPlaceholder(t),type:this.getType(t),formatter:this.getFormatter(t)},key:this.goodsId+"-"+e,model:{value:n.messageValues[e].value,callback:function(t){n.$set(n.messageValues[e],"value",t)}}})}},render:function(){var t=arguments[0];return t("div",{class:Mu()},[this.messages.map(this.genMessage)])}}),Nu=Object(o["a"])("sku-actions"),ju=Nu[0],$u=Nu[1],Uu=Nu[2];function zu(t,e,n,i){var r=function(t){return function(){e.skuEventBus.$emit(t)}};return t("div",a()([{class:$u()},u(i)]),[e.showAddCartBtn&&t(en,{attrs:{size:"large",type:"warning",text:e.addCartText||Uu("addCart")},on:{click:r("sku:addCart")}}),t(en,{attrs:{size:"large",type:"danger",text:e.buyText||Uu("buy")},on:{click:r("sku:buy")}})])}zu.props={buyText:String,addCartText:String,skuEventBus:Object,showAddCartBtn:Boolean};var Vu=ju(zu),Hu=Object(o["a"])("sku"),qu=Hu[0],Gu=Hu[1],Wu=Hu[2],Ku=yc.QUOTA_LIMIT,Yu=qu({props:{sku:Object,goods:Object,value:Boolean,buyText:String,goodsId:[Number,String],priceTag:String,lazyLoad:Boolean,hideStock:Boolean,properties:Array,addCartText:String,stepperTitle:String,getContainer:[String,Function],hideQuotaText:Boolean,hideSelectedText:Boolean,resetStepperOnHide:Boolean,customSkuValidator:Function,disableStepperInput:Boolean,resetSelectedSkuOnHide:Boolean,quota:{type:Number,default:0},quotaUsed:{type:Number,default:0},startSaleNum:{type:Number,default:1},initialSku:{type:Object,default:function(){return{}}},stockThreshold:{type:Number,default:50},showSoldoutSku:{type:Boolean,default:!0},showAddCartBtn:{type:Boolean,default:!0},customStepperConfig:{type:Object,default:function(){return{}}},showHeaderImage:{type:Boolean,default:!0},previewOnClickImage:{type:Boolean,default:!0},safeAreaInsetBottom:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0},bodyOffsetTop:{type:Number,default:200},messageConfig:{type:Object,default:function(){return{initialMessages:{},placeholderMap:{},uploadImg:function(){return Promise.resolve()},uploadMaxSize:5}}}},data:function(){return{selectedSku:{},selectedProp:{},selectedNum:1,show:this.value}},watch:{show:function(t){this.$emit("input",t),t||(this.$emit("sku-close",{selectedSkuValues:this.selectedSkuValues,selectedNum:this.selectedNum,selectedSkuComb:this.selectedSkuComb}),this.resetStepperOnHide&&this.resetStepper(),this.resetSelectedSkuOnHide&&this.resetSelectedSku())},value:function(t){this.show=t},skuTree:"resetSelectedSku",initialSku:function(){this.resetStepper(),this.resetSelectedSku()}},computed:{skuGroupClass:function(){return["van-sku-group-container",{"van-sku-group-container--hide-soldout":!this.showSoldoutSku}]},bodyStyle:function(){if(!this.$isServer){var t=window.innerHeight-this.bodyOffsetTop;return{maxHeight:t+"px"}}},isSkuCombSelected:function(){var t=this;return!(this.hasSku&&!xc(this.skuTree,this.selectedSku))&&!this.propList.some((function(e){return(t.selectedProp[e.k_id]||[]).length<1}))},isSkuEmpty:function(){return 0===Object.keys(this.sku).length},hasSku:function(){return!this.sku.none_sku},hasSkuOrAttr:function(){return this.hasSku||this.propList.length>0},selectedSkuComb:function(){var t=null;return this.isSkuCombSelected&&(t=this.hasSku?Tc(this.sku.list,this.selectedSku):{id:this.sku.collection_id,price:Math.round(100*this.sku.price),stock_num:this.sku.stock_num},t&&(t.properties=Cc(this.propList,this.selectedProp),t.property_price=this.selectedPropValues.reduce((function(t,e){return t+(e.price||0)}),0))),t},selectedSkuValues:function(){return Ec(this.skuTree,this.selectedSku)},selectedPropValues:function(){return Ac(this.propList,this.selectedProp)},price:function(){return this.selectedSkuComb?((this.selectedSkuComb.price+this.selectedSkuComb.property_price)/100).toFixed(2):this.sku.price},originPrice:function(){return this.selectedSkuComb&&this.selectedSkuComb.origin_price?((this.selectedSkuComb.origin_price+this.selectedSkuComb.property_price)/100).toFixed(2):this.sku.origin_price},skuTree:function(){return this.sku.tree||[]},propList:function(){return this.properties||[]},imageList:function(){var t=[this.goods.picture];return this.skuTree.length>0&&this.skuTree.forEach((function(e){e.v&&e.v.forEach((function(e){var n=e.previewImgUrl||e.imgUrl||e.img_url;n&&-1===t.indexOf(n)&&t.push(n)}))})),t},stock:function(){var t=this.customStepperConfig.stockNum;return void 0!==t?t:this.selectedSkuComb?this.selectedSkuComb.stock_num:this.sku.stock_num},stockText:function(){var t=this.$createElement,e=this.customStepperConfig.stockFormatter;return e?e(this.stock):[Wu("stock")+" ",t("span",{class:Gu("stock-num",{highlight:this.stock<this.stockThreshold})},[this.stock])," "+Wu("stockUnit")]},selectedText:function(){var t=this;if(this.selectedSkuComb){var e=this.selectedSkuValues.concat(this.selectedPropValues);return Wu("selected")+" "+e.map((function(t){return t.name})).join(" ")}var n=this.skuTree.filter((function(e){return t.selectedSku[e.k_s]===bc})).map((function(t){return t.k})),i=this.propList.filter((function(e){return(t.selectedProp[e.k_id]||[]).length<1})).map((function(t){return t.k}));return Wu("select")+" "+n.concat(i).join(" ")}},created:function(){var t=new s["a"];this.skuEventBus=t,t.$on("sku:select",this.onSelect),t.$on("sku:propSelect",this.onPropSelect),t.$on("sku:numChange",this.onNumChange),t.$on("sku:previewImage",this.onPreviewImage),t.$on("sku:overLimit",this.onOverLimit),t.$on("sku:stepperState",this.onStepperState),t.$on("sku:addCart",this.onAddCart),t.$on("sku:buy",this.onBuy),this.resetStepper(),this.resetSelectedSku(),this.$emit("after-sku-create",t)},methods:{resetStepper:function(){var t=this.$refs.skuStepper,e=this.initialSku.selectedNum,n=Object(p["c"])(e)?e:this.startSaleNum;this.stepperError=null,t?t.setCurrentNum(n):this.selectedNum=n},resetSelectedSku:function(){var t=this;this.selectedSku={},this.skuTree.forEach((function(e){t.selectedSku[e.k_s]=bc})),this.skuTree.forEach((function(e){var n=e.k_s,i=1===e.v.length?e.v[0].id:t.initialSku[n];i&&_c(t.sku.list,t.selectedSku,{key:n,valueId:i})&&(t.selectedSku[n]=i)}));var e=this.selectedSkuValues;e.length>0&&this.$nextTick((function(){t.$emit("sku-selected",{skuValue:e[e.length-1],selectedSku:t.selectedSku,selectedSkuComb:t.selectedSkuComb})})),this.selectedProp={};var n=this.initialSku.selectedProp,i=void 0===n?{}:n;this.propList.forEach((function(e){e.v&&1===e.v.length?t.selectedProp[e.k_id]=[e.v[0].id]:i[e.k_id]&&(t.selectedProp[e.k_id]=i[e.k_id])}));var r=this.selectedPropValues;r.length>0&&this.$emit("sku-prop-selected",{propValue:r[r.length-1],selectedProp:this.selectedProp,selectedSkuComb:this.selectedSkuComb}),this.$emit("sku-reset",{selectedSku:this.selectedSku,selectedProp:this.selectedProp,selectedSkuComb:this.selectedSkuComb}),this.centerInitialSku()},getSkuMessages:function(){return this.$refs.skuMessages?this.$refs.skuMessages.getMessages():{}},getSkuCartMessages:function(){return this.$refs.skuMessages?this.$refs.skuMessages.getCartMessages():{}},validateSkuMessages:function(){return this.$refs.skuMessages?this.$refs.skuMessages.validateMessages():""},validateSku:function(){if(0===this.selectedNum)return Wu("unavailable");if(this.isSkuCombSelected)return this.validateSkuMessages();if(this.customSkuValidator){var t=this.customSkuValidator(this);if(t)return t}return Wu("selectSku")},onSelect:function(t){var e,n;this.selectedSku=this.selectedSku[t.skuKeyStr]===t.id?i({},this.selectedSku,(e={},e[t.skuKeyStr]=bc,e)):i({},this.selectedSku,(n={},n[t.skuKeyStr]=t.id,n)),this.$emit("sku-selected",{skuValue:t,selectedSku:this.selectedSku,selectedSkuComb:this.selectedSkuComb})},onPropSelect:function(t){var e,n=this.selectedProp[t.skuKeyStr]||[],r=n.indexOf(t.id);r>-1?n.splice(r,1):t.multiple?n.push(t.id):n.splice(0,1,t.id),this.selectedProp=i({},this.selectedProp,(e={},e[t.skuKeyStr]=n,e)),this.$emit("sku-prop-selected",{propValue:t,selectedProp:this.selectedProp,selectedSkuComb:this.selectedSkuComb})},onNumChange:function(t){this.selectedNum=t},onPreviewImage:function(t){var e=this,n=this.imageList,r=0,a=n[0];t&&t.imgUrl&&(this.imageList.some((function(e,n){return e===t.imgUrl&&(r=n,!0)})),a=t.imgUrl);var o=i({},t,{index:r,imageList:this.imageList,indexImage:a});this.$emit("open-preview",o),this.previewOnClickImage&&gs({images:this.imageList,startPosition:r,closeOnPopstate:!0,onClose:function(){e.$emit("close-preview",o)}})},onOverLimit:function(t){var e=t.action,n=t.limitType,i=t.quota,r=t.quotaUsed,a=this.customStepperConfig.handleOverLimit;a?a(t):"minus"===e?this.startSaleNum>1?Ye(Wu("minusStartTip",this.startSaleNum)):Ye(Wu("minusTip")):"plus"===e&&Ye(n===Ku?r>0?Wu("quotaUsedTip",i,r):Wu("quotaTip",i):Wu("soldout"))},onStepperState:function(t){this.stepperError=t.valid?null:i({},t,{action:"plus"})},onAddCart:function(){this.onBuyOrAddCart("add-cart")},onBuy:function(){this.onBuyOrAddCart("buy-clicked")},onBuyOrAddCart:function(t){if(this.stepperError)return this.onOverLimit(this.stepperError);var e=this.validateSku();e?Ye(e):this.$emit(t,this.getSkuData())},getSkuData:function(){return{goodsId:this.goodsId,messages:this.getSkuMessages(),selectedNum:this.selectedNum,cartMessages:this.getSkuCartMessages(),selectedSkuComb:this.selectedSkuComb}},onOpened:function(){this.centerInitialSku()},centerInitialSku:function(){var t=this;(this.$refs.skuRows||[]).forEach((function(e){var n=e.skuRow||{},i=n.k_s;e.centerItem(t.initialSku[i])}))}},render:function(){var t=this,e=arguments[0];if(!this.isSkuEmpty){var n=this.sku,i=this.goods,r=this.price,a=this.lazyLoad,o=this.originPrice,s=this.skuEventBus,l=this.selectedSku,c=this.selectedProp,u=this.selectedNum,d=this.stepperTitle,h=this.selectedSkuComb,f=this.showHeaderImage,p={price:r,originPrice:o,selectedNum:u,skuEventBus:s,selectedSku:l,selectedSkuComb:h},m=function(e){return t.slots(e,p)},v=m("sku-header")||e(Mc,{attrs:{sku:n,goods:i,skuEventBus:s,selectedSku:l,showHeaderImage:f}},[e("template",{slot:"sku-header-image-extra"},[m("sku-header-image-extra")]),m("sku-header-price")||e("div",{class:"van-sku__goods-price"},[e("span",{class:"van-sku__price-symbol"},[""]),e("span",{class:"van-sku__price-num"},[r]),this.priceTag&&e("span",{class:"van-sku__price-tag"},[this.priceTag])]),m("sku-header-origin-price")||o&&e($c,[Wu("originPrice")," ",o]),!this.hideStock&&e($c,[e("span",{class:"van-sku__stock"},[this.stockText])]),this.hasSkuOrAttr&&!this.hideSelectedText&&e($c,[this.selectedText]),m("sku-header-extra")]),g=m("sku-group")||this.hasSkuOrAttr&&e("div",{class:this.skuGroupClass},[this.skuTree.map((function(t){return e(qc,{attrs:{skuRow:t},ref:"skuRows",refInFor:!0},[t.v.map((function(i){return e(Kc,{attrs:{skuList:n.list,lazyLoad:a,skuValue:i,skuKeyStr:t.k_s,selectedSku:l,skuEventBus:s,largeImageMode:t.largeImageMode}})}))])})),this.propList.map((function(t){return e(qc,{attrs:{skuRow:t}},[t.v.map((function(n){return e(Qc,{attrs:{skuValue:n,skuKeyStr:t.k_id+"",selectedProp:c,skuEventBus:s,multiple:t.is_multiple}})}))])}))]),y=m("sku-stepper")||e(du,{ref:"skuStepper",attrs:{stock:this.stock,quota:this.quota,quotaUsed:this.quotaUsed,startSaleNum:this.startSaleNum,skuEventBus:s,selectedNum:u,stepperTitle:d,skuStockNum:n.stock_num,disableStepperInput:this.disableStepperInput,customStepperConfig:this.customStepperConfig,hideQuotaText:this.hideQuotaText},on:{change:function(e){t.$emit("stepper-change",e)}}}),b=m("sku-messages")||e(Bu,{ref:"skuMessages",attrs:{goodsId:this.goodsId,messageConfig:this.messageConfig,messages:n.messages}}),w=m("sku-actions")||e(Vu,{attrs:{buyText:this.buyText,skuEventBus:s,addCartText:this.addCartText,showAddCartBtn:this.showAddCartBtn}});return e(gt,{attrs:{round:!0,closeable:!0,position:"bottom",getContainer:this.getContainer,closeOnClickOverlay:this.closeOnClickOverlay,safeAreaInsetBottom:this.safeAreaInsetBottom},class:"van-sku-container",on:{opened:this.onOpened},model:{value:t.show,callback:function(e){t.show=e}}},[v,e("div",{class:"van-sku-body",style:this.bodyStyle},[m("sku-body-top"),g,m("extra-sku-group"),y,b]),m("sku-actions-top"),w])}}});Ds["a"].add(gc),Yu.SkuActions=Vu,Yu.SkuHeader=Mc,Yu.SkuHeaderItem=$c,Yu.SkuMessages=Bu,Yu.SkuStepper=du,Yu.SkuRow=qc,Yu.SkuRowItem=Kc,Yu.SkuRowPropItem=Qc,Yu.skuHelper=Oc,Yu.skuConstants=wc;var Xu=Yu,Qu=Object(o["a"])("slider"),Ju=Qu[0],Zu=Qu[1],td=Ju({mixins:[G,bn],props:{disabled:Boolean,vertical:Boolean,barHeight:[Number,String],buttonSize:[Number,String],activeColor:String,inactiveColor:String,min:{type:[Number,String],default:0},max:{type:[Number,String],default:100},step:{type:[Number,String],default:1},value:{type:Number,default:0}},data:function(){return{dragStatus:""}},computed:{range:function(){return this.max-this.min},buttonStyle:function(){if(this.buttonSize){var t=Object(tt["a"])(this.buttonSize);return{width:t,height:t}}}},created:function(){this.updateValue(this.value)},mounted:function(){this.bindTouchEvent(this.$refs.wrapper)},methods:{onTouchStart:function(t){this.disabled||(this.touchStart(t),this.startValue=this.format(this.value),this.dragStatus="start")},onTouchMove:function(t){if(!this.disabled){"start"===this.dragStatus&&this.$emit("drag-start"),w(t,!0),this.touchMove(t),this.dragStatus="draging";var e=this.$el.getBoundingClientRect(),n=this.vertical?this.deltaY:this.deltaX,i=this.vertical?e.height:e.width,r=n/i*this.range;this.newValue=this.startValue+r,this.updateValue(this.newValue)}},onTouchEnd:function(){this.disabled||("draging"===this.dragStatus&&(this.updateValue(this.newValue,!0),this.$emit("drag-end")),this.dragStatus="")},onClick:function(t){if(t.stopPropagation(),!this.disabled){var e=this.$el.getBoundingClientRect(),n=this.vertical?t.clientY-e.top:t.clientX-e.left,i=this.vertical?e.height:e.width,r=+this.min+n/i*this.range;this.startValue=this.value,this.updateValue(r,!0)}},updateValue:function(t,e){t=this.format(t),t!==this.value&&this.$emit("input",t),e&&t!==this.startValue&&this.$emit("change",t)},format:function(t){return Math.round(Math.max(this.min,Math.min(t,this.max))/this.step)*this.step}},render:function(){var t,e,n=arguments[0],i=this.vertical,r=i?"height":"width",a=i?"width":"height",o=(t={background:this.inactiveColor},t[a]=Object(tt["a"])(this.barHeight),t),s=(e={},e[r]=100*(this.value-this.min)/this.range+"%",e.background=this.activeColor,e);return this.dragStatus&&(s.transition="none"),n("div",{style:o,class:Zu({disabled:this.disabled,vertical:i}),on:{click:this.onClick}},[n("div",{class:Zu("bar"),style:s},[n("div",{ref:"wrapper",attrs:{role:"slider",tabindex:this.disabled?-1:0,"aria-valuemin":this.min,"aria-valuenow":this.value,"aria-valuemax":this.max,"aria-orientation":this.vertical?"vertical":"horizontal"},class:Zu("button-wrapper")},[this.slots("button")||n("div",{class:Zu("button"),style:this.buttonStyle})])])])}}),ed=Object(o["a"])("step"),nd=ed[0],id=ed[1],rd=nd({mixins:[Nn("vanSteps")],computed:{status:function(){return this.index<this.parent.active?"finish":this.index===+this.parent.active?"process":void 0},active:function(){return"process"===this.status},lineStyle:function(){return"finish"===this.status?{background:this.parent.activeColor}:{background:this.parent.inactiveColor}},titleStyle:function(){return this.active?{color:this.parent.activeColor}:this.status?void 0:{color:this.parent.inactiveColor}}},methods:{genCircle:function(){var t=this.$createElement,e=this.parent,n=e.activeIcon,i=e.activeColor,r=e.inactiveIcon;if(this.active)return this.slots("active-icon")||t(ft,{class:id("icon","active"),attrs:{name:n,color:i}});var a=this.slots("inactive-icon");return r||a?a||t(ft,{class:id("icon"),attrs:{name:r}}):t("i",{class:id("circle"),style:this.lineStyle})},onClickStep:function(){this.parent.$emit("click-step",this.index)}},render:function(){var t,e=arguments[0],n=this.status,i=this.active,r=this.parent.direction;return e("div",{class:[Ft,id([r,(t={},t[n]=n,t)])]},[e("div",{class:id("title",{active:i}),style:this.titleStyle,on:{click:this.onClickStep}},[this.slots()]),e("div",{class:id("circle-container"),on:{click:this.onClickStep}},[this.genCircle()]),e("div",{class:id("line"),style:this.lineStyle})])}}),ad=Object(o["a"])("steps"),od=ad[0],sd=ad[1],ld=od({mixins:[jn("vanSteps")],props:{activeColor:String,inactiveIcon:String,inactiveColor:String,active:{type:[Number,String],default:0},direction:{type:String,default:"horizontal"},activeIcon:{type:String,default:"checked"}},render:function(){var t=arguments[0];return t("div",{class:sd([this.direction])},[t("div",{class:sd("items")},[this.slots()])])}}),cd=Object(o["a"])("submit-bar"),ud=cd[0],dd=cd[1],hd=cd[2];function fd(t,e,n,i){var r=e.tip,o=e.price,s=e.tipIcon;function l(){if("number"===typeof o){var n=(o/100).toFixed(e.decimalLength).split("."),i=e.decimalLength?"."+n[1]:"";return t("div",{style:{textAlign:e.textAlign?e.textAlign:""},class:dd("text")},[t("span",[e.label||hd("label")]),t("span",{class:dd("price")},[e.currency,t("span",{class:dd("price","integer")},[n[0]]),i]),e.suffixLabel&&t("span",{class:dd("suffix-label")},[e.suffixLabel])])}}function c(){if(n.tip||r)return t("div",{class:dd("tip")},[s&&t(ft,{class:dd("tip-icon"),attrs:{name:s}}),r&&t("span",{class:dd("tip-text")},[r]),n.tip&&n.tip()])}return t("div",a()([{class:dd({unfit:!e.safeAreaInsetBottom})},u(i)]),[n.top&&n.top(),c(),t("div",{class:dd("bar")},[n.default&&n.default(),l(),t(en,{attrs:{round:!0,type:e.buttonType,color:e.buttonColor,loading:e.loading,disabled:e.disabled,text:e.loading?"":e.buttonText},class:dd("button",e.buttonType),on:{click:function(){d(i,"submit")}}})])])}fd.props={tip:String,label:String,price:Number,tipIcon:String,loading:Boolean,disabled:Boolean,textAlign:String,buttonText:String,buttonColor:String,suffixLabel:String,safeAreaInsetBottom:{type:Boolean,default:!0},decimalLength:{type:[Number,String],default:2},currency:{type:String,default:""},buttonType:{type:String,default:"danger"}};var pd=ud(fd),md=Object(o["a"])("swipe-cell"),vd=md[0],gd=md[1],yd=.15,bd=vd({mixins:[G,yo({event:"touchstart",method:"onClick"})],props:{onClose:Function,disabled:Boolean,leftWidth:[Number,String],rightWidth:[Number,String],beforeClose:Function,stopPropagation:Boolean,name:{type:[Number,String],default:""}},data:function(){return{offset:0,dragging:!1}},computed:{computedLeftWidth:function(){return+this.leftWidth||this.getWidthByRef("left")},computedRightWidth:function(){return+this.rightWidth||this.getWidthByRef("right")}},mounted:function(){this.bindTouchEvent(this.$el)},methods:{getWidthByRef:function(t){if(this.$refs[t]){var e=this.$refs[t].getBoundingClientRect();return e.width}return 0},open:function(t){var e="left"===t?this.computedLeftWidth:-this.computedRightWidth;this.opened=!0,this.offset=e,this.$emit("open",{position:t,name:this.name,detail:this.name})},close:function(t){this.offset=0,this.opened&&(this.opened=!1,this.$emit("close",{position:t,name:this.name}))},onTouchStart:function(t){this.disabled||(this.startOffset=this.offset,this.touchStart(t))},onTouchMove:function(t){if(!this.disabled&&(this.touchMove(t),"horizontal"===this.direction)){this.dragging=!0,this.lockClick=!0;var e=!this.opened||this.deltaX*this.startOffset<0;e&&w(t,this.stopPropagation),this.offset=qt(this.deltaX+this.startOffset,-this.computedRightWidth,this.computedLeftWidth)}},onTouchEnd:function(){var t=this;this.disabled||this.dragging&&(this.toggle(this.offset>0?"left":"right"),this.dragging=!1,setTimeout((function(){t.lockClick=!1}),0))},toggle:function(t){var e=Math.abs(this.offset),n=this.opened?1-yd:yd,i=this.computedLeftWidth,r=this.computedRightWidth;r&&"right"===t&&e>r*n?this.open("right"):i&&"left"===t&&e>i*n?this.open("left"):this.close()},onClick:function(t){void 0===t&&(t="outside"),this.$emit("click",t),this.opened&&!this.lockClick&&(this.beforeClose?this.beforeClose({position:t,name:this.name,instance:this}):this.onClose?this.onClose(t,this,{name:this.name}):this.close(t))},getClickHandler:function(t,e){var n=this;return function(i){e&&i.stopPropagation(),n.onClick(t)}},genLeftPart:function(){var t=this.$createElement,e=this.slots("left");if(e)return t("div",{ref:"left",class:gd("left"),on:{click:this.getClickHandler("left",!0)}},[e])},genRightPart:function(){var t=this.$createElement,e=this.slots("right");if(e)return t("div",{ref:"right",class:gd("right"),on:{click:this.getClickHandler("right",!0)}},[e])}},render:function(){var t=arguments[0],e={transform:"translate3d("+this.offset+"px, 0, 0)",transitionDuration:this.dragging?"0s":".6s"};return t("div",{class:gd(),on:{click:this.getClickHandler("cell")}},[t("div",{class:gd("wrapper"),style:e},[this.genLeftPart(),this.slots(),this.genRightPart()])])}}),wd=Object(o["a"])("tabbar"),kd=wd[0],Sd=wd[1],xd=kd({mixins:[jn("vanTabbar")],props:{route:Boolean,zIndex:[Number,String],placeholder:Boolean,activeColor:String,inactiveColor:String,value:{type:[Number,String],default:0},border:{type:Boolean,default:!0},fixed:{type:Boolean,default:!0},safeAreaInsetBottom:{type:Boolean,default:null}},data:function(){return{height:null}},computed:{fit:function(){return null!==this.safeAreaInsetBottom?this.safeAreaInsetBottom:this.fixed}},watch:{value:"setActiveItem",children:"setActiveItem"},mounted:function(){this.placeholder&&this.fixed&&(this.height=this.$refs.tabbar.getBoundingClientRect().height)},methods:{setActiveItem:function(){var t=this;this.children.forEach((function(e,n){e.active=(e.name||n)===t.value}))},onChange:function(t){t!==this.value&&(this.$emit("input",t),this.$emit("change",t))},genTabbar:function(){var t,e=this.$createElement;return e("div",{ref:"tabbar",style:{zIndex:this.zIndex},class:[(t={},t[Ut]=this.border,t),Sd({unfit:!this.fit,fixed:this.fixed})]},[this.slots()])}},render:function(){var t=arguments[0];return this.placeholder&&this.fixed?t("div",{class:Sd("placeholder"),style:{height:this.height+"px"}},[this.genTabbar()]):this.genTabbar()}}),Td=Object(o["a"])("tabbar-item"),Ed=Td[0],_d=Td[1],Ad=Ed({mixins:[Nn("vanTabbar")],props:i({},Se,{dot:Boolean,icon:String,name:[Number,String],info:[Number,String],badge:[Number,String],iconPrefix:String}),data:function(){return{active:!1}},computed:{routeActive:function(){var t=this.to,e=this.$route;if(t&&e){var n=Object(p["e"])(t)?t:{path:t},i=n.path===e.path,r=Object(p["c"])(n.name)&&n.name===e.name;return i||r}}},methods:{onClick:function(t){this.parent.onChange(this.name||this.index),this.$emit("click",t),we(this.$router,this)},genIcon:function(t){var e=this.$createElement,n=this.slots("icon",{active:t});return n||(this.icon?e(ft,{attrs:{name:this.icon,classPrefix:this.iconPrefix}}):void 0)}},render:function(){var t=arguments[0],e=this.parent.route?this.routeActive:this.active,n=this.parent[e?"activeColor":"inactiveColor"];return t("div",{class:_d({active:e}),style:{color:n},on:{click:this.onClick}},[t("div",{class:_d("icon")},[this.genIcon(e),t(at,{attrs:{dot:this.dot,info:Object(p["c"])(this.badge)?this.badge:this.info}})]),t("div",{class:_d("text")},[this.slots("default",{active:e})])])}}),Cd=Object(o["a"])("tree-select"),Od=Cd[0],Ld=Cd[1];function Rd(t,e,n,i){var r=e.items,o=e.height,s=e.activeId,l=e.selectedIcon,c=e.mainActiveIndex,h=r[+c]||{},f=h.children||[],m=Array.isArray(s);function v(t){return m?-1!==s.indexOf(t):s===t}var g=r.map((function(e){return t(cc,{attrs:{dot:e.dot,info:Object(p["c"])(e.badge)?e.badge:e.info,title:e.text,disabled:e.disabled},class:[Ld("nav-item"),e.className]})}));function y(){return n.content?n.content():f.map((function(n){return t("div",{key:n.id,class:["van-ellipsis",Ld("item",{active:v(n.id),disabled:n.disabled})],on:{click:function(){if(!n.disabled){var t=n.id;if(m){t=s.slice();var r=t.indexOf(n.id);-1!==r?t.splice(r,1):t.length<e.max&&t.push(n.id)}d(i,"update:active-id",t),d(i,"click-item",n),d(i,"itemclick",n)}}}},[n.text,v(n.id)&&t(ft,{attrs:{name:l},class:Ld("selected")})])}))}return t("div",a()([{class:Ld(),style:{height:Object(tt["a"])(o)}},u(i)]),[t(ac,{class:Ld("nav"),attrs:{activeKey:c},on:{change:function(t){d(i,"update:main-active-index",t),d(i,"click-nav",t),d(i,"navclick",t)}}},[g]),t("div",{class:Ld("content")},[y()])])}Rd.props={max:{type:[Number,String],default:1/0},items:{type:Array,default:function(){return[]}},height:{type:[Number,String],default:300},activeId:{type:[Number,String,Array],default:0},selectedIcon:{type:String,default:"success"},mainActiveIndex:{type:[Number,String],default:0}};var Dd=Od(Rd),Id="2.9.3";function Pd(t){var e=[Ot,Mn,ui,pe,en,Fi,qi,Ce,Xi,tr,rr,fr,gr,kr,_r,Dr,Nr,Hr,na,ua,ya,Ka,so,dn,fo,go,So,Co,De,Do,Fo,$o,Ho,Ko,Jo,ft,$i,gs,ks,_s,at,Rs,Tt,Ds["a"],Fs,$s,Qs,sl,_,fl,yl,xl,se,gt,Al,Pl,Zn,Vn,jl,Vl,Yl,ec,ac,cc,vc,Xu,td,rd,au,ld,Ia,pd,as,bd,cs,xn,Cn,Sa,xd,Ad,za,Kn,Ye,Dd,Su];e.forEach((function(e){e.install?t.use(e):e.name&&t.component(e.name,e)}))}"undefined"!==typeof window&&window.Vue&&Pd(window.Vue);e["a"]={install:Pd,version:Id}},ba56:function(t,e,n){"undefined"!==typeof window&&function(e,n){t.exports=n()}(0,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s="./src/hls.ts")}({"./node_modules/eventemitter3/index.js":
/*!*********************************************!*\
  !*** ./node_modules/eventemitter3/index.js ***!
  \*********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){"use strict";var i=Object.prototype.hasOwnProperty,r="~";function a(){}function o(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function s(t,e,n,i,a){if("function"!==typeof n)throw new TypeError("The listener must be a function");var s=new o(n,i||t,a),l=r?r+e:e;return t._events[l]?t._events[l].fn?t._events[l]=[t._events[l],s]:t._events[l].push(s):(t._events[l]=s,t._eventsCount++),t}function l(t,e){0===--t._eventsCount?t._events=new a:delete t._events[e]}function c(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),(new a).__proto__||(r=!1)),c.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)i.call(t,e)&&n.push(r?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},c.prototype.listeners=function(t){var e=r?r+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,a=n.length,o=new Array(a);i<a;i++)o[i]=n[i].fn;return o},c.prototype.listenerCount=function(t){var e=r?r+t:t,n=this._events[e];return n?n.fn?1:n.length:0},c.prototype.emit=function(t,e,n,i,a,o){var s=r?r+t:t;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,n),!0;case 4:return u.fn.call(u.context,e,n,i),!0;case 5:return u.fn.call(u.context,e,n,i,a),!0;case 6:return u.fn.call(u.context,e,n,i,a,o),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(t,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,e);break;case 3:u[c].fn.call(u[c].context,e,n);break;case 4:u[c].fn.call(u[c].context,e,n,i);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},c.prototype.on=function(t,e,n){return s(this,t,e,n,!1)},c.prototype.once=function(t,e,n){return s(this,t,e,n,!0)},c.prototype.removeListener=function(t,e,n,i){var a=r?r+t:t;if(!this._events[a])return this;if(!e)return l(this,a),this;var o=this._events[a];if(o.fn)o.fn!==e||i&&!o.once||n&&o.context!==n||l(this,a);else{for(var s=0,c=[],u=o.length;s<u;s++)(o[s].fn!==e||i&&!o[s].once||n&&o[s].context!==n)&&c.push(o[s]);c.length?this._events[a]=1===c.length?c[0]:c:l(this,a)}return this},c.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&l(this,e)):(this._events=new a,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,t.exports=c},"./node_modules/url-toolkit/src/url-toolkit.js":
/*!*****************************************************!*\
  !*** ./node_modules/url-toolkit/src/url-toolkit.js ***!
  \*****************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){(function(e){var n=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#.*)?$/,i=/^([^\/?#]*)(.*)$/,r=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(t,e,n){if(n=n||{},t=t.trim(),e=e.trim(),!e){if(!n.alwaysNormalize)return t;var r=o.parseURL(t);if(!r)throw new Error("Error trying to parse base URL.");return r.path=o.normalizePath(r.path),o.buildURLFromParts(r)}var a=o.parseURL(e);if(!a)throw new Error("Error trying to parse relative URL.");if(a.scheme)return n.alwaysNormalize?(a.path=o.normalizePath(a.path),o.buildURLFromParts(a)):e;var s=o.parseURL(t);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var l=i.exec(s.path);s.netLoc=l[1],s.path=l[2]}s.netLoc&&!s.path&&(s.path="/");var c={scheme:s.scheme,netLoc:a.netLoc,path:null,params:a.params,query:a.query,fragment:a.fragment};if(!a.netLoc&&(c.netLoc=s.netLoc,"/"!==a.path[0]))if(a.path){var u=s.path,d=u.substring(0,u.lastIndexOf("/")+1)+a.path;c.path=o.normalizePath(d)}else c.path=s.path,a.params||(c.params=s.params,a.query||(c.query=s.query));return null===c.path&&(c.path=n.alwaysNormalize?o.normalizePath(a.path):a.path),o.buildURLFromParts(c)},parseURL:function(t){var e=n.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){t=t.split("").reverse().join("").replace(r,"");while(t.length!==(t=t.replace(a,"")).length);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}};t.exports=o})()},"./node_modules/webworkify-webpack/index.js":
/*!**************************************************!*\
  !*** ./node_modules/webworkify-webpack/index.js ***!
  \**************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(t,e,n){function i(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n.oe=function(t){throw console.error(t),t};var i=n(n.s=ENTRY_MODULE);return i.default||i}var r="[\\.|\\-|\\+|\\w|/|@]+",a="\\(\\s*(/\\*.*?\\*/)?\\s*.*?("+r+").*?\\)";function o(t){return(t+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function s(t){return!isNaN(1*t)}function l(t,e,i){var l={};l[i]=[];var c=e.toString(),u=c.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!u)return l;var d,h=u[1],f=new RegExp("(\\\\n|\\W)"+o(h)+a,"g");while(d=f.exec(c))"dll-reference"!==d[3]&&l[i].push(d[3]);f=new RegExp("\\("+o(h)+'\\("(dll-reference\\s('+r+'))"\\)\\)'+a,"g");while(d=f.exec(c))t[d[2]]||(l[i].push(d[1]),t[d[2]]=n(d[1]).m),l[d[2]]=l[d[2]]||[],l[d[2]].push(d[4]);for(var p=Object.keys(l),m=0;m<p.length;m++)for(var v=0;v<l[p[m]].length;v++)s(l[p[m]][v])&&(l[p[m]][v]=1*l[p[m]][v]);return l}function c(t){var e=Object.keys(t);return e.reduce((function(e,n){return e||t[n].length>0}),!1)}function u(t,e){var n={main:[e]},i={main:[]},r={main:{}};while(c(n))for(var a=Object.keys(n),o=0;o<a.length;o++){var s=a[o],u=n[s],d=u.pop();if(r[s]=r[s]||{},!r[s][d]&&t[s][d]){r[s][d]=!0,i[s]=i[s]||[],i[s].push(d);for(var h=l(t,t[s][d],s),f=Object.keys(h),p=0;p<f.length;p++)n[f[p]]=n[f[p]]||[],n[f[p]]=n[f[p]].concat(h[f[p]])}}return i}t.exports=function(t,e){e=e||{};var r={main:n.m},a=e.all?{main:Object.keys(r.main)}:u(r,t),o="";Object.keys(a).filter((function(t){return"main"!==t})).forEach((function(t){var e=0;while(a[t][e])e++;a[t].push(e),r[t][e]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",o=o+"var "+t+" = ("+i.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+a[t].map((function(e){return JSON.stringify(e)+": "+r[t][e].toString()})).join(",")+"});\n"})),o=o+"new (("+i.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+a.main.map((function(t){return JSON.stringify(t)+": "+r.main[t].toString()})).join(",")+"}))(self);";var s=new window.Blob([o],{type:"text/javascript"});if(e.bare)return s;var l=window.URL||window.webkitURL||window.mozURL||window.msURL,c=l.createObjectURL(s),d=new window.Worker(c);return d.objectURL=c,d}},"./src/crypt/decrypter.js":
/*!********************************************!*\
  !*** ./src/crypt/decrypter.js + 3 modules ***!
  \********************************************/
/*! exports provided: default */
/*! ModuleConcatenation bailout: Cannot concat with ./src/errors.ts because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/events.js because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/get-self-scope.js because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/logger.js because of ./src/hls.ts */function(t,e,n){"use strict";n.r(e);var i=function(){function t(t,e){this.subtle=t,this.aesIV=e}var e=t.prototype;return e.decrypt=function(t,e){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},e,t)},t}(),r=function(){function t(t,e){this.subtle=t,this.key=e}var e=t.prototype;return e.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},t}(),a=r;function o(t){var e=t.byteLength,n=e&&new DataView(t).getUint8(e-1);return n?t.slice(0,e-n):t}var s=function(){function t(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}var e=t.prototype;return e.uint8ArrayToUint32Array_=function(t){for(var e=new DataView(t),n=new Uint32Array(4),i=0;i<4;i++)n[i]=e.getUint32(4*i);return n},e.initTable=function(){var t=this.sBox,e=this.invSBox,n=this.subMix,i=n[0],r=n[1],a=n[2],o=n[3],s=this.invSubMix,l=s[0],c=s[1],u=s[2],d=s[3],h=new Uint32Array(256),f=0,p=0,m=0;for(m=0;m<256;m++)h[m]=m<128?m<<1:m<<1^283;for(m=0;m<256;m++){var v=p^p<<1^p<<2^p<<3^p<<4;v=v>>>8^255&v^99,t[f]=v,e[v]=f;var g=h[f],y=h[g],b=h[y],w=257*h[v]^16843008*v;i[f]=w<<24|w>>>8,r[f]=w<<16|w>>>16,a[f]=w<<8|w>>>24,o[f]=w,w=16843009*b^65537*y^257*g^16843008*f,l[v]=w<<24|w>>>8,c[v]=w<<16|w>>>16,u[v]=w<<8|w>>>24,d[v]=w,f?(f=g^h[h[h[b^g]]],p^=h[h[p]]):f=p=1}},e.expandKey=function(t){var e=this.uint8ArrayToUint32Array_(t),n=!0,i=0;while(i<e.length&&n)n=e[i]===this.key[i],i++;if(!n){this.key=e;var r=this.keySize=e.length;if(4!==r&&6!==r&&8!==r)throw new Error("Invalid aes key size="+r);var a,o,s,l,c=this.ksRows=4*(r+6+1),u=this.keySchedule=new Uint32Array(c),d=this.invKeySchedule=new Uint32Array(c),h=this.sBox,f=this.rcon,p=this.invSubMix,m=p[0],v=p[1],g=p[2],y=p[3];for(a=0;a<c;a++)a<r?s=u[a]=e[a]:(l=s,a%r===0?(l=l<<8|l>>>24,l=h[l>>>24]<<24|h[l>>>16&255]<<16|h[l>>>8&255]<<8|h[255&l],l^=f[a/r|0]<<24):r>6&&a%r===4&&(l=h[l>>>24]<<24|h[l>>>16&255]<<16|h[l>>>8&255]<<8|h[255&l]),u[a]=s=(u[a-r]^l)>>>0);for(o=0;o<c;o++)a=c-o,l=3&o?u[a]:u[a-4],d[o]=o<4||a<=4?l:m[h[l>>>24]]^v[h[l>>>16&255]]^g[h[l>>>8&255]]^y[h[255&l]],d[o]=d[o]>>>0}},e.networkToHostOrderSwap=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},e.decrypt=function(t,e,n,i){var r,a,s,l,c,u,d,h,f,p,m,v,g,y,b=this.keySize+6,w=this.invKeySchedule,k=this.invSBox,S=this.invSubMix,x=S[0],T=S[1],E=S[2],_=S[3],A=this.uint8ArrayToUint32Array_(n),C=A[0],O=A[1],L=A[2],R=A[3],D=new Int32Array(t),I=new Int32Array(D.length),P=this.networkToHostOrderSwap;while(e<D.length){for(f=P(D[e]),p=P(D[e+1]),m=P(D[e+2]),v=P(D[e+3]),c=f^w[0],u=v^w[1],d=m^w[2],h=p^w[3],g=4,y=1;y<b;y++)r=x[c>>>24]^T[u>>16&255]^E[d>>8&255]^_[255&h]^w[g],a=x[u>>>24]^T[d>>16&255]^E[h>>8&255]^_[255&c]^w[g+1],s=x[d>>>24]^T[h>>16&255]^E[c>>8&255]^_[255&u]^w[g+2],l=x[h>>>24]^T[c>>16&255]^E[u>>8&255]^_[255&d]^w[g+3],c=r,u=a,d=s,h=l,g+=4;r=k[c>>>24]<<24^k[u>>16&255]<<16^k[d>>8&255]<<8^k[255&h]^w[g],a=k[u>>>24]<<24^k[d>>16&255]<<16^k[h>>8&255]<<8^k[255&c]^w[g+1],s=k[d>>>24]<<24^k[h>>16&255]<<16^k[c>>8&255]<<8^k[255&u]^w[g+2],l=k[h>>>24]<<24^k[c>>16&255]<<16^k[u>>8&255]<<8^k[255&d]^w[g+3],g+=3,I[e]=P(r^C),I[e+1]=P(l^O),I[e+2]=P(s^L),I[e+3]=P(a^R),C=f,O=p,L=m,R=v,e+=4}return i?o(I.buffer):I.buffer},e.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},t}(),l=s,c=n("./src/errors.ts"),u=n("./src/utils/logger.js"),d=n("./src/events.js"),h=n("./src/utils/get-self-scope.js"),f=Object(h["getSelfScope"])(),p=function(){function t(t,e,n){var i=void 0===n?{}:n,r=i.removePKCS7Padding,a=void 0===r||r;if(this.logEnabled=!0,this.observer=t,this.config=e,this.removePKCS7Padding=a,a)try{var o=f.crypto;o&&(this.subtle=o.subtle||o.webkitSubtle)}catch(s){}this.disableWebCrypto=!this.subtle}var e=t.prototype;return e.isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},e.decrypt=function(t,e,n,r){var o=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(u["logger"].log("JS AES decrypt"),this.logEnabled=!1);var s=this.decryptor;s||(this.decryptor=s=new l),s.expandKey(e),r(s.decrypt(t,0,n,this.removePKCS7Padding))}else{this.logEnabled&&(u["logger"].log("WebCrypto AES decrypt"),this.logEnabled=!1);var c=this.subtle;this.key!==e&&(this.key=e,this.fastAesKey=new a(c,e)),this.fastAesKey.expandKey().then((function(a){var s=new i(c,n);s.decrypt(t,a).catch((function(i){o.onWebCryptoError(i,t,e,n,r)})).then((function(t){r(t)}))})).catch((function(i){o.onWebCryptoError(i,t,e,n,r)}))}},e.onWebCryptoError=function(t,e,n,i,r){this.config.enableSoftwareAES?(u["logger"].log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(e,n,i,r)):(u["logger"].error("decrypting error : "+t.message),this.observer.trigger(d["default"].ERROR,{type:c["ErrorTypes"].MEDIA_ERROR,details:c["ErrorDetails"].FRAG_DECRYPT_ERROR,fatal:!0,reason:t.message}))},e.destroy=function(){var t=this.decryptor;t&&(t.destroy(),this.decryptor=void 0)},t}();e["default"]=p},"./src/demux/demuxer-inline.js":
/*!**************************************************!*\
  !*** ./src/demux/demuxer-inline.js + 12 modules ***!
  \**************************************************/
/*! exports provided: default */
/*! ModuleConcatenation bailout: Cannot concat with ./src/crypt/decrypter.js because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/demux/id3.js because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/demux/mp4demuxer.js because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/errors.ts because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/events.js because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/polyfills/number.js because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/get-self-scope.js because of ./src/hls.ts */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/logger.js because of ./src/hls.ts */function(t,e,n){"use strict";n.r(e);var i=n("./src/events.js"),r=n("./src/errors.ts"),a=n("./src/crypt/decrypter.js"),o=n("./src/polyfills/number.js"),s=n("./src/utils/logger.js"),l=n("./src/utils/get-self-scope.js");function c(t,e,n,a){var o,l,c,u,d,h=navigator.userAgent.toLowerCase(),f=a,p=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];if(o=1+((192&e[n+2])>>>6),l=(60&e[n+2])>>>2,!(l>p.length-1))return u=(1&e[n+2])<<2,u|=(192&e[n+3])>>>6,s["logger"].log("manifest codec:"+a+",ADTS data:type:"+o+",sampleingIndex:"+l+"["+p[l]+"Hz],channelConfig:"+u),/firefox/i.test(h)?l>=6?(o=5,d=new Array(4),c=l-3):(o=2,d=new Array(2),c=l):-1!==h.indexOf("android")?(o=2,d=new Array(2),c=l):(o=5,d=new Array(4),a&&(-1!==a.indexOf("mp4a.40.29")||-1!==a.indexOf("mp4a.40.5"))||!a&&l>=6?c=l-3:((a&&-1!==a.indexOf("mp4a.40.2")&&(l>=6&&1===u||/vivaldi/i.test(h))||!a&&1===u)&&(o=2,d=new Array(2)),c=l)),d[0]=o<<3,d[0]|=(14&l)>>1,d[1]|=(1&l)<<7,d[1]|=u<<3,5===o&&(d[1]|=(14&c)>>1,d[2]=(1&c)<<7,d[2]|=8,d[3]=0),{config:d,samplerate:p[l],channelCount:u,codec:"mp4a.40."+o,manifestCodec:f};t.trigger(i["default"].ERROR,{type:r["ErrorTypes"].MEDIA_ERROR,details:r["ErrorDetails"].FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+l})}function u(t,e){return 255===t[e]&&240===(246&t[e+1])}function d(t,e){return 1&t[e+1]?7:9}function h(t,e){return(3&t[e+3])<<11|t[e+4]<<3|(224&t[e+5])>>>5}function f(t,e){return!!(e+1<t.length&&u(t,e))}function p(t,e){if(f(t,e)){var n=d(t,e);if(e+n>=t.length)return!1;var i=h(t,e);if(i<=n)return!1;var r=e+i;if(r===t.length||r+1<t.length&&u(t,r))return!0}return!1}function m(t,e,n,i,r){if(!t.samplerate){var a=c(e,n,i,r);t.config=a.config,t.samplerate=a.samplerate,t.channelCount=a.channelCount,t.codec=a.codec,t.manifestCodec=a.manifestCodec,s["logger"].log("parsed codec:"+t.codec+",rate:"+a.samplerate+",nb channel:"+a.channelCount)}}function v(t){return 9216e4/t}function g(t,e,n,i,r){var a,o,s,l=t.length;if(a=d(t,e),o=h(t,e),o-=a,o>0&&e+a+o<=l)return s=n+i*r,{headerLength:a,frameLength:o,stamp:s}}function y(t,e,n,i,r){var a=v(t.samplerate),o=g(e,n,i,r,a);if(o){var s=o.stamp,l=o.headerLength,c=o.frameLength,u={unit:e.subarray(n+l,n+l+c),pts:s,dts:s};return t.samples.push(u),{sample:u,length:c+l}}}var b=n("./src/demux/id3.js"),w=function(){function t(t,e,n){this.observer=t,this.config=n,this.remuxer=e}var e=t.prototype;return e.resetInitSegment=function(t,e,n,i){this._audioTrack={container:"audio/adts",type:"audio",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:e,duration:i,inputTimeScale:9e4}},e.resetTimeStamp=function(){},t.probe=function(t){if(!t)return!1;for(var e=b["default"].getID3Data(t,0)||[],n=e.length,i=t.length;n<i;n++)if(p(t,n))return s["logger"].log("ADTS sync word found !"),!0;return!1},e.append=function(t,e,n,i){var r=this._audioTrack,a=b["default"].getID3Data(t,0)||[],l=b["default"].getTimeStamp(a),c=Object(o["isFiniteNumber"])(l)?90*l:9e4*e,u=0,d=c,h=t.length,p=a.length,v=[{pts:d,dts:d,data:a}];while(p<h-1)if(f(t,p)&&p+5<h){m(r,this.observer,t,p,r.manifestCodec);var g=y(r,t,p,c,u);if(!g){s["logger"].log("Unable to parse AAC frame");break}p+=g.length,d=g.sample.pts,u++}else b["default"].isHeader(t,p)?(a=b["default"].getID3Data(t,p),v.push({pts:d,dts:d,data:a}),p+=a.length):p++;this.remuxer.remux(r,{samples:[]},{samples:v,inputTimeScale:9e4},{samples:[]},e,n,i)},e.destroy=function(){},t}(),k=w,S=n("./src/demux/mp4demuxer.js"),x={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SamplesCoefficients:[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot:[0,1,1,4],appendFrame:function(t,e,n,i,r){if(!(n+24>e.length)){var a=this.parseHeader(e,n);if(a&&n+a.frameLength<=e.length){var o=9e4*a.samplesPerFrame/a.sampleRate,s=i+r*o,l={unit:e.subarray(n,n+a.frameLength),pts:s,dts:s};return t.config=[],t.channelCount=a.channelCount,t.samplerate=a.sampleRate,t.samples.push(l),{sample:l,length:a.frameLength}}}},parseHeader:function(t,e){var n=t[e+1]>>3&3,i=t[e+1]>>1&3,r=t[e+2]>>4&15,a=t[e+2]>>2&3,o=t[e+2]>>1&1;if(1!==n&&0!==r&&15!==r&&3!==a){var s=3===n?3-i:3===i?3:4,l=1e3*x.BitratesMap[14*s+r-1],c=3===n?0:2===n?1:2,u=x.SamplingRateMap[3*c+a],d=t[e+3]>>6===3?1:2,h=x.SamplesCoefficients[n][i],f=x.BytesInSlot[i],p=8*h*f,m=parseInt(h*l/u+o,10)*f;return{sampleRate:u,channelCount:d,frameLength:m,samplesPerFrame:p}}},isHeaderPattern:function(t,e){return 255===t[e]&&224===(224&t[e+1])&&0!==(6&t[e+1])},isHeader:function(t,e){return!!(e+1<t.length&&this.isHeaderPattern(t,e))},probe:function(t,e){if(e+1<t.length&&this.isHeaderPattern(t,e)){var n=4,i=this.parseHeader(t,e),r=n;i&&i.frameLength&&(r=i.frameLength);var a=e+r;if(a===t.length||a+1<t.length&&this.isHeaderPattern(t,a))return!0}return!1}},T=x,E=function(){function t(t){this.data=t,this.bytesAvailable=t.byteLength,this.word=0,this.bitsAvailable=0}var e=t.prototype;return e.loadWord=function(){var t=this.data,e=this.bytesAvailable,n=t.byteLength-e,i=new Uint8Array(4),r=Math.min(4,e);if(0===r)throw new Error("no bytes available");i.set(t.subarray(n,n+r)),this.word=new DataView(i.buffer).getUint32(0),this.bitsAvailable=8*r,this.bytesAvailable-=r},e.skipBits=function(t){var e;this.bitsAvailable>t?(this.word<<=t,this.bitsAvailable-=t):(t-=this.bitsAvailable,e=t>>3,t-=e>>3,this.bytesAvailable-=e,this.loadWord(),this.word<<=t,this.bitsAvailable-=t)},e.readBits=function(t){var e=Math.min(this.bitsAvailable,t),n=this.word>>>32-e;return t>32&&s["logger"].error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=e,this.bitsAvailable>0?this.word<<=e:this.bytesAvailable>0&&this.loadWord(),e=t-e,e>0&&this.bitsAvailable?n<<e|this.readBits(e):n},e.skipLZ=function(){var t;for(t=0;t<this.bitsAvailable;++t)if(0!==(this.word&2147483648>>>t))return this.word<<=t,this.bitsAvailable-=t,t;return this.loadWord(),t+this.skipLZ()},e.skipUEG=function(){this.skipBits(1+this.skipLZ())},e.skipEG=function(){this.skipBits(1+this.skipLZ())},e.readUEG=function(){var t=this.skipLZ();return this.readBits(t+1)-1},e.readEG=function(){var t=this.readUEG();return 1&t?1+t>>>1:-1*(t>>>1)},e.readBoolean=function(){return 1===this.readBits(1)},e.readUByte=function(){return this.readBits(8)},e.readUShort=function(){return this.readBits(16)},e.readUInt=function(){return this.readBits(32)},e.skipScalingList=function(t){var e,n,i=8,r=8;for(e=0;e<t;e++)0!==r&&(n=this.readEG(),r=(i+n+256)%256),i=0===r?i:r},e.readSPS=function(){var t,e,n,i,r,a,o,s=0,l=0,c=0,u=0,d=this.readUByte.bind(this),h=this.readBits.bind(this),f=this.readUEG.bind(this),p=this.readBoolean.bind(this),m=this.skipBits.bind(this),v=this.skipEG.bind(this),g=this.skipUEG.bind(this),y=this.skipScalingList.bind(this);if(d(),t=d(),h(5),m(3),d(),g(),100===t||110===t||122===t||244===t||44===t||83===t||86===t||118===t||128===t){var b=f();if(3===b&&m(1),g(),g(),m(1),p())for(a=3!==b?8:12,o=0;o<a;o++)p()&&y(o<6?16:64)}g();var w=f();if(0===w)f();else if(1===w)for(m(1),v(),v(),e=f(),o=0;o<e;o++)v();g(),m(1),n=f(),i=f(),r=h(1),0===r&&m(1),m(1),p()&&(s=f(),l=f(),c=f(),u=f());var k=[1,1];if(p()&&p()){var S=d();switch(S){case 1:k=[1,1];break;case 2:k=[12,11];break;case 3:k=[10,11];break;case 4:k=[16,11];break;case 5:k=[40,33];break;case 6:k=[24,11];break;case 7:k=[20,11];break;case 8:k=[32,11];break;case 9:k=[80,33];break;case 10:k=[18,11];break;case 11:k=[15,11];break;case 12:k=[64,33];break;case 13:k=[160,99];break;case 14:k=[4,3];break;case 15:k=[3,2];break;case 16:k=[2,1];break;case 255:k=[d()<<8|d(),d()<<8|d()];break}}return{width:Math.ceil(16*(n+1)-2*s-2*l),height:(2-r)*(i+1)*16-(r?2:4)*(c+u),pixelRatio:k}},e.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},t}(),_=E,A=function(){function t(t,e,n,i){this.decryptdata=n,this.discardEPB=i,this.decrypter=new a["default"](t,e,{removePKCS7Padding:!1})}var e=t.prototype;return e.decryptBuffer=function(t,e){this.decrypter.decrypt(t,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,e)},e.decryptAacSample=function(t,e,n,i){var r=t[e].unit,a=r.subarray(16,r.length-r.length%16),o=a.buffer.slice(a.byteOffset,a.byteOffset+a.length),s=this;this.decryptBuffer(o,(function(a){a=new Uint8Array(a),r.set(a,16),i||s.decryptAacSamples(t,e+1,n)}))},e.decryptAacSamples=function(t,e,n){for(;;e++){if(e>=t.length)return void n();if(!(t[e].unit.length<32)){var i=this.decrypter.isSync();if(this.decryptAacSample(t,e,n,i),!i)return}}},e.getAvcEncryptedData=function(t){for(var e=16*Math.floor((t.length-48)/160)+16,n=new Int8Array(e),i=0,r=32;r<=t.length-16;r+=160,i+=16)n.set(t.subarray(r,r+16),i);return n},e.getAvcDecryptedUnit=function(t,e){e=new Uint8Array(e);for(var n=0,i=32;i<=t.length-16;i+=160,n+=16)t.set(e.subarray(n,n+16),i);return t},e.decryptAvcSample=function(t,e,n,i,r,a){var o=this.discardEPB(r.data),s=this.getAvcEncryptedData(o),l=this;this.decryptBuffer(s.buffer,(function(s){r.data=l.getAvcDecryptedUnit(o,s),a||l.decryptAvcSamples(t,e,n+1,i)}))},e.decryptAvcSamples=function(t,e,n,i){for(;;e++,n=0){if(e>=t.length)return void i();for(var r=t[e].units;;n++){if(n>=r.length)break;var a=r[n];if(!(a.length<=48||1!==a.type&&5!==a.type)){var o=this.decrypter.isSync();if(this.decryptAvcSample(t,e,n,i,a,o),!o)return}}}},t}(),C=A,O={video:1,audio:2,id3:3,text:4},L=function(){function t(t,e,n,i){this.observer=t,this.config=n,this.typeSupported=i,this.remuxer=e,this.sampleAes=null,this.pmtUnknownTypes={}}var e=t.prototype;return e.setDecryptData=function(t){null!=t&&null!=t.key&&"SAMPLE-AES"===t.method?this.sampleAes=new C(this.observer,this.config,t,this.discardEPB):this.sampleAes=null},t.probe=function(e){var n=t._syncOffset(e);return!(n<0)&&(n&&s["logger"].warn("MPEG2-TS detected but first sync word found @ offset "+n+", junk ahead ?"),!0)},t._syncOffset=function(t){var e=Math.min(1e3,t.length-564),n=0;while(n<e){if(71===t[n]&&71===t[n+188]&&71===t[n+376])return n;n++}return-1},t.createTrack=function(t,e){return{container:"video"===t||"audio"===t?"video/mp2t":void 0,type:t,id:O[t],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:"video"===t?0:void 0,isAAC:"audio"===t||void 0,duration:"audio"===t?e:void 0}},e.resetInitSegment=function(e,n,i,r){this.pmtParsed=!1,this._pmtId=-1,this.pmtUnknownTypes={},this._avcTrack=t.createTrack("video",r),this._audioTrack=t.createTrack("audio",r),this._id3Track=t.createTrack("id3",r),this._txtTrack=t.createTrack("text",r),this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=n,this.videoCodec=i,this._duration=r},e.resetTimeStamp=function(){},e.append=function(e,n,a,o){var l,c,u,d,h,f,p=e.length,m=!1;this.pmtUnknownTypes={},this.contiguous=a;var v=this.pmtParsed,g=this._avcTrack,y=this._audioTrack,b=this._id3Track,w=g.pid,k=y.pid,S=b.pid,x=this._pmtId,T=g.pesData,E=y.pesData,_=b.pesData,A=this._parsePAT,C=this._parsePMT.bind(this),O=this._parsePES,L=this._parseAVCPES.bind(this),R=this._parseAACPES.bind(this),D=this._parseMPEGPES.bind(this),I=this._parseID3PES.bind(this),P=t._syncOffset(e);for(p-=(p+P)%188,l=P;l<p;l+=188)if(71===e[l]){if(c=!!(64&e[l+1]),u=((31&e[l+1])<<8)+e[l+2],d=(48&e[l+3])>>4,d>1){if(h=l+5+e[l+4],h===l+188)continue}else h=l+4;switch(u){case w:c&&(T&&(f=O(T))&&L(f,!1),T={data:[],size:0}),T&&(T.data.push(e.subarray(h,l+188)),T.size+=l+188-h);break;case k:c&&(E&&(f=O(E))&&(y.isAAC?R(f):D(f)),E={data:[],size:0}),E&&(E.data.push(e.subarray(h,l+188)),E.size+=l+188-h);break;case S:c&&(_&&(f=O(_))&&I(f),_={data:[],size:0}),_&&(_.data.push(e.subarray(h,l+188)),_.size+=l+188-h);break;case 0:c&&(h+=e[h]+1),x=this._pmtId=A(e,h);break;case x:c&&(h+=e[h]+1);var M=C(e,h,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);w=M.avc,w>0&&(g.pid=w),k=M.audio,k>0&&(y.pid=k,y.isAAC=M.isAAC),S=M.id3,S>0&&(b.pid=S),m&&!v&&(s["logger"].log("reparse from beginning"),m=!1,l=P-188),v=this.pmtParsed=!0;break;case 17:case 8191:break;default:m=!0;break}}else this.observer.trigger(i["default"].ERROR,{type:r["ErrorTypes"].MEDIA_ERROR,details:r["ErrorDetails"].FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});T&&(f=O(T))?(L(f,!0),g.pesData=null):g.pesData=T,E&&(f=O(E))?(y.isAAC?R(f):D(f),y.pesData=null):(E&&E.size&&s["logger"].log("last AAC PES packet truncated,might overlap between fragments"),y.pesData=E),_&&(f=O(_))?(I(f),b.pesData=null):b.pesData=_,null==this.sampleAes?this.remuxer.remux(y,g,b,this._txtTrack,n,a,o):this.decryptAndRemux(y,g,b,this._txtTrack,n,a,o)},e.decryptAndRemux=function(t,e,n,i,r,a,o){if(t.samples&&t.isAAC){var s=this;this.sampleAes.decryptAacSamples(t.samples,0,(function(){s.decryptAndRemuxAvc(t,e,n,i,r,a,o)}))}else this.decryptAndRemuxAvc(t,e,n,i,r,a,o)},e.decryptAndRemuxAvc=function(t,e,n,i,r,a,o){if(e.samples){var s=this;this.sampleAes.decryptAvcSamples(e.samples,0,0,(function(){s.remuxer.remux(t,e,n,i,r,a,o)}))}else this.remuxer.remux(t,e,n,i,r,a,o)},e.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},e._parsePAT=function(t,e){return(31&t[e+10])<<8|t[e+11]},e._trackUnknownPmt=function(t,e,n){var i=this.pmtUnknownTypes[t]||0;return 0===i&&(this.pmtUnknownTypes[t]=0,e.call(s["logger"],n)),this.pmtUnknownTypes[t]++,i},e._parsePMT=function(t,e,n,i){var r,a,o,l,c={audio:-1,avc:-1,id3:-1,isAAC:!0};r=(15&t[e+1])<<8|t[e+2],a=e+3+r-4,o=(15&t[e+10])<<8|t[e+11],e+=12+o;while(e<a){switch(l=(31&t[e+1])<<8|t[e+2],t[e]){case 207:if(!i){this._trackUnknownPmt(t[e],s["logger"].warn,"ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:-1===c.audio&&(c.audio=l);break;case 21:-1===c.id3&&(c.id3=l);break;case 219:if(!i){this._trackUnknownPmt(t[e],s["logger"].warn,"H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:-1===c.avc&&(c.avc=l);break;case 3:case 4:n?-1===c.audio&&(c.audio=l,c.isAAC=!1):this._trackUnknownPmt(t[e],s["logger"].warn,"MPEG audio found, not supported in this browser");break;case 36:this._trackUnknownPmt(t[e],s["logger"].warn,"Unsupported HEVC stream type found");break;default:this._trackUnknownPmt(t[e],s["logger"].log,"Unknown stream type:"+t[e]);break}e+=5+((15&t[e+3])<<8|t[e+4])}return c},e._parsePES=function(t){var e,n,i,r,a,o,l,c,u,d=0,h=t.data;if(!t||0===t.size)return null;while(h[0].length<19&&h.length>1){var f=new Uint8Array(h[0].length+h[1].length);f.set(h[0]),f.set(h[1],h[0].length),h[0]=f,h.splice(1,1)}if(e=h[0],i=(e[0]<<16)+(e[1]<<8)+e[2],1===i){if(r=(e[4]<<8)+e[5],r&&r>t.size-6)return null;if(n=e[7],192&n&&(l=536870912*(14&e[9])+4194304*(255&e[10])+16384*(254&e[11])+128*(255&e[12])+(254&e[13])/2,l>4294967295&&(l-=8589934592),64&n?(c=536870912*(14&e[14])+4194304*(255&e[15])+16384*(254&e[16])+128*(255&e[17])+(254&e[18])/2,c>4294967295&&(c-=8589934592),l-c>54e5&&(s["logger"].warn(Math.round((l-c)/9e4)+"s delta between PTS and DTS, align them"),l=c)):c=l),a=e[8],u=a+9,t.size<=u)return null;t.size-=u,o=new Uint8Array(t.size);for(var p=0,m=h.length;p<m;p++){e=h[p];var v=e.byteLength;if(u){if(u>v){u-=v;continue}e=e.subarray(u),v-=u,u=0}o.set(e,d),d+=v}return r&&(r-=a+3),{data:o,pts:l,dts:c,len:r}}return null},e.pushAccesUnit=function(t,e){if(t.units.length&&t.frame){var n=e.samples,i=n.length;if(isNaN(t.pts)){if(!i)return void e.dropped++;var r=n[i-1];t.pts=r.pts,t.dts=r.dts}!this.config.forceKeyFrameOnDiscontinuity||!0===t.key||e.sps&&(i||this.contiguous)?(t.id=i,n.push(t)):e.dropped++}t.debug.length&&s["logger"].log(t.pts+"/"+t.dts+":"+t.debug)},e._parseAVCPES=function(t,e){var n,i,r,a=this,o=this._avcTrack,s=this._parseAVCNALu(t.data),l=!1,c=this.avcSample,u=!1,d=this.pushAccesUnit.bind(this),h=function(t,e,n,i){return{key:t,pts:e,dts:n,units:[],debug:i}};t.data=null,c&&s.length&&!o.audFound&&(d(c,o),c=this.avcSample=h(!1,t.pts,t.dts,"")),s.forEach((function(e){switch(e.type){case 1:i=!0,c||(c=a.avcSample=h(!0,t.pts,t.dts,"")),l&&(c.debug+="NDR "),c.frame=!0;var s=e.data;if(u&&s.length>4){var f=new _(s).readSliceType();2!==f&&4!==f&&7!==f&&9!==f||(c.key=!0)}break;case 5:i=!0,c||(c=a.avcSample=h(!0,t.pts,t.dts,"")),l&&(c.debug+="IDR "),c.key=!0,c.frame=!0;break;case 6:i=!0,l&&c&&(c.debug+="SEI "),n=new _(a.discardEPB(e.data)),n.readUByte();var p=0,m=0,v=!1,g=0;while(!v&&n.bytesAvailable>1){p=0;do{g=n.readUByte(),p+=g}while(255===g);m=0;do{g=n.readUByte(),m+=g}while(255===g);if(4===p&&0!==n.bytesAvailable){v=!0;var y=n.readUByte();if(181===y){var w=n.readUShort();if(49===w){var k=n.readUInt();if(1195456820===k){var S=n.readUByte();if(3===S){var x=n.readUByte(),T=n.readUByte(),E=31&x,A=[x,T];for(r=0;r<E;r++)A.push(n.readUByte()),A.push(n.readUByte()),A.push(n.readUByte());a._insertSampleInOrder(a._txtTrack.samples,{type:3,pts:t.pts,bytes:A})}}}}}else if(5===p&&0!==n.bytesAvailable){if(v=!0,m>16){var C=[];for(r=0;r<16;r++)C.push(n.readUByte().toString(16)),3!==r&&5!==r&&7!==r&&9!==r||C.push("-");var O=m-16,L=new Uint8Array(O);for(r=0;r<O;r++)L[r]=n.readUByte();a._insertSampleInOrder(a._txtTrack.samples,{pts:t.pts,payloadType:p,uuid:C.join(""),userDataBytes:L,userData:Object(b["utf8ArrayToStr"])(L.buffer)})}}else if(m<n.bytesAvailable)for(r=0;r<m;r++)n.readUByte()}break;case 7:if(i=!0,u=!0,l&&c&&(c.debug+="SPS "),!o.sps){n=new _(e.data);var R=n.readSPS();o.width=R.width,o.height=R.height,o.pixelRatio=R.pixelRatio,o.sps=[e.data],o.duration=a._duration;var D=e.data.subarray(1,4),I="avc1.";for(r=0;r<3;r++){var P=D[r].toString(16);P.length<2&&(P="0"+P),I+=P}o.codec=I}break;case 8:i=!0,l&&c&&(c.debug+="PPS "),o.pps||(o.pps=[e.data]);break;case 9:i=!1,o.audFound=!0,c&&d(c,o),c=a.avcSample=h(!1,t.pts,t.dts,l?"AUD ":"");break;case 12:i=!1;break;default:i=!1,c&&(c.debug+="unknown NAL "+e.type+" ");break}if(c&&i){var M=c.units;M.push(e)}})),e&&c&&(d(c,o),this.avcSample=null)},e._insertSampleInOrder=function(t,e){var n=t.length;if(n>0){if(e.pts>=t[n-1].pts)t.push(e);else for(var i=n-1;i>=0;i--)if(e.pts<t[i].pts){t.splice(i,0,e);break}}else t.push(e)},e._getLastNalUnit=function(){var t,e=this.avcSample;if(!e||0===e.units.length){var n=this._avcTrack,i=n.samples;e=i[i.length-1]}if(e){var r=e.units;t=r[r.length-1]}return t},e._parseAVCNALu=function(t){var e,n,i,r,a,o=0,s=t.byteLength,l=this._avcTrack,c=l.naluState||0,u=c,d=[],h=-1;-1===c&&(h=0,a=31&t[0],c=0,o=1);while(o<s)if(e=t[o++],c)if(1!==c)if(e)if(1===e){if(h>=0)i={data:t.subarray(h,o-c-1),type:a},d.push(i);else{var f=this._getLastNalUnit();if(f&&(u&&o<=4-u&&f.state&&(f.data=f.data.subarray(0,f.data.byteLength-u)),n=o-c-1,n>0)){var p=new Uint8Array(f.data.byteLength+n);p.set(f.data,0),p.set(t.subarray(0,n),f.data.byteLength),f.data=p}}o<s?(r=31&t[o],h=o,a=r,c=0):c=-1}else c=0;else c=3;else c=e?0:2;else c=e?0:1;if(h>=0&&c>=0&&(i={data:t.subarray(h,s),type:a,state:c},d.push(i)),0===d.length){var m=this._getLastNalUnit();if(m){var v=new Uint8Array(m.data.byteLength+t.byteLength);v.set(m.data,0),v.set(t,m.data.byteLength),m.data=v}}return l.naluState=c,d},e.discardEPB=function(t){var e,n,i=t.byteLength,r=[],a=1;while(a<i-2)0===t[a]&&0===t[a+1]&&3===t[a+2]?(r.push(a+2),a+=2):a++;if(0===r.length)return t;e=i-r.length,n=new Uint8Array(e);var o=0;for(a=0;a<e;o++,a++)o===r[0]&&(o++,r.shift()),n[a]=t[o];return n},e._parseAACPES=function(t){var e,n,a,o,l,c,u,d=this._audioTrack,h=t.data,p=t.pts,g=0,b=this.aacOverFlow,w=this.aacLastPTS;if(b){var k=new Uint8Array(b.byteLength+h.byteLength);k.set(b,0),k.set(h,b.byteLength),h=k}for(a=g,l=h.length;a<l-1;a++)if(f(h,a))break;if(a&&(a<l-1?(c="AAC PES did not start with ADTS header,offset:"+a,u=!1):(c="no ADTS header found in AAC PES",u=!0),s["logger"].warn("parsing error:"+c),this.observer.trigger(i["default"].ERROR,{type:r["ErrorTypes"].MEDIA_ERROR,details:r["ErrorDetails"].FRAG_PARSING_ERROR,fatal:u,reason:c}),u))return;if(m(d,this.observer,h,a,this.audioCodec),n=0,e=v(d.samplerate),b&&w){var S=w+e;Math.abs(S-p)>1&&(s["logger"].log("AAC: align PTS for overlapping frames by "+Math.round((S-p)/90)),p=S)}while(a<l){if(f(h,a)){if(a+5<l){var x=y(d,h,a,p,n);if(x){a+=x.length,o=x.sample.pts,n++;continue}}break}a++}b=a<l?h.subarray(a,l):null,this.aacOverFlow=b,this.aacLastPTS=o},e._parseMPEGPES=function(t){var e=t.data,n=e.length,i=0,r=0,a=t.pts;while(r<n)if(T.isHeader(e,r)){var o=T.appendFrame(this._audioTrack,e,r,a,i);if(!o)break;r+=o.length,i++}else r++},e._parseID3PES=function(t){this._id3Track.samples.push(t)},t}(),R=L,D=function(){function t(t,e,n){this.observer=t,this.config=n,this.remuxer=e}var e=t.prototype;return e.resetInitSegment=function(t,e,n,i){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:e,duration:i,inputTimeScale:9e4}},e.resetTimeStamp=function(){},t.probe=function(t){var e,n,i=b["default"].getID3Data(t,0);if(i&&void 0!==b["default"].getTimeStamp(i))for(e=i.length,n=Math.min(t.length-1,e+100);e<n;e++)if(T.probe(t,e))return s["logger"].log("MPEG Audio sync word found !"),!0;return!1},e.append=function(t,e,n,i){var r=b["default"].getID3Data(t,0),a=b["default"].getTimeStamp(r),o=void 0!==a?90*a:9e4*e,s=r.length,l=t.length,c=0,u=0,d=this._audioTrack,h=[{pts:o,dts:o,data:r}];while(s<l)if(T.isHeader(t,s)){var f=T.appendFrame(d,t,s,o,c);if(!f)break;s+=f.length,u=f.sample.pts,c++}else b["default"].isHeader(t,s)?(r=b["default"].getID3Data(t,s),h.push({pts:u,dts:u,data:r}),s+=r.length):s++;this.remuxer.remux(d,{samples:[]},{samples:h,inputTimeScale:9e4},{samples:[]},e,n,i)},e.destroy=function(){},t}(),I=D,P=function(){function t(){}return t.getSilentFrame=function(t,e){switch(t){case"mp4a.40.2":if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);break}return null},t}(),M=P,F=Math.pow(2,32)-1,B=function(){function t(){}return t.init=function(){var e;for(e in t.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},t.types)t.types.hasOwnProperty(e)&&(t.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);var n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),i=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);t.HDLR_TYPES={video:n,audio:i};var r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),a=new Uint8Array([0,0,0,0,0,0,0,0]);t.STTS=t.STSC=t.STCO=a,t.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),t.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),t.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),t.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var o=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);t.FTYP=t.box(t.types.ftyp,o,l,o,s),t.DINF=t.box(t.types.dinf,t.box(t.types.dref,r))},t.box=function(t){var e,n=Array.prototype.slice.call(arguments,1),i=8,r=n.length,a=r;while(r--)i+=n[r].byteLength;for(e=new Uint8Array(i),e[0]=i>>24&255,e[1]=i>>16&255,e[2]=i>>8&255,e[3]=255&i,e.set(t,4),r=0,i=8;r<a;r++)e.set(n[r],i),i+=n[r].byteLength;return e},t.hdlr=function(e){return t.box(t.types.hdlr,t.HDLR_TYPES[e])},t.mdat=function(e){return t.box(t.types.mdat,e)},t.mdhd=function(e,n){n*=e;var i=Math.floor(n/(F+1)),r=Math.floor(n%(F+1));return t.box(t.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,i>>24,i>>16&255,i>>8&255,255&i,r>>24,r>>16&255,r>>8&255,255&r,85,196,0,0]))},t.mdia=function(e){return t.box(t.types.mdia,t.mdhd(e.timescale,e.duration),t.hdlr(e.type),t.minf(e))},t.mfhd=function(e){return t.box(t.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e]))},t.minf=function(e){return"audio"===e.type?t.box(t.types.minf,t.box(t.types.smhd,t.SMHD),t.DINF,t.stbl(e)):t.box(t.types.minf,t.box(t.types.vmhd,t.VMHD),t.DINF,t.stbl(e))},t.moof=function(e,n,i){return t.box(t.types.moof,t.mfhd(e),t.traf(i,n))},t.moov=function(e){var n=e.length,i=[];while(n--)i[n]=t.trak(e[n]);return t.box.apply(null,[t.types.moov,t.mvhd(e[0].timescale,e[0].duration)].concat(i).concat(t.mvex(e)))},t.mvex=function(e){var n=e.length,i=[];while(n--)i[n]=t.trex(e[n]);return t.box.apply(null,[t.types.mvex].concat(i))},t.mvhd=function(e,n){n*=e;var i=Math.floor(n/(F+1)),r=Math.floor(n%(F+1)),a=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,i>>24,i>>16&255,i>>8&255,255&i,r>>24,r>>16&255,r>>8&255,255&r,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t.box(t.types.mvhd,a)},t.sdtp=function(e){var n,i,r=e.samples||[],a=new Uint8Array(4+r.length);for(i=0;i<r.length;i++)n=r[i].flags,a[i+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return t.box(t.types.sdtp,a)},t.stbl=function(e){return t.box(t.types.stbl,t.stsd(e),t.box(t.types.stts,t.STTS),t.box(t.types.stsc,t.STSC),t.box(t.types.stsz,t.STSZ),t.box(t.types.stco,t.STCO))},t.avc1=function(e){var n,i,r,a=[],o=[];for(n=0;n<e.sps.length;n++)i=e.sps[n],r=i.byteLength,a.push(r>>>8&255),a.push(255&r),a=a.concat(Array.prototype.slice.call(i));for(n=0;n<e.pps.length;n++)i=e.pps[n],r=i.byteLength,o.push(r>>>8&255),o.push(255&r),o=o.concat(Array.prototype.slice.call(i));var s=t.box(t.types.avcC,new Uint8Array([1,a[3],a[4],a[5],255,224|e.sps.length].concat(a).concat([e.pps.length]).concat(o))),l=e.width,c=e.height,u=e.pixelRatio[0],d=e.pixelRatio[1];return t.box(t.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,c>>8&255,255&c,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,t.box(t.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),t.box(t.types.pasp,new Uint8Array([u>>24,u>>16&255,u>>8&255,255&u,d>>24,d>>16&255,d>>8&255,255&d])))},t.esds=function(t){var e=t.config.length;return new Uint8Array([0,0,0,0,3,23+e,0,1,0,4,15+e,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([e]).concat(t.config).concat([6,1,2]))},t.mp4a=function(e){var n=e.samplerate;return t.box(t.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]),t.box(t.types.esds,t.esds(e)))},t.mp3=function(e){var n=e.samplerate;return t.box(t.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]))},t.stsd=function(e){return"audio"===e.type?e.isAAC||"mp3"!==e.codec?t.box(t.types.stsd,t.STSD,t.mp4a(e)):t.box(t.types.stsd,t.STSD,t.mp3(e)):t.box(t.types.stsd,t.STSD,t.avc1(e))},t.tkhd=function(e){var n=e.id,i=e.duration*e.timescale,r=e.width,a=e.height,o=Math.floor(i/(F+1)),s=Math.floor(i%(F+1));return t.box(t.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,n>>24&255,n>>16&255,n>>8&255,255&n,0,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,s>>24,s>>16&255,s>>8&255,255&s,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,r>>8&255,255&r,0,0,a>>8&255,255&a,0,0]))},t.traf=function(e,n){var i=t.sdtp(e),r=e.id,a=Math.floor(n/(F+1)),o=Math.floor(n%(F+1));return t.box(t.types.traf,t.box(t.types.tfhd,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r])),t.box(t.types.tfdt,new Uint8Array([1,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,o>>24,o>>16&255,o>>8&255,255&o])),t.trun(e,i.length+16+20+8+16+8+8),i)},t.trak=function(e){return e.duration=e.duration||4294967295,t.box(t.types.trak,t.tkhd(e),t.mdia(e))},t.trex=function(e){var n=e.id;return t.box(t.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},t.trun=function(e,n){var i,r,a,o,s,l,c=e.samples||[],u=c.length,d=12+16*u,h=new Uint8Array(d);for(n+=8+d,h.set([0,0,15,1,u>>>24&255,u>>>16&255,u>>>8&255,255&u,n>>>24&255,n>>>16&255,n>>>8&255,255&n],0),i=0;i<u;i++)r=c[i],a=r.duration,o=r.size,s=r.flags,l=r.cts,h.set([a>>>24&255,a>>>16&255,a>>>8&255,255&a,o>>>24&255,o>>>16&255,o>>>8&255,255&o,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,l>>>24&255,l>>>16&255,l>>>8&255,255&l],12+16*i);return t.box(t.types.trun,h)},t.initSegment=function(e){t.types||t.init();var n,i=t.moov(e);return n=new Uint8Array(t.FTYP.byteLength+i.byteLength),n.set(t.FTYP),n.set(i,t.FTYP.byteLength),n},t}(),N=B,j=9e4;function $(t,e,n,i){void 0===n&&(n=1),void 0===i&&(i=!1);var r=t*e*n;return i?Math.round(r):r}function U(t,e){return void 0===e&&(e=!1),$(t,1e3,1/j,e)}function z(t,e){return void 0===e&&(e=1),$(t,j,1/e)}var V,H=z(10),q=z(.2),G=function(){function t(t,e,n,i){this.observer=t,this.config=e,this.typeSupported=n;var r=navigator.userAgent;this.isSafari=i&&i.indexOf("Apple")>-1&&r&&!r.match("CriOS"),this.ISGenerated=!1}var e=t.prototype;return e.destroy=function(){},e.resetTimeStamp=function(t){this._initPTS=this._initDTS=t},e.resetInitSegment=function(){this.ISGenerated=!1},e.remux=function(t,e,n,r,a,o,l){if(this.ISGenerated||this.generateIS(t,e,a),this.ISGenerated){var c=t.samples.length,u=e.samples.length,d=a,h=a;if(c&&u){var f=a>0?t.samples[0].dts-e.samples[0].dts:t.samples[0].pts-e.samples[0].pts,p=f/e.inputTimeScale;d+=Math.max(0,p),h+=Math.max(0,-p)}if(c){t.timescale||(s["logger"].warn("regenerate InitSegment as audio detected"),this.generateIS(t,e,a));var m,v=this.remuxAudio(t,d,o,l);if(u)v&&(m=v.endPTS-v.startPTS),e.timescale||(s["logger"].warn("regenerate InitSegment as video detected"),this.generateIS(t,e,a)),this.remuxVideo(e,h,o,m,l)}else if(u){var g=this.remuxVideo(e,h,o,0,l);g&&t.codec&&this.remuxEmptyAudio(t,d,o,g)}}n.samples.length&&this.remuxID3(n,a),r.samples.length&&this.remuxText(r,a),this.observer.trigger(i["default"].FRAG_PARSED)},e.generateIS=function(t,e,n){var a,o,l=this.observer,c=t.samples,u=e.samples,d=this.typeSupported,h="audio/mp4",f={},p={tracks:f},m=void 0===this._initPTS;if(m&&(a=o=1/0),t.config&&c.length&&(t.timescale=t.samplerate,s["logger"].log("audio sampling rate : "+t.samplerate),t.isAAC||(d.mpeg?(h="audio/mpeg",t.codec=""):d.mp3&&(t.codec="mp3")),f.audio={container:h,codec:t.codec,initSegment:!t.isAAC&&d.mpeg?new Uint8Array:N.initSegment([t]),metadata:{channelCount:t.channelCount}},m&&(a=o=c[0].pts-Math.round(t.inputTimeScale*n))),e.sps&&e.pps&&u.length){var v=e.inputTimeScale;if(e.timescale=v,f.video={container:"video/mp4",codec:e.codec,initSegment:N.initSegment([e]),metadata:{width:e.width,height:e.height}},m){var g=Math.round(v*n);a=Math.min(a,u[0].pts-g),o=Math.min(o,u[0].dts-g),this.observer.trigger(i["default"].INIT_PTS_FOUND,{initPTS:a})}}else m&&f.audio&&this.observer.trigger(i["default"].INIT_PTS_FOUND,{initPTS:a});Object.keys(f).length?(l.trigger(i["default"].FRAG_PARSING_INIT_SEGMENT,p),this.ISGenerated=!0,m&&(this._initPTS=a,this._initDTS=o)):l.trigger(i["default"].ERROR,{type:r["ErrorTypes"].MEDIA_ERROR,details:r["ErrorDetails"].FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},e.remuxVideo=function(t,e,n,a,o){var l,c,u,d,h,f=8,p=Number.POSITIVE_INFINITY,m=Number.NEGATIVE_INFINITY,v=t.timescale,g=t.samples,y=[],b=g.length,w=this._PTSNormalize,k=this._initPTS,S=this.nextAvcDts,x=this.isSafari;if(0!==b){x&&(n|=b&&S&&(o&&Math.abs(e-S/v)<.1||Math.abs(g[0].pts-S-k)<v/5)),n||(S=e*v),g.forEach((function(t){t.pts=w(t.pts-k,S),t.dts=w(t.dts-k,S),p=Math.min(t.pts,p),m=Math.max(t.pts,m)})),g.sort((function(t,e){var n=t.dts-e.dts,i=t.pts-e.pts;return n||i||t.id-e.id}));var T=g.reduce((function(t,e){return Math.max(Math.min(t,e.pts-e.dts),-1*q)}),0);if(T<0){s["logger"].warn("PTS < DTS detected in video samples, shifting DTS by "+U(T,!0)+" ms to overcome this issue");for(var E=0;E<b;E++)g[E].dts=Math.max(0,g[E].dts+T)}d=g[0].dts,h=g[b-1].dts;var _=Math.round((h-d)/(b-1)),A=d-S;if(n){var C=A>_,O=A<-1;(C||O)&&(C?s["logger"].warn("AVC: "+U(A,!0)+"ms ("+A+"dts) hole between fragments detected, filling it"):s["logger"].warn("AVC: "+U(-A,!0)+"ms ("+A+"dts) overlapping between fragments detected"),d=S,p-=A,g[0].dts=d,g[0].pts=p,s["logger"].log("Video: First PTS/DTS adjusted: "+U(p,!0)+"/"+U(d,!0)+", delta: "+U(A,!0)+" ms"))}d=Math.max(d,0);for(var L=0,R=0,D=0;D<b;D++){for(var I=g[D],P=I.units,M=P.length,F=0,B=0;B<M;B++)F+=P[B].data.length;R+=F,L+=M,I.length=F,I.dts=x?d+D*_:Math.max(I.dts,d),I.pts=Math.max(I.pts,I.dts)}var j=R+4*L+8;try{c=new Uint8Array(j)}catch(st){return void this.observer.trigger(i["default"].ERROR,{type:r["ErrorTypes"].MUX_ERROR,details:r["ErrorDetails"].REMUX_ALLOC_ERROR,fatal:!1,bytes:j,reason:"fail allocating video mdat "+j})}var $=new DataView(c.buffer);$.setUint32(0,j),c.set(N.types.mdat,4);for(var z=0;z<b;z++){for(var V=g[z],H=V.units,G=0,W=void 0,K=0,Y=H.length;K<Y;K++){var X=H[K],Q=X.data,J=X.data.byteLength;$.setUint32(f,J),f+=4,c.set(Q,f),f+=J,G+=4+J}if(x)W=Math.max(0,l*Math.round((V.pts-V.dts)/l));else{if(z<b-1)l=g[z+1].dts-V.dts;else{var Z=this.config,tt=V.dts-g[z>0?z-1:z].dts;if(Z.stretchShortVideoTrack){var et=Z.maxBufferHole,nt=Math.floor(et*v),it=(a?p+a*v:this.nextAudioPts)-V.pts;it>nt?(l=it-tt,l<0&&(l=tt),s["logger"].log("It is approximately "+U(it,!1)+" ms to the next segment; using duration "+U(l,!1)+" ms for the last video frame.")):l=tt}else l=tt}W=Math.round(V.pts-V.dts)}y.push({size:G,duration:l,cts:W,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:V.key?2:1,isNonSync:V.key?0:1}})}this.nextAvcDts=h+l;var rt=t.dropped;if(t.nbNalu=0,t.dropped=0,y.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var at=y[0].flags;at.dependsOn=2,at.isNonSync=0}t.samples=y,u=N.moof(t.sequenceNumber++,d,t),t.samples=[];var ot={data1:u,data2:c,startPTS:p/v,endPTS:(m+l)/v,startDTS:d/v,endDTS:this.nextAvcDts/v,type:"video",hasAudio:!1,hasVideo:!0,nb:y.length,dropped:rt};return this.observer.trigger(i["default"].FRAG_PARSING_DATA,ot),ot}},e.remuxAudio=function(t,e,n,a){var o,l,c,u,d,h,f=t.inputTimeScale,p=t.timescale,m=f/p,v=t.isAAC?1024:1152,g=v*m,y=this._PTSNormalize,b=this._initPTS,w=!t.isAAC&&this.typeSupported.mpeg,k=w?0:8,S=t.samples,x=[],T=this.nextAudioPts;if(n|=S.length&&T&&(a&&Math.abs(e-T/f)<.1||Math.abs(S[0].pts-T-b)<20*g),S.forEach((function(t){t.pts=t.dts=y(t.pts-b,e*f)})),S=S.filter((function(t){return t.pts>=0})),0!==S.length){if(n||(T=a?e*f:S[0].pts),t.isAAC)for(var E=this.config.maxAudioFramesDrift,_=0,A=T;_<S.length;){var C,O=S[_],L=O.pts;if(C=L-A,C<=-E*g)n?(s["logger"].warn("Dropping 1 audio frame @ "+U(A,!0)/1e3+"s due to "+U(C,!0)+" ms overlap."),S.splice(_,1)):(s["logger"].warn("Audio frame @ "+U(L,!0)/1e3+"s overlaps nextAudioPts by "+U(C,!0)+" ms."),A=L+g,_++);else if(C>=E*g&&C<H&&A){var R=Math.round(C/g);s["logger"].warn("Injecting "+R+" audio frames @ "+U(A,!0)/1e3+"s due to "+U(C,!0)+" ms gap.");for(var D=0;D<R;D++){var I=Math.max(A,0);l=M.getSilentFrame(t.manifestCodec||t.codec,t.channelCount),l||(s["logger"].log("Unable to get silent frame for given audio codec; duplicating last frame instead."),l=O.unit.subarray()),S.splice(_,0,{unit:l,pts:I,dts:I}),A+=g,_++}O.pts=O.dts=A,A+=g,_++}else Math.abs(C),O.pts=O.dts=A,A+=g,_++}var P=S.length,F=0;while(P--)F+=S[P].unit.byteLength;for(var B=0,j=S.length;B<j;B++){var $=S[B],z=$.unit,V=$.pts;if(void 0!==h&&o)o.duration=Math.round((V-h)/m);else{var q=V-T,G=0;if(n&&t.isAAC&&q){if(q>0&&q<H)G=Math.round((V-T)/g),s["logger"].log(U(q,!0)+" ms hole between AAC samples detected,filling it"),G>0&&(l=M.getSilentFrame(t.manifestCodec||t.codec,t.channelCount),l||(l=z.subarray()),F+=G*l.length);else if(q<-12){s["logger"].log("drop overlapping AAC sample, expected/parsed/delta: "+U(T,!0)+" ms / "+U(V,!0)+" ms / "+U(-q,!0)+" ms"),F-=z.byteLength;continue}V=T}if(d=V,!(F>0))return;F+=k;try{c=new Uint8Array(F)}catch(tt){return void this.observer.trigger(i["default"].ERROR,{type:r["ErrorTypes"].MUX_ERROR,details:r["ErrorDetails"].REMUX_ALLOC_ERROR,fatal:!1,bytes:F,reason:"fail allocating audio mdat "+F})}if(!w){var W=new DataView(c.buffer);W.setUint32(0,F),c.set(N.types.mdat,4)}for(var K=0;K<G;K++)l=M.getSilentFrame(t.manifestCodec||t.codec,t.channelCount),l||(s["logger"].log("Unable to get silent frame for given audio codec; duplicating this frame instead."),l=z.subarray()),c.set(l,k),k+=l.byteLength,o={size:l.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},x.push(o)}c.set(z,k);var Y=z.byteLength;k+=Y,o={size:Y,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},x.push(o),h=V}var X=0;if(P=x.length,P>=2&&(X=x[P-2].duration,o.duration=X),P){this.nextAudioPts=T=h+m*X,t.samples=x,u=w?new Uint8Array:N.moof(t.sequenceNumber++,d/m,t),t.samples=[];var Q=d/f,J=T/f,Z={data1:u,data2:c,startPTS:Q,endPTS:J,startDTS:Q,endDTS:J,type:"audio",hasAudio:!0,hasVideo:!1,nb:P};return this.observer.trigger(i["default"].FRAG_PARSING_DATA,Z),Z}return null}},e.remuxEmptyAudio=function(t,e,n,i){var r=t.inputTimeScale,a=t.samplerate?t.samplerate:r,o=r/a,l=this.nextAudioPts,c=(void 0!==l?l:i.startDTS*r)+this._initDTS,u=i.endDTS*r+this._initDTS,d=1024,h=o*d,f=Math.ceil((u-c)/h),p=M.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);if(s["logger"].warn("remux empty Audio"),p){for(var m=[],v=0;v<f;v++){var g=c+v*h;m.push({unit:p,pts:g,dts:g})}t.samples=m,this.remuxAudio(t,e,n)}else s["logger"].trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!")},e.remuxID3=function(t){var e=t.samples.length;if(e){for(var n=t.inputTimeScale,r=this._initPTS,a=this._initDTS,o=0;o<e;o++){var s=t.samples[o];s.pts=(s.pts-r)/n,s.dts=(s.dts-a)/n}this.observer.trigger(i["default"].FRAG_PARSING_METADATA,{samples:t.samples}),t.samples=[]}},e.remuxText=function(t){t.samples.sort((function(t,e){return t.pts-e.pts}));var e,n=t.samples.length,r=t.inputTimeScale,a=this._initPTS;if(n){for(var o=0;o<n;o++)e=t.samples[o],e.pts=(e.pts-a)/r;this.observer.trigger(i["default"].FRAG_PARSING_USERDATA,{samples:t.samples})}t.samples=[]},e._PTSNormalize=function(t,e){var n;if(void 0===e)return t;n=e<t?-8589934592:8589934592;while(Math.abs(t-e)>4294967296)t+=n;return t},t}(),W=G,K=function(){function t(t){this.observer=t}var e=t.prototype;return e.destroy=function(){},e.resetTimeStamp=function(){},e.resetInitSegment=function(){},e.remux=function(t,e,n,r,a,o,s,l){var c=this.observer,u="";t&&(u+="audio"),e&&(u+="video"),c.trigger(i["default"].FRAG_PARSING_DATA,{data1:l,startPTS:a,startDTS:a,type:u,hasAudio:!!t,hasVideo:!!e,nb:1,dropped:0}),c.trigger(i["default"].FRAG_PARSED)},t}(),Y=K,X=Object(l["getSelfScope"])();try{V=X.performance.now.bind(X.performance)}catch(J){s["logger"].debug("Unable to use Performance API on this environment"),V=X.Date.now}var Q=function(){function t(t,e,n,i){this.observer=t,this.typeSupported=e,this.config=n,this.vendor=i}var e=t.prototype;return e.destroy=function(){var t=this.demuxer;t&&t.destroy()},e.push=function(t,e,n,r,o,s,l,c,u,d,h,f){var p=this;if(t.byteLength>0&&null!=e&&null!=e.key&&"AES-128"===e.method){var m=this.decrypter;null==m&&(m=this.decrypter=new a["default"](this.observer,this.config));var v=V();m.decrypt(t,e.key.buffer,e.iv.buffer,(function(t){var a=V();p.observer.trigger(i["default"].FRAG_DECRYPTED,{stats:{tstart:v,tdecrypt:a}}),p.pushDecrypted(new Uint8Array(t),e,new Uint8Array(n),r,o,s,l,c,u,d,h,f)}))}else this.pushDecrypted(new Uint8Array(t),e,new Uint8Array(n),r,o,s,l,c,u,d,h,f)},e.pushDecrypted=function(t,e,n,a,o,s,l,c,u,d,h,f){var p=this.demuxer;if(!p||(l||c)&&!this.probe(t)){for(var m=this.observer,v=this.typeSupported,g=this.config,y=[{demux:R,remux:W},{demux:S["default"],remux:Y},{demux:k,remux:W},{demux:I,remux:W}],b=0,w=y.length;b<w;b++){var x=y[b],T=x.demux.probe;if(T(t)){var E=this.remuxer=new x.remux(m,g,v,this.vendor);p=new x.demux(m,E,g,v),this.probe=T;break}}if(!p)return void m.trigger(i["default"].ERROR,{type:r["ErrorTypes"].MEDIA_ERROR,details:r["ErrorDetails"].FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});this.demuxer=p}var _=this.remuxer;(l||c)&&(p.resetInitSegment(n,a,o,d),_.resetInitSegment()),l&&(p.resetTimeStamp(f),_.resetTimeStamp(f)),"function"===typeof p.setDecryptData&&p.setDecryptData(e),p.append(t,s,u,h)},t}();e["default"]=Q},"./src/demux/demuxer-worker.js":
/*!*************************************!*\
  !*** ./src/demux/demuxer-worker.js ***!
  \*************************************/
/*! exports provided: default */
/*! ModuleConcatenation bailout: Module is referenced from these modules with unsupported syntax: ./src/demux/demuxer.js (referenced with require.resolve) */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../demux/demuxer-inline */"./src/demux/demuxer-inline.js"),r=n(/*! ../events */"./src/events.js"),a=n(/*! ../utils/logger */"./src/utils/logger.js"),o=n(/*! eventemitter3 */"./node_modules/eventemitter3/index.js"),s=function(t){var e=new o["EventEmitter"];e.trigger=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.emit.apply(e,[t,t].concat(i))},e.off=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.removeListener.apply(e,[t].concat(i))};var n=function(e,n){t.postMessage({event:e,data:n})};t.addEventListener("message",(function(r){var o=r.data;switch(o.cmd){case"init":var s=JSON.parse(o.config);t.demuxer=new i["default"](e,o.typeSupported,s,o.vendor),Object(a["enableLogs"])(s.debug),n("init",null);break;case"demux":t.demuxer.push(o.data,o.decryptdata,o.initSegment,o.audioCodec,o.videoCodec,o.timeOffset,o.discontinuity,o.trackSwitch,o.contiguous,o.duration,o.accurateTimeOffset,o.defaultInitPTS);break;default:break}})),e.on(r["default"].FRAG_DECRYPTED,n),e.on(r["default"].FRAG_PARSING_INIT_SEGMENT,n),e.on(r["default"].FRAG_PARSED,n),e.on(r["default"].ERROR,n),e.on(r["default"].FRAG_PARSING_METADATA,n),e.on(r["default"].FRAG_PARSING_USERDATA,n),e.on(r["default"].INIT_PTS_FOUND,n),e.on(r["default"].FRAG_PARSING_DATA,(function(e,n){var i=[],r={event:e,data:n};n.data1&&(r.data1=n.data1.buffer,i.push(n.data1.buffer),delete n.data1),n.data2&&(r.data2=n.data2.buffer,i.push(n.data2.buffer),delete n.data2),t.postMessage(r,i)}))};e["default"]=s},"./src/demux/id3.js":
/*!**************************!*\
  !*** ./src/demux/id3.js ***!
  \**************************/
/*! exports provided: default, utf8ArrayToStr */function(t,e,n){"use strict";n.r(e),n.d(e,"utf8ArrayToStr",(function(){return s}));var i,r=n(/*! ../utils/get-self-scope */"./src/utils/get-self-scope.js"),a=function(){function t(){}return t.isHeader=function(t,e){return e+10<=t.length&&73===t[e]&&68===t[e+1]&&51===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},t.isFooter=function(t,e){return e+10<=t.length&&51===t[e]&&68===t[e+1]&&73===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128},t.getID3Data=function(e,n){var i=n,r=0;while(t.isHeader(e,n)){r+=10;var a=t._readSize(e,n+6);r+=a,t.isFooter(e,n+10)&&(r+=10),n+=r}if(r>0)return e.subarray(i,i+r)},t._readSize=function(t,e){var n=0;return n=(127&t[e])<<21,n|=(127&t[e+1])<<14,n|=(127&t[e+2])<<7,n|=127&t[e+3],n},t.getTimeStamp=function(e){for(var n=t.getID3Frames(e),i=0;i<n.length;i++){var r=n[i];if(t.isTimeStampFrame(r))return t._readTimeStamp(r)}},t.isTimeStampFrame=function(t){return t&&"PRIV"===t.key&&"com.apple.streaming.transportStreamTimestamp"===t.info},t._getFrameData=function(e){var n=String.fromCharCode(e[0],e[1],e[2],e[3]),i=t._readSize(e,4),r=10;return{type:n,size:i,data:e.subarray(r,r+i)}},t.getID3Frames=function(e){var n=0,i=[];while(t.isHeader(e,n)){var r=t._readSize(e,n+6);n+=10;var a=n+r;while(n+8<a){var o=t._getFrameData(e.subarray(n)),s=t._decodeFrame(o);s&&i.push(s),n+=o.size+10}t.isFooter(e,n)&&(n+=10)}return i},t._decodeFrame=function(e){return"PRIV"===e.type?t._decodePrivFrame(e):"T"===e.type[0]?t._decodeTextFrame(e):"W"===e.type[0]?t._decodeURLFrame(e):void 0},t._readTimeStamp=function(t){if(8===t.data.byteLength){var e=new Uint8Array(t.data),n=1&e[3],i=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return i/=45,n&&(i+=47721858.84),Math.round(i)}},t._decodePrivFrame=function(e){if(!(e.size<2)){var n=t._utf8ArrayToStr(e.data,!0),i=new Uint8Array(e.data.subarray(n.length+1));return{key:e.type,info:n,data:i.buffer}}},t._decodeTextFrame=function(e){if(!(e.size<2)){if("TXXX"===e.type){var n=1,i=t._utf8ArrayToStr(e.data.subarray(n),!0);n+=i.length+1;var r=t._utf8ArrayToStr(e.data.subarray(n));return{key:e.type,info:i,data:r}}var a=t._utf8ArrayToStr(e.data.subarray(1));return{key:e.type,data:a}}},t._decodeURLFrame=function(e){if("WXXX"===e.type){if(e.size<2)return;var n=1,i=t._utf8ArrayToStr(e.data.subarray(n));n+=i.length+1;var r=t._utf8ArrayToStr(e.data.subarray(n));return{key:e.type,info:i,data:r}}var a=t._utf8ArrayToStr(e.data);return{key:e.type,data:a}},t._utf8ArrayToStr=function(t,e){void 0===e&&(e=!1);var n=o();if(n){var i=n.decode(t);if(e){var r=i.indexOf("\0");return-1!==r?i.substring(0,r):i}return i.replace(/\0/g,"")}var a,s,l,c=t.length,u="",d=0;while(d<c){if(a=t[d++],0===a&&e)return u;if(0!==a&&3!==a)switch(a>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:u+=String.fromCharCode(a);break;case 12:case 13:s=t[d++],u+=String.fromCharCode((31&a)<<6|63&s);break;case 14:s=t[d++],l=t[d++],u+=String.fromCharCode((15&a)<<12|(63&s)<<6|(63&l)<<0);break;default:}}return u},t}();function o(){var t=Object(r["getSelfScope"])();return i||"undefined"===typeof t.TextDecoder||(i=new t.TextDecoder("utf-8")),i}var s=a._utf8ArrayToStr;e["default"]=a},"./src/demux/mp4demuxer.js":
/*!*********************************!*\
  !*** ./src/demux/mp4demuxer.js ***!
  \*********************************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i=n(/*! ../utils/logger */"./src/utils/logger.js"),r=n(/*! ../events */"./src/events.js"),a=Math.pow(2,32)-1,o=function(){function t(t,e){this.observer=t,this.remuxer=e}var e=t.prototype;return e.resetTimeStamp=function(t){this.initPTS=t},e.resetInitSegment=function(e,n,i,a){if(e&&e.byteLength){var o=this.initData=t.parseInitSegment(e);null==n&&(n="mp4a.40.5"),null==i&&(i="avc1.42e01e");var s={};o.audio&&o.video?s.audiovideo={container:"video/mp4",codec:n+","+i,initSegment:a?e:null}:(o.audio&&(s.audio={container:"audio/mp4",codec:n,initSegment:a?e:null}),o.video&&(s.video={container:"video/mp4",codec:i,initSegment:a?e:null})),this.observer.trigger(r["default"].FRAG_PARSING_INIT_SEGMENT,{tracks:s})}else n&&(this.audioCodec=n),i&&(this.videoCodec=i)},t.probe=function(e){return t.findBox({data:e,start:0,end:Math.min(e.length,16384)},["moof"]).length>0},t.bin2str=function(t){return String.fromCharCode.apply(null,t)},t.readUint16=function(t,e){t.data&&(e+=t.start,t=t.data);var n=t[e]<<8|t[e+1];return n<0?65536+n:n},t.readUint32=function(t,e){t.data&&(e+=t.start,t=t.data);var n=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3];return n<0?4294967296+n:n},t.writeUint32=function(t,e,n){t.data&&(e+=t.start,t=t.data),t[e]=n>>24,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=255&n},t.findBox=function(e,n){var i,r,a,o,s,l,c,u=[];if(e.data?(l=e.start,o=e.end,e=e.data):(l=0,o=e.byteLength),!n.length)return null;for(i=l;i<o;)r=t.readUint32(e,i),a=t.bin2str(e.subarray(i+4,i+8)),c=r>1?i+r:o,a===n[0]&&(1===n.length?u.push({data:e,start:i+8,end:c}):(s=t.findBox({data:e,start:i+8,end:c},n.slice(1)),s.length&&(u=u.concat(s)))),i=c;return u},t.parseSegmentIndex=function(e){var n,i=t.findBox(e,["moov"])[0],r=i?i.end:null,a=0,o=t.findBox(e,["sidx"]);if(!o||!o[0])return null;n=[],o=o[0];var s=o.data[0];a=0===s?8:16;var l=t.readUint32(o,a);a+=4;var c=0,u=0;a+=0===s?8:16,a+=2;var d=o.end+u,h=t.readUint16(o,a);a+=2;for(var f=0;f<h;f++){var p=a,m=t.readUint32(o,p);p+=4;var v=2147483647&m,g=(2147483648&m)>>>31;if(1===g)return void console.warn("SIDX has hierarchical references (not supported)");var y=t.readUint32(o,p);p+=4,n.push({referenceSize:v,subsegmentDuration:y,info:{duration:y/l,start:d,end:d+v-1}}),d+=v,p+=4,a=p}return{earliestPresentationTime:c,timescale:l,version:s,referencesCount:h,references:n,moovEndOffset:r}},t.parseInitSegment=function(e){var n=[],r=t.findBox(e,["moov","trak"]);return r.forEach((function(e){var r=t.findBox(e,["tkhd"])[0];if(r){var a=r.data[r.start],o=0===a?12:20,s=t.readUint32(r,o),l=t.findBox(e,["mdia","mdhd"])[0];if(l){a=l.data[l.start],o=0===a?12:20;var c=t.readUint32(l,o),u=t.findBox(e,["mdia","hdlr"])[0];if(u){var d=t.bin2str(u.data.subarray(u.start+8,u.start+12)),h={soun:"audio",vide:"video"}[d];if(h){var f=t.findBox(e,["mdia","minf","stbl","stsd"]);if(f.length){f=f[0];var p=t.bin2str(f.data.subarray(f.start+12,f.start+16));i["logger"].log("MP4Demuxer:"+h+":"+p+" found")}n[s]={timescale:c,type:h},n[h]={timescale:c,id:s}}}}}})),n},t.getStartDTS=function(e,n){var i,r,a;return i=t.findBox(n,["moof","traf"]),r=[].concat.apply([],i.map((function(n){return t.findBox(n,["tfhd"]).map((function(i){var r,a,o;return r=t.readUint32(i,4),a=e[r].timescale||9e4,o=t.findBox(n,["tfdt"]).map((function(e){var n,i;return n=e.data[e.start],i=t.readUint32(e,4),1===n&&(i*=Math.pow(2,32),i+=t.readUint32(e,8)),i}))[0],o/a}))}))),a=Math.min.apply(null,r),isFinite(a)?a:0},t.offsetStartDTS=function(e,n,i){t.findBox(n,["moof","traf"]).map((function(n){return t.findBox(n,["tfhd"]).map((function(r){var o=t.readUint32(r,4),s=e[o].timescale||9e4;t.findBox(n,["tfdt"]).map((function(e){var n=e.data[e.start],r=t.readUint32(e,4);if(0===n)t.writeUint32(e,4,r-i*s);else{r*=Math.pow(2,32),r+=t.readUint32(e,8),r-=i*s,r=Math.max(r,0);var o=Math.floor(r/(a+1)),l=Math.floor(r%(a+1));t.writeUint32(e,4,o),t.writeUint32(e,8,l)}}))}))}))},e.append=function(e,n,i,a){var o=this.initData;o||(this.resetInitSegment(e,this.audioCodec,this.videoCodec,!1),o=this.initData);var s,l=this.initPTS;if(void 0===l){var c=t.getStartDTS(o,e);this.initPTS=l=c-n,this.observer.trigger(r["default"].INIT_PTS_FOUND,{initPTS:l})}t.offsetStartDTS(o,e,l),s=t.getStartDTS(o,e),this.remuxer.remux(o.audio,o.video,null,null,s,i,a,e)},e.destroy=function(){},t}();e["default"]=o},"./src/errors.ts":
/*!***********************!*\
  !*** ./src/errors.ts ***!
  \***********************/
/*! exports provided: ErrorTypes, ErrorDetails */function(t,e,n){"use strict";var i,r;n.r(e),n.d(e,"ErrorTypes",(function(){return i})),n.d(e,"ErrorDetails",(function(){return r})),function(t){t["NETWORK_ERROR"]="networkError",t["MEDIA_ERROR"]="mediaError",t["KEY_SYSTEM_ERROR"]="keySystemError",t["MUX_ERROR"]="muxError",t["OTHER_ERROR"]="otherError"}(i||(i={})),function(t){t["KEY_SYSTEM_NO_KEYS"]="keySystemNoKeys",t["KEY_SYSTEM_NO_ACCESS"]="keySystemNoAccess",t["KEY_SYSTEM_NO_SESSION"]="keySystemNoSession",t["KEY_SYSTEM_LICENSE_REQUEST_FAILED"]="keySystemLicenseRequestFailed",t["KEY_SYSTEM_NO_INIT_DATA"]="keySystemNoInitData",t["MANIFEST_LOAD_ERROR"]="manifestLoadError",t["MANIFEST_LOAD_TIMEOUT"]="manifestLoadTimeOut",t["MANIFEST_PARSING_ERROR"]="manifestParsingError",t["MANIFEST_INCOMPATIBLE_CODECS_ERROR"]="manifestIncompatibleCodecsError",t["LEVEL_EMPTY_ERROR"]="levelEmptyError",t["LEVEL_LOAD_ERROR"]="levelLoadError",t["LEVEL_LOAD_TIMEOUT"]="levelLoadTimeOut",t["LEVEL_SWITCH_ERROR"]="levelSwitchError",t["AUDIO_TRACK_LOAD_ERROR"]="audioTrackLoadError",t["AUDIO_TRACK_LOAD_TIMEOUT"]="audioTrackLoadTimeOut",t["FRAG_LOAD_ERROR"]="fragLoadError",t["FRAG_LOAD_TIMEOUT"]="fragLoadTimeOut",t["FRAG_DECRYPT_ERROR"]="fragDecryptError",t["FRAG_PARSING_ERROR"]="fragParsingError",t["REMUX_ALLOC_ERROR"]="remuxAllocError",t["KEY_LOAD_ERROR"]="keyLoadError",t["KEY_LOAD_TIMEOUT"]="keyLoadTimeOut",t["BUFFER_ADD_CODEC_ERROR"]="bufferAddCodecError",t["BUFFER_APPEND_ERROR"]="bufferAppendError",t["BUFFER_APPENDING_ERROR"]="bufferAppendingError",t["BUFFER_STALLED_ERROR"]="bufferStalledError",t["BUFFER_FULL_ERROR"]="bufferFullError",t["BUFFER_SEEK_OVER_HOLE"]="bufferSeekOverHole",t["BUFFER_NUDGE_ON_STALL"]="bufferNudgeOnStall",t["INTERNAL_EXCEPTION"]="internalException"}(r||(r={}))},"./src/events.js":
/*!***********************!*\
  !*** ./src/events.js ***!
  \***********************/
/*! exports provided: default */function(t,e,n){"use strict";n.r(e);var i={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",LEVELS_UPDATED:"hlsLevelsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",CUES_PARSED:"hlsCuesParsed",NON_NATIVE_TEXT_TRACKS_FOUND:"hlsNonNativeTextTracksFound",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition",LIVE_BACK_BUFFER_REACHED:"hlsLiveBackBufferReached"};e["default"]=i},"./src/hls.ts":
/*!*********************************!*\
  !*** ./src/hls.ts + 50 modules ***!
  \*********************************/
/*! exports provided: default */
/*! ModuleConcatenation bailout: Cannot concat with ./src/crypt/decrypter.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/demux/demuxer-inline.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/demux/id3.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/demux/mp4demuxer.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/errors.ts because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/events.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/polyfills/number.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/get-self-scope.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./src/utils/logger.js because of ./src/demux/demuxer-worker.js */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/eventemitter3/index.js (<- Module is not an ECMAScript module) */
/*! ModuleConcatenation bailout: Cannot concat with ./node_modules/url-toolkit/src/url-toolkit.js (<- Module is not an ECMAScript module) */function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return Oi}));var i={};n.r(i),n.d(i,"newCue",(function(){return dn}));var r,a,o=n("./node_modules/url-toolkit/src/url-toolkit.js"),s=n("./src/errors.ts"),l=n("./src/polyfills/number.js"),c=n("./src/events.js"),u=n("./src/utils/logger.js"),d={hlsEventGeneric:!0,hlsHandlerDestroying:!0,hlsHandlerDestroyed:!0},h=function(){function t(t){this.hls=void 0,this.handledEvents=void 0,this.useGenericHandler=void 0,this.hls=t,this.onEvent=this.onEvent.bind(this);for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];this.handledEvents=n,this.useGenericHandler=!0,this.registerListeners()}var e=t.prototype;return e.destroy=function(){this.onHandlerDestroying(),this.unregisterListeners(),this.onHandlerDestroyed()},e.onHandlerDestroying=function(){},e.onHandlerDestroyed=function(){},e.isEventHandler=function(){return"object"===typeof this.handledEvents&&this.handledEvents.length&&"function"===typeof this.onEvent},e.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach((function(t){if(d[t])throw new Error("Forbidden event-name: "+t);this.hls.on(t,this.onEvent)}),this)},e.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach((function(t){this.hls.off(t,this.onEvent)}),this)},e.onEvent=function(t,e){this.onEventGeneric(t,e)},e.onEventGeneric=function(t,e){var n=function(t,e){var n="on"+t.replace("hls","");if("function"!==typeof this[n])throw new Error("Event "+t+" has no generic handler in this "+this.constructor.name+" class (tried "+n+")");return this[n].bind(this,e)};try{n.call(this,t,e).call()}catch(i){u["logger"].error("An internal error happened while handling event "+t+'. Error message: "'+i.message+'". Here is a stacktrace:',i),this.hls.trigger(c["default"].ERROR,{type:s["ErrorTypes"].OTHER_ERROR,details:s["ErrorDetails"].INTERNAL_EXCEPTION,fatal:!1,event:t,err:i})}},t}(),f=h;(function(t){t["MANIFEST"]="manifest",t["LEVEL"]="level",t["AUDIO_TRACK"]="audioTrack",t["SUBTITLE_TRACK"]="subtitleTrack"})(r||(r={})),function(t){t["MAIN"]="main",t["AUDIO"]="audio",t["SUBTITLE"]="subtitle"}(a||(a={}));var p=n("./src/demux/mp4demuxer.js");function m(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function v(t,e,n){return e&&m(t.prototype,e),n&&m(t,n),t}var g,y=function(){function t(t,e){this._uri=null,this.baseuri=void 0,this.reluri=void 0,this.method=null,this.key=null,this.iv=null,this.baseuri=t,this.reluri=e}return v(t,[{key:"uri",get:function(){return!this._uri&&this.reluri&&(this._uri=Object(o["buildAbsoluteURL"])(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri}}]),t}();function b(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function w(t,e,n){return e&&b(t.prototype,e),n&&b(t,n),t}(function(t){t["AUDIO"]="audio",t["VIDEO"]="video"})(g||(g={}));var k=function(){function t(){var t;this._url=null,this._byteRange=null,this._decryptdata=null,this._elementaryStreams=(t={},t[g.AUDIO]=!1,t[g.VIDEO]=!1,t),this.deltaPTS=0,this.rawProgramDateTime=null,this.programDateTime=null,this.title=null,this.tagList=[],this.cc=void 0,this.type=void 0,this.relurl=void 0,this.baseurl=void 0,this.duration=void 0,this.start=void 0,this.sn=0,this.urlId=0,this.level=0,this.levelkey=void 0,this.loader=void 0}var e=t.prototype;return e.setByteRange=function(t,e){var n=t.split("@",2),i=[];1===n.length?i[0]=e?e.byteRangeEndOffset:0:i[0]=parseInt(n[1]),i[1]=parseInt(n[0])+i[0],this._byteRange=i},e.addElementaryStream=function(t){this._elementaryStreams[t]=!0},e.hasElementaryStream=function(t){return!0===this._elementaryStreams[t]},e.createInitializationVector=function(t){for(var e=new Uint8Array(16),n=12;n<16;n++)e[n]=t>>8*(15-n)&255;return e},e.setDecryptDataFromLevelKey=function(t,e){var n=t;return(null===t||void 0===t?void 0:t.method)&&t.uri&&!t.iv&&(n=new y(t.baseuri,t.reluri),n.method=t.method,n.iv=this.createInitializationVector(e)),n},w(t,[{key:"url",get:function(){return!this._url&&this.relurl&&(this._url=Object(o["buildAbsoluteURL"])(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(t){this._url=t}},{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"decryptdata",get:function(){if(!this.levelkey&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkey){var t=this.sn;"number"!==typeof t&&(this.levelkey&&"AES-128"===this.levelkey.method&&!this.levelkey.iv&&u["logger"].warn('missing IV for initialization segment with method="'+this.levelkey.method+'" - compliance issue'),t=0),this._decryptdata=this.setDecryptDataFromLevelKey(this.levelkey,t)}return this._decryptdata}},{key:"endProgramDateTime",get:function(){if(null===this.programDateTime)return null;if(!Object(l["isFiniteNumber"])(this.programDateTime))return null;var t=Object(l["isFiniteNumber"])(this.duration)?this.duration:0;return this.programDateTime+1e3*t}},{key:"encrypted",get:function(){return!(!this.decryptdata||null===this.decryptdata.uri||null!==this.decryptdata.key)}}]),t}();function S(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function x(t,e,n){return e&&S(t.prototype,e),n&&S(t,n),t}var T=function(){function t(t){this.endCC=0,this.endSN=0,this.fragments=[],this.initSegment=null,this.live=!0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=t,this.version=null}return x(t,[{key:"hasProgramDateTime",get:function(){return!(!this.fragments[0]||!Object(l["isFiniteNumber"])(this.fragments[0].programDateTime))}}]),t}(),E=/^(\d+)x(\d+)$/,_=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,A=function(){function t(e){for(var n in"string"===typeof e&&(e=t.parseAttrList(e)),e)e.hasOwnProperty(n)&&(this[n]=e[n])}var e=t.prototype;return e.decimalInteger=function(t){var e=parseInt(this[t],10);return e>Number.MAX_SAFE_INTEGER?1/0:e},e.hexadecimalInteger=function(t){if(this[t]){var e=(this[t]||"0x").slice(2);e=(1&e.length?"0":"")+e;for(var n=new Uint8Array(e.length/2),i=0;i<e.length/2;i++)n[i]=parseInt(e.slice(2*i,2*i+2),16);return n}return null},e.hexadecimalIntegerAsNumber=function(t){var e=parseInt(this[t],16);return e>Number.MAX_SAFE_INTEGER?1/0:e},e.decimalFloatingPoint=function(t){return parseFloat(this[t])},e.enumeratedString=function(t){return this[t]},e.decimalResolution=function(t){var e=E.exec(this[t]);if(null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}},t.parseAttrList=function(t){var e,n={};_.lastIndex=0;while(null!==(e=_.exec(t))){var i=e[2],r='"';0===i.indexOf(r)&&i.lastIndexOf(r)===i.length-1&&(i=i.slice(1,-1)),n[e[1]]=i}return n},t}(),C=A,O={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}};function L(t,e){var n=O[e];return!!n&&!0===n[t.slice(0,4)]}function R(t,e){return MediaSource.isTypeSupported((e||"video")+'/mp4;codecs="'+t+'"')}var D=/(?:#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)|#EXT-X-SESSION-DATA:([^\n\r]*)[\r\n]+)/g,I=/#EXT-X-MEDIA:(.*)/g,P=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)([\S+ ?]+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),M=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)([^:]*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,F=/\.(mp4|m4s|m4v|m4a)$/i,B=function(){function t(){}return t.findGroup=function(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(i.id===e)return i}},t.convertAVC1ToAVCOTI=function(t){var e,n=t.split(".");return n.length>2?(e=n.shift()+".",e+=parseInt(n.shift()).toString(16),e+=("000"+parseInt(n.shift()).toString(16)).substr(-4)):e=t,e},t.resolve=function(t,e){return o["buildAbsoluteURL"](e,t,{alwaysNormalize:!0})},t.parseMasterPlaylist=function(e,n){var i,r=[],a={},o=!1;function s(t,e){["video","audio"].forEach((function(n){var i=t.filter((function(t){return L(t,n)}));if(i.length){var r=i.filter((function(t){return 0===t.lastIndexOf("avc1",0)||0===t.lastIndexOf("mp4a",0)}));e[n+"Codec"]=r.length>0?r[0]:i[0],t=t.filter((function(t){return-1===i.indexOf(t)}))}})),e.unknownCodecs=t}D.lastIndex=0;while(null!=(i=D.exec(e)))if(i[1]){var l={},c=l.attrs=new C(i[1]);l.url=t.resolve(i[2],n);var u=c.decimalResolution("RESOLUTION");u&&(l.width=u.width,l.height=u.height),l.bitrate=c.decimalInteger("AVERAGE-BANDWIDTH")||c.decimalInteger("BANDWIDTH"),l.name=c.NAME,s([].concat((c.CODECS||"").split(/[ ,]+/)),l),l.videoCodec&&-1!==l.videoCodec.indexOf("avc1")&&(l.videoCodec=t.convertAVC1ToAVCOTI(l.videoCodec)),r.push(l)}else if(i[3]){var d=new C(i[3]);d["DATA-ID"]&&(o=!0,a[d["DATA-ID"]]=d)}return{levels:r,sessionData:o?a:null}},t.parseMasterPlaylistMedia=function(e,n,i,r){var a;void 0===r&&(r=[]);var o=[],s=0;I.lastIndex=0;while(null!==(a=I.exec(e))){var l=new C(a[1]);if(l.TYPE===i){var c={attrs:l,id:s++,groupId:l["GROUP-ID"],instreamId:l["INSTREAM-ID"],name:l.NAME||l.LANGUAGE,type:i,default:"YES"===l.DEFAULT,autoselect:"YES"===l.AUTOSELECT,forced:"YES"===l.FORCED,lang:l.LANGUAGE};if(l.URI&&(c.url=t.resolve(l.URI,n)),r.length){var u=t.findGroup(r,c.groupId);c.audioCodec=u?u.codec:r[0].codec}o.push(c)}}return o},t.parseLevelPlaylist=function(t,e,n,i,r){var a,o,s,c=0,d=0,h=new T(e),f=0,p=null,m=new k,v=null;P.lastIndex=0;while(null!==(a=P.exec(t))){var g=a[1];if(g){m.duration=parseFloat(g);var b=(" "+a[2]).slice(1);m.title=b||null,m.tagList.push(b?["INF",g,b]:["INF",g])}else if(a[3]){if(Object(l["isFiniteNumber"])(m.duration)){var w=c++;m.type=i,m.start=d,s&&(m.levelkey=s),m.sn=w,m.level=n,m.cc=f,m.urlId=r,m.baseurl=e,m.relurl=(" "+a[3]).slice(1),j(m,p),h.fragments.push(m),p=m,d+=m.duration,m=new k}}else if(a[4]){var S=(" "+a[4]).slice(1);p?m.setByteRange(S,p):m.setByteRange(S)}else if(a[5])m.rawProgramDateTime=(" "+a[5]).slice(1),m.tagList.push(["PROGRAM-DATE-TIME",m.rawProgramDateTime]),null===v&&(v=h.fragments.length);else{if(a=a[0].match(M),!a){u["logger"].warn("No matches on slow regex match for level playlist!");continue}for(o=1;o<a.length;o++)if("undefined"!==typeof a[o])break;var x=(" "+a[o+1]).slice(1),E=(" "+a[o+2]).slice(1);switch(a[o]){case"#":m.tagList.push(E?[x,E]:[x]);break;case"PLAYLIST-TYPE":h.type=x.toUpperCase();break;case"MEDIA-SEQUENCE":c=h.startSN=parseInt(x);break;case"TARGETDURATION":h.targetduration=parseFloat(x);break;case"VERSION":h.version=parseInt(x);break;case"EXTM3U":break;case"ENDLIST":h.live=!1;break;case"DIS":f++,m.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":f=parseInt(x);break;case"KEY":var _=x,A=new C(_),O=A.enumeratedString("METHOD"),L=A.URI,R=A.hexadecimalInteger("IV"),D=A.KEYFORMAT||"identity";if("com.apple.streamingkeydelivery"===D){u["logger"].warn("Keyformat com.apple.streamingkeydelivery is not supported");continue}O&&(s=new y(e,L),L&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(O)>=0&&(s.method=O,s.key=null,s.iv=R));break;case"START":var I=new C(x),B=I.decimalFloatingPoint("TIME-OFFSET");Object(l["isFiniteNumber"])(B)&&(h.startTimeOffset=B);break;case"MAP":var $=new C(x);m.relurl=$.URI,$.BYTERANGE&&m.setByteRange($.BYTERANGE),m.baseurl=e,m.level=n,m.type=i,m.sn="initSegment",h.initSegment=m,m=new k,m.rawProgramDateTime=h.initSegment.rawProgramDateTime;break;default:u["logger"].warn("line parsed but not handled: "+a);break}}}return m=p,m&&!m.relurl&&(h.fragments.pop(),d-=m.duration),h.totalduration=d,h.averagetargetduration=d/h.fragments.length,h.endSN=c-1,h.startCC=h.fragments[0]?h.fragments[0].cc:0,h.endCC=f,!h.initSegment&&h.fragments.length&&h.fragments.every((function(t){return F.test(t.relurl)}))&&(u["logger"].warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),m=new k,m.relurl=h.fragments[0].relurl,m.baseurl=e,m.level=n,m.type=i,m.sn="initSegment",h.initSegment=m,h.needSidxRanges=!0),v&&N(h.fragments,v),h},t}();function N(t,e){for(var n=t[e],i=e-1;i>=0;i--){var r=t[i];r.programDateTime=n.programDateTime-1e3*r.duration,n=r}}function j(t,e){t.rawProgramDateTime?t.programDateTime=Date.parse(t.rawProgramDateTime):(null===e||void 0===e?void 0:e.programDateTime)&&(t.programDateTime=e.endProgramDateTime),Object(l["isFiniteNumber"])(t.programDateTime)||(t.programDateTime=null,t.rawProgramDateTime=null)}function $(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var U=window,z=U.performance,V=function(t){function e(e){var n;return n=t.call(this,e,c["default"].MANIFEST_LOADING,c["default"].LEVEL_LOADING,c["default"].AUDIO_TRACK_LOADING,c["default"].SUBTITLE_TRACK_LOADING)||this,n.loaders={},n}$(e,t),e.canHaveQualityLevels=function(t){return t!==r.AUDIO_TRACK&&t!==r.SUBTITLE_TRACK},e.mapContextToLevelType=function(t){var e=t.type;switch(e){case r.AUDIO_TRACK:return a.AUDIO;case r.SUBTITLE_TRACK:return a.SUBTITLE;default:return a.MAIN}},e.getResponseUrl=function(t,e){var n=t.url;return void 0!==n&&0!==n.indexOf("data:")||(n=e.url),n};var n=e.prototype;return n.createInternalLoader=function(t){var e=this.hls.config,n=e.pLoader,i=e.loader,r=n||i,a=new r(e);return t.loader=a,this.loaders[t.type]=a,a},n.getInternalLoader=function(t){return this.loaders[t.type]},n.resetInternalLoader=function(t){this.loaders[t]&&delete this.loaders[t]},n.destroyInternalLoaders=function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy(),this.resetInternalLoader(t)}},n.destroy=function(){this.destroyInternalLoaders(),t.prototype.destroy.call(this)},n.onManifestLoading=function(t){this.load({url:t.url,type:r.MANIFEST,level:0,id:null,responseType:"text"})},n.onLevelLoading=function(t){this.load({url:t.url,type:r.LEVEL,level:t.level,id:t.id,responseType:"text"})},n.onAudioTrackLoading=function(t){this.load({url:t.url,type:r.AUDIO_TRACK,level:null,id:t.id,responseType:"text"})},n.onSubtitleTrackLoading=function(t){this.load({url:t.url,type:r.SUBTITLE_TRACK,level:null,id:t.id,responseType:"text"})},n.load=function(t){var e=this.hls.config;u["logger"].debug("Loading playlist of type "+t.type+", level: "+t.level+", id: "+t.id);var n,i,a,o,s=this.getInternalLoader(t);if(s){var l=s.context;if(l&&l.url===t.url)return u["logger"].trace("playlist request ongoing"),!1;u["logger"].warn("aborting previous loader for type: "+t.type),s.abort()}switch(t.type){case r.MANIFEST:n=e.manifestLoadingMaxRetry,i=e.manifestLoadingTimeOut,a=e.manifestLoadingRetryDelay,o=e.manifestLoadingMaxRetryTimeout;break;case r.LEVEL:n=0,o=0,a=0,i=e.levelLoadingTimeOut;break;default:n=e.levelLoadingMaxRetry,i=e.levelLoadingTimeOut,a=e.levelLoadingRetryDelay,o=e.levelLoadingMaxRetryTimeout;break}s=this.createInternalLoader(t);var c={timeout:i,maxRetry:n,retryDelay:a,maxRetryDelay:o},d={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};return u["logger"].debug("Calling internal loader delegate for URL: "+t.url),s.load(t,c,d),!0},n.loadsuccess=function(t,e,n,i){if(void 0===i&&(i=null),n.isSidxRequest)return this._handleSidxRequest(t,n),void this._handlePlaylistLoaded(t,e,n,i);if(this.resetInternalLoader(n.type),"string"!==typeof t.data)throw new Error('expected responseType of "text" for PlaylistLoader');var r=t.data;e.tload=z.now(),0===r.indexOf("#EXTM3U")?r.indexOf("#EXTINF:")>0||r.indexOf("#EXT-X-TARGETDURATION:")>0?this._handleTrackOrLevelPlaylist(t,e,n,i):this._handleMasterPlaylist(t,e,n,i):this._handleManifestParsingError(t,n,"no EXTM3U delimiter",i)},n.loaderror=function(t,e,n){void 0===n&&(n=null),this._handleNetworkError(e,n,!1,t)},n.loadtimeout=function(t,e,n){void 0===n&&(n=null),this._handleNetworkError(e,n,!0)},n._handleMasterPlaylist=function(t,n,i,r){var a=this.hls,o=t.data,s=e.getResponseUrl(t,i),l=B.parseMasterPlaylist(o,s),d=l.levels,h=l.sessionData;if(d.length){var f=d.map((function(t){return{id:t.attrs.AUDIO,codec:t.audioCodec}})),p=B.parseMasterPlaylistMedia(o,s,"AUDIO",f),m=B.parseMasterPlaylistMedia(o,s,"SUBTITLES"),v=B.parseMasterPlaylistMedia(o,s,"CLOSED-CAPTIONS");if(p.length){var g=!1;p.forEach((function(t){t.url||(g=!0)})),!1===g&&d[0].audioCodec&&!d[0].attrs.AUDIO&&(u["logger"].log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),p.unshift({type:"main",name:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:{},url:""}))}a.trigger(c["default"].MANIFEST_LOADED,{levels:d,audioTracks:p,subtitles:m,captions:v,url:s,stats:n,networkDetails:r,sessionData:h})}else this._handleManifestParsingError(t,i,"no level found in manifest",r)},n._handleTrackOrLevelPlaylist=function(t,n,i,a){var o=this.hls,u=i.id,d=i.level,h=i.type,f=e.getResponseUrl(t,i),p=Object(l["isFiniteNumber"])(u)?u:0,m=Object(l["isFiniteNumber"])(d)?d:p,v=e.mapContextToLevelType(i),g=B.parseLevelPlaylist(t.data,f,m,v,p);if(g.tload=n.tload,g.fragments.length){if(h===r.MANIFEST){var y={url:f,details:g};o.trigger(c["default"].MANIFEST_LOADED,{levels:[y],audioTracks:[],url:f,stats:n,networkDetails:a,sessionData:null})}if(n.tparsed=z.now(),g.needSidxRanges){var b=g.initSegment.url;this.load({url:b,isSidxRequest:!0,type:h,level:d,levelDetails:g,id:u,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer"})}else i.levelDetails=g,this._handlePlaylistLoaded(t,n,i,a)}else o.trigger(c["default"].ERROR,{type:s["ErrorTypes"].NETWORK_ERROR,details:s["ErrorDetails"].LEVEL_EMPTY_ERROR,fatal:!1,url:f,reason:"no fragments found in level",level:"number"===typeof i.level?i.level:void 0})},n._handleSidxRequest=function(t,e){if("string"===typeof t.data)throw new Error("sidx request must be made with responseType of array buffer");var n=p["default"].parseSegmentIndex(new Uint8Array(t.data));if(n){var i=n.references,r=e.levelDetails;i.forEach((function(t,e){var n=t.info;if(r){var i=r.fragments[e];0===i.byteRange.length&&i.setByteRange(String(1+n.end-n.start)+"@"+String(n.start))}})),r&&r.initSegment.setByteRange(String(n.moovEndOffset)+"@0")}},n._handleManifestParsingError=function(t,e,n,i){this.hls.trigger(c["default"].ERROR,{type:s["ErrorTypes"].NETWORK_ERROR,details:s["ErrorDetails"].MANIFEST_PARSING_ERROR,fatal:!0,url:t.url,reason:n,networkDetails:i})},n._handleNetworkError=function(t,e,n,i){var a,o;void 0===n&&(n=!1),void 0===i&&(i=null),u["logger"].info("A network error occured while loading a "+t.type+"-type playlist");var l=this.getInternalLoader(t);switch(t.type){case r.MANIFEST:a=n?s["ErrorDetails"].MANIFEST_LOAD_TIMEOUT:s["ErrorDetails"].MANIFEST_LOAD_ERROR,o=!0;break;case r.LEVEL:a=n?s["ErrorDetails"].LEVEL_LOAD_TIMEOUT:s["ErrorDetails"].LEVEL_LOAD_ERROR,o=!1;break;case r.AUDIO_TRACK:a=n?s["ErrorDetails"].AUDIO_TRACK_LOAD_TIMEOUT:s["ErrorDetails"].AUDIO_TRACK_LOAD_ERROR,o=!1;break;default:o=!1}l&&(l.abort(),this.resetInternalLoader(t.type));var d={type:s["ErrorTypes"].NETWORK_ERROR,details:a,fatal:o,url:t.url,loader:l,context:t,networkDetails:e};i&&(d.response=i),this.hls.trigger(c["default"].ERROR,d)},n._handlePlaylistLoaded=function(t,n,i,a){var o=i.type,s=i.level,l=i.id,u=i.levelDetails;if(u&&u.targetduration){var d=e.canHaveQualityLevels(i.type);if(d)this.hls.trigger(c["default"].LEVEL_LOADED,{details:u,level:s||0,id:l||0,stats:n,networkDetails:a});else switch(o){case r.AUDIO_TRACK:this.hls.trigger(c["default"].AUDIO_TRACK_LOADED,{details:u,id:l,stats:n,networkDetails:a});break;case r.SUBTITLE_TRACK:this.hls.trigger(c["default"].SUBTITLE_TRACK_LOADED,{details:u,id:l,stats:n,networkDetails:a});break}}else this._handleManifestParsingError(t,i,"invalid target duration",a)},e}(f),H=V;function q(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var G=function(t){function e(e){var n;return n=t.call(this,e,c["default"].FRAG_LOADING)||this,n.loaders={},n}q(e,t);var n=e.prototype;return n.destroy=function(){var e=this.loaders;for(var n in e){var i=e[n];i&&i.destroy()}this.loaders={},t.prototype.destroy.call(this)},n.onFragLoading=function(t){var e=t.frag,n=e.type,i=this.loaders,r=this.hls.config,a=r.fLoader,o=r.loader;e.loaded=0;var s,c,d,h=i[n];h&&(u["logger"].warn("abort previous fragment loader for type: "+n),h.abort()),h=i[n]=e.loader=r.fLoader?new a(r):new o(r),s={url:e.url,frag:e,responseType:"arraybuffer",progressData:!1};var f=e.byteRangeStartOffset,p=e.byteRangeEndOffset;Object(l["isFiniteNumber"])(f)&&Object(l["isFiniteNumber"])(p)&&(s.rangeStart=f,s.rangeEnd=p),c={timeout:r.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:r.fragLoadingMaxRetryTimeout},d={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},h.load(s,c,d)},n.loadsuccess=function(t,e,n,i){void 0===i&&(i=null);var r=t.data,a=n.frag;a.loader=void 0,this.loaders[a.type]=void 0,this.hls.trigger(c["default"].FRAG_LOADED,{payload:r,frag:a,stats:e,networkDetails:i})},n.loaderror=function(t,e,n){void 0===n&&(n=null);var i=e.frag,r=i.loader;r&&r.abort(),this.loaders[i.type]=void 0,this.hls.trigger(c["default"].ERROR,{type:s["ErrorTypes"].NETWORK_ERROR,details:s["ErrorDetails"].FRAG_LOAD_ERROR,fatal:!1,frag:e.frag,response:t,networkDetails:n})},n.loadtimeout=function(t,e,n){void 0===n&&(n=null);var i=e.frag,r=i.loader;r&&r.abort(),this.loaders[i.type]=void 0,this.hls.trigger(c["default"].ERROR,{type:s["ErrorTypes"].NETWORK_ERROR,details:s["ErrorDetails"].FRAG_LOAD_TIMEOUT,fatal:!1,frag:e.frag,networkDetails:n})},n.loadprogress=function(t,e,n,i){void 0===i&&(i=null);var r=e.frag;r.loaded=t.loaded,this.hls.trigger(c["default"].FRAG_LOAD_PROGRESS,{frag:r,stats:t,networkDetails:i})},e}(f),W=G;function K(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Y=function(t){function e(e){var n;return n=t.call(this,e,c["default"].KEY_LOADING)||this,n.loaders={},n.decryptkey=null,n.decrypturl=null,n}K(e,t);var n=e.prototype;return n.destroy=function(){for(var e in this.loaders){var n=this.loaders[e];n&&n.destroy()}this.loaders={},t.prototype.destroy.call(this)},n.onKeyLoading=function(t){var e=t.frag,n=e.type,i=this.loaders[n];if(e.decryptdata){var r=e.decryptdata.uri;if(r!==this.decrypturl||null===this.decryptkey){var a=this.hls.config;if(i&&(u["logger"].warn("abort previous key loader for type:"+n),i.abort()),!r)return void u["logger"].warn("key uri is falsy");e.loader=this.loaders[n]=new a.loader(a),this.decrypturl=r,this.decryptkey=null;var o={url:r,frag:e,responseType:"arraybuffer"},s={timeout:a.fragLoadingTimeOut,maxRetry:0,retryDelay:a.fragLoadingRetryDelay,maxRetryDelay:a.fragLoadingMaxRetryTimeout},l={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};e.loader.load(o,s,l)}else this.decryptkey&&(e.decryptdata.key=this.decryptkey,this.hls.trigger(c["default"].KEY_LOADED,{frag:e}))}else u["logger"].warn("Missing decryption data on fragment in onKeyLoading")},n.loadsuccess=function(t,e,n){var i=n.frag;i.decryptdata?(this.decryptkey=i.decryptdata.key=new Uint8Array(t.data),i.loader=void 0,delete this.loaders[i.type],this.hls.trigger(c["default"].KEY_LOADED,{frag:i})):u["logger"].error("after key load, decryptdata unset")},n.loaderror=function(t,e){var n=e.frag,i=n.loader;i&&i.abort(),delete this.loaders[n.type],this.hls.trigger(c["default"].ERROR,{type:s["ErrorTypes"].NETWORK_ERROR,details:s["ErrorDetails"].KEY_LOAD_ERROR,fatal:!1,frag:n,response:t})},n.loadtimeout=function(t,e){var n=e.frag,i=n.loader;i&&i.abort(),delete this.loaders[n.type],this.hls.trigger(c["default"].ERROR,{type:s["ErrorTypes"].NETWORK_ERROR,details:s["ErrorDetails"].KEY_LOAD_TIMEOUT,fatal:!1,frag:n})},e}(f),X=Y;function Q(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var J={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"},Z=function(t){function e(e){var n;return n=t.call(this,e,c["default"].BUFFER_APPENDED,c["default"].FRAG_BUFFERED,c["default"].FRAG_LOADED)||this,n.bufferPadding=.2,n.fragments=Object.create(null),n.timeRanges=Object.create(null),n.config=e.config,n}Q(e,t);var n=e.prototype;return n.destroy=function(){this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.config=null,f.prototype.destroy.call(this),t.prototype.destroy.call(this)},n.getBufferedFrag=function(t,e){var n=this.fragments,i=Object.keys(n).filter((function(i){var r=n[i];if(r.body.type!==e)return!1;if(!r.buffered)return!1;var a=r.body;return a.startPTS<=t&&t<=a.endPTS}));if(0===i.length)return null;var r=i.pop();return n[r].body},n.detectEvictedFragments=function(t,e){var n=this;Object.keys(this.fragments).forEach((function(i){var r=n.fragments[i];if(r&&r.buffered){var a=r.range[t];if(a)for(var o=a.time,s=0;s<o.length;s++){var l=o[s];if(!n.isTimeBuffered(l.startPTS,l.endPTS,e)){n.removeFragment(r.body);break}}}}))},n.detectPartialFragments=function(t){var e=this,n=this.getFragmentKey(t),i=this.fragments[n];i&&(i.buffered=!0,Object.keys(this.timeRanges).forEach((function(n){if(t.hasElementaryStream(n)){var r=e.timeRanges[n];i.range[n]=e.getBufferedTimes(t.startPTS,t.endPTS,r)}})))},n.getBufferedTimes=function(t,e,n){for(var i,r,a=[],o=!1,s=0;s<n.length;s++){if(i=n.start(s)-this.bufferPadding,r=n.end(s)+this.bufferPadding,t>=i&&e<=r){a.push({startPTS:Math.max(t,n.start(s)),endPTS:Math.min(e,n.end(s))});break}if(t<r&&e>i)a.push({startPTS:Math.max(t,n.start(s)),endPTS:Math.min(e,n.end(s))}),o=!0;else if(e<=i)break}return{time:a,partial:o}},n.getFragmentKey=function(t){return t.type+"_"+t.level+"_"+t.urlId+"_"+t.sn},n.getPartialFragment=function(t){var e,n,i,r=this,a=null,o=0;return Object.keys(this.fragments).forEach((function(s){var l=r.fragments[s];r.isPartial(l)&&(n=l.body.startPTS-r.bufferPadding,i=l.body.endPTS+r.bufferPadding,t>=n&&t<=i&&(e=Math.min(t-n,i-t),o<=e&&(a=l.body,o=e)))})),a},n.getState=function(t){var e=this.getFragmentKey(t),n=this.fragments[e],i=J.NOT_LOADED;return void 0!==n&&(i=n.buffered?!0===this.isPartial(n)?J.PARTIAL:J.OK:J.APPENDING),i},n.isPartial=function(t){return!0===t.buffered&&(void 0!==t.range.video&&!0===t.range.video.partial||void 0!==t.range.audio&&!0===t.range.audio.partial)},n.isTimeBuffered=function(t,e,n){for(var i,r,a=0;a<n.length;a++){if(i=n.start(a)-this.bufferPadding,r=n.end(a)+this.bufferPadding,t>=i&&e<=r)return!0;if(e<=i)return!1}return!1},n.onFragLoaded=function(t){var e=t.frag;Object(l["isFiniteNumber"])(e.sn)&&!e.bitrateTest&&(this.fragments[this.getFragmentKey(e)]={body:e,range:Object.create(null),buffered:!1})},n.onBufferAppended=function(t){var e=this;this.timeRanges=t.timeRanges,Object.keys(this.timeRanges).forEach((function(t){var n=e.timeRanges[t];e.detectEvictedFragments(t,n)}))},n.onFragBuffered=function(t){this.detectPartialFragments(t.frag)},n.hasFragment=function(t){var e=this.getFragmentKey(t);return void 0!==this.fragments[e]},n.removeFragment=function(t){var e=this.getFragmentKey(t);delete this.fragments[e]},n.removeAllFragments=function(){this.fragments=Object.create(null)},e}(f),tt={search:function(t,e){var n=0,i=t.length-1,r=null,a=null;while(n<=i){r=(n+i)/2|0,a=t[r];var o=e(a);if(o>0)n=r+1;else{if(!(o<0))return a;i=r-1}}return null}},et=tt,nt=function(){function t(){}return t.isBuffered=function(t,e){try{if(t)for(var n=t.buffered,i=0;i<n.length;i++)if(e>=n.start(i)&&e<=n.end(i))return!0}catch(r){}return!1},t.bufferInfo=function(t,e,n){try{if(t){var i,r=t.buffered,a=[];for(i=0;i<r.length;i++)a.push({start:r.start(i),end:r.end(i)});return this.bufferedInfo(a,e,n)}}catch(o){}return{len:0,start:e,end:e,nextStart:void 0}},t.bufferedInfo=function(t,e,n){t.sort((function(t,e){var n=t.start-e.start;return n||e.end-t.end}));var i=[];if(n)for(var r=0;r<t.length;r++){var a=i.length;if(a){var o=i[a-1].end;t[r].start-o<n?t[r].end>o&&(i[a-1].end=t[r].end):i.push(t[r])}else i.push(t[r])}else i=t;for(var s,l=0,c=e,u=e,d=0;d<i.length;d++){var h=i[d].start,f=i[d].end;if(e+n>=h&&e<f)c=h,u=f,l=u-e;else if(e+n<h){s=h;break}}return{len:l,start:c,end:u,nextStart:s}},t}(),it=n("./node_modules/eventemitter3/index.js"),rt=n("./node_modules/webworkify-webpack/index.js"),at=n("./src/demux/demuxer-inline.js");function ot(){return window.MediaSource||window.WebKitMediaSource}var st=n("./src/utils/get-self-scope.js");function lt(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var ct=function(t){function e(){return t.apply(this,arguments)||this}lt(e,t);var n=e.prototype;return n.trigger=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];this.emit.apply(this,[t,t].concat(n))},e}(it["EventEmitter"]),ut=Object(st["getSelfScope"])(),dt=ot()||{isTypeSupported:function(){return!1}},ht=function(){function t(t,e){var n=this;this.hls=t,this.id=e;var i=this.observer=new ct,r=t.config,a=function(e,i){i=i||{},i.frag=n.frag,i.id=n.id,t.trigger(e,i)};i.on(c["default"].FRAG_DECRYPTED,a),i.on(c["default"].FRAG_PARSING_INIT_SEGMENT,a),i.on(c["default"].FRAG_PARSING_DATA,a),i.on(c["default"].FRAG_PARSED,a),i.on(c["default"].ERROR,a),i.on(c["default"].FRAG_PARSING_METADATA,a),i.on(c["default"].FRAG_PARSING_USERDATA,a),i.on(c["default"].INIT_PTS_FOUND,a);var o={mp4:dt.isTypeSupported("video/mp4"),mpeg:dt.isTypeSupported("audio/mpeg"),mp3:dt.isTypeSupported('audio/mp4; codecs="mp3"')},l=navigator.vendor;if(r.enableWorker&&"undefined"!==typeof Worker){var d;u["logger"].log("demuxing in webworker");try{d=this.w=rt(/*! ../demux/demuxer-worker.js */"./src/demux/demuxer-worker.js"),this.onwmsg=this.onWorkerMessage.bind(this),d.addEventListener("message",this.onwmsg),d.onerror=function(e){t.trigger(c["default"].ERROR,{type:s["ErrorTypes"].OTHER_ERROR,details:s["ErrorDetails"].INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:e.message+" ("+e.filename+":"+e.lineno+")"}})},d.postMessage({cmd:"init",typeSupported:o,vendor:l,id:e,config:JSON.stringify(r)})}catch(h){u["logger"].warn("Error in worker:",h),u["logger"].error("Error while initializing DemuxerWorker, fallback on DemuxerInline"),d&&ut.URL.revokeObjectURL(d.objectURL),this.demuxer=new at["default"](i,o,r,l),this.w=void 0}}else this.demuxer=new at["default"](i,o,r,l)}var e=t.prototype;return e.destroy=function(){var t=this.w;if(t)t.removeEventListener("message",this.onwmsg),t.terminate(),this.w=null;else{var e=this.demuxer;e&&(e.destroy(),this.demuxer=null)}var n=this.observer;n&&(n.removeAllListeners(),this.observer=null)},e.push=function(t,e,n,i,r,a,o,s){var c=this.w,d=Object(l["isFiniteNumber"])(r.startPTS)?r.startPTS:r.start,h=r.decryptdata,f=this.frag,p=!(f&&r.cc===f.cc),m=!(f&&r.level===f.level),v=f&&r.sn===f.sn+1,g=!m&&v;if(p&&u["logger"].log(this.id+":discontinuity detected"),m&&u["logger"].log(this.id+":switch detected"),this.frag=r,c)c.postMessage({cmd:"demux",data:t,decryptdata:h,initSegment:e,audioCodec:n,videoCodec:i,timeOffset:d,discontinuity:p,trackSwitch:m,contiguous:g,duration:a,accurateTimeOffset:o,defaultInitPTS:s},t instanceof ArrayBuffer?[t]:[]);else{var y=this.demuxer;y&&y.push(t,h,e,n,i,d,p,m,g,a,o,s)}},e.onWorkerMessage=function(t){var e=t.data,n=this.hls;switch(e.event){case"init":ut.URL.revokeObjectURL(this.w.objectURL);break;case c["default"].FRAG_PARSING_DATA:e.data.data1=new Uint8Array(e.data1),e.data2&&(e.data.data2=new Uint8Array(e.data2));default:e.data=e.data||{},e.data.frag=this.frag,e.data.id=this.id,n.trigger(e.event,e.data);break}},t}(),ft=ht;function pt(t,e,n){switch(e){case"audio":t.audioGroupIds||(t.audioGroupIds=[]),t.audioGroupIds.push(n);break;case"text":t.textGroupIds||(t.textGroupIds=[]),t.textGroupIds.push(n);break}}function mt(t,e,n){var i=t[e],r=t[n],a=r.startPTS;Object(l["isFiniteNumber"])(a)?n>e?(i.duration=a-i.start,i.duration<0&&u["logger"].warn("negative duration computed for frag "+i.sn+",level "+i.level+", there should be some duration drift between playlist and fragment!")):(r.duration=i.start-a,r.duration<0&&u["logger"].warn("negative duration computed for frag "+r.sn+",level "+r.level+", there should be some duration drift between playlist and fragment!")):r.start=n>e?i.start+i.duration:Math.max(i.start-r.duration,0)}function vt(t,e,n,i,r,a){var o=n;if(Object(l["isFiniteNumber"])(e.startPTS)){var s=Math.abs(e.startPTS-n);Object(l["isFiniteNumber"])(e.deltaPTS)?e.deltaPTS=Math.max(s,e.deltaPTS):e.deltaPTS=s,o=Math.max(n,e.startPTS),n=Math.min(n,e.startPTS),i=Math.max(i,e.endPTS),r=Math.min(r,e.startDTS),a=Math.max(a,e.endDTS)}var c=n-e.start;e.start=e.startPTS=n,e.maxStartPTS=o,e.endPTS=i,e.startDTS=r,e.endDTS=a,e.duration=i-n;var u,d,h,f=e.sn;if(!t||f<t.startSN||f>t.endSN)return 0;for(u=f-t.startSN,d=t.fragments,d[u]=e,h=u;h>0;h--)mt(d,h,h-1);for(h=u;h<d.length-1;h++)mt(d,h,h+1);return t.PTSKnown=!0,c}function gt(t,e){e.initSegment&&t.initSegment&&(e.initSegment=t.initSegment);var n,i=0;if(bt(t,e,(function(t,r){i=t.cc-r.cc,Object(l["isFiniteNumber"])(t.startPTS)&&(r.start=r.startPTS=t.startPTS,r.endPTS=t.endPTS,r.duration=t.duration,r.backtracked=t.backtracked,r.dropped=t.dropped,n=r),e.PTSKnown=!0})),e.PTSKnown){if(i){u["logger"].log("discontinuity sliding from playlist, take drift into account");for(var r=e.fragments,a=0;a<r.length;a++)r[a].cc+=i}n?vt(e,n,n.startPTS,n.endPTS,n.startDTS,n.endDTS):wt(t,e),e.PTSKnown=t.PTSKnown}}function yt(t,e,n){void 0===n&&(n=0);var i=-1;bt(t,e,(function(t,e,n){e.start=t.start,i=n}));var r=e.fragments;if(i<0)r.forEach((function(t){t.start+=n}));else for(var a=i+1;a<r.length;a++)r[a].start=r[a-1].start+r[a-1].duration}function bt(t,e,n){if(t&&e)for(var i=Math.max(t.startSN,e.startSN)-e.startSN,r=Math.min(t.endSN,e.endSN)-e.startSN,a=e.startSN-t.startSN,o=i;o<=r;o++){var s=t.fragments[a+o],l=e.fragments[o];if(!s||!l)break;n(s,l,o)}}function wt(t,e){var n=e.startSN-t.startSN,i=t.fragments,r=e.fragments;if(!(n<0||n>i.length))for(var a=0;a<r.length;a++)r[a].start+=i[n].start}function kt(t,e,n){var i=1e3*(e.averagetargetduration?e.averagetargetduration:e.targetduration),r=i/2;return t&&e.endSN===t.endSN&&(i=r),n&&(i=Math.max(r,i-(window.performance.now()-n))),Math.round(i)}var St={toString:function(t){for(var e="",n=t.length,i=0;i<n;i++)e+="["+t.start(i).toFixed(3)+","+t.end(i).toFixed(3)+"]";return e}},xt=St;function Tt(t,e){for(var n=null,i=0;i<t.length;i+=1){var r=t[i];if(r&&r.cc===e){n=r;break}}return n}function Et(t,e){return et.search(t,(function(t){return t.cc<e?1:t.cc>e?-1:0}))}function _t(t,e,n){var i=!1;return e&&e.details&&n&&(n.endCC>n.startCC||t&&t.cc<n.startCC)&&(i=!0),i}function At(t,e){var n=t.fragments,i=e.fragments;if(i.length&&n.length){var r=Tt(n,i[0].cc);if(r&&(!r||r.startPTS))return r;u["logger"].log("No frag in previous level to align on")}else u["logger"].log("No fragments to align")}function Ct(t,e){e.fragments.forEach((function(e){if(e){var n=e.start+t;e.start=e.startPTS=n,e.endPTS=n+e.duration}})),e.PTSKnown=!0}function Ot(t,e,n){Lt(t,n,e),!n.PTSKnown&&e&&Rt(n,e.details)}function Lt(t,e,n){if(_t(t,n,e)){var i=At(n.details,e);i&&(u["logger"].log("Adjusting PTS using last level due to CC increase within current level"),Ct(i.start,e))}}function Rt(t,e){if(e&&e.fragments.length){if(!t.hasProgramDateTime||!e.hasProgramDateTime)return;var n=e.fragments[0].programDateTime,i=t.fragments[0].programDateTime,r=(i-n)/1e3+e.fragments[0].start;Object(l["isFiniteNumber"])(r)&&(u["logger"].log("adjusting PTS using programDateTime delta, sliding:"+r.toFixed(3)),Ct(r,t))}}function Dt(t,e,n){if(null===e||!Array.isArray(t)||!t.length||!Object(l["isFiniteNumber"])(e))return null;var i=t[0].programDateTime;if(e<(i||0))return null;var r=t[t.length-1].endProgramDateTime;if(e>=(r||0))return null;n=n||0;for(var a=0;a<t.length;++a){var o=t[a];if(Mt(e,n,o))return o}return null}function It(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=0);var r=null;if(t?r=e[t.sn-e[0].sn+1]:0===n&&0===e[0].start&&(r=e[0]),r&&0===Pt(n,i,r))return r;var a=et.search(e,Pt.bind(null,n,i));return a||r}function Pt(t,e,n){void 0===t&&(t=0),void 0===e&&(e=0);var i=Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.start+n.duration-i<=t?1:n.start-i>t&&n.start?-1:0}function Mt(t,e,n){var i=1e3*Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0)),r=n.endProgramDateTime||0;return r-i>t}var Ft=250,Bt=2,Nt=.1,jt=.05,$t=function(){function t(t,e,n,i){this.config=t,this.media=e,this.fragmentTracker=n,this.hls=i,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1}var e=t.prototype;return e.poll=function(t){var e=this.config,n=this.media,i=this.stalled,r=n.currentTime,a=n.seeking,o=this.seeking&&!a,s=!this.seeking&&a;if(this.seeking=a,r===t){if((s||o)&&(this.stalled=null),!n.paused&&!n.ended&&0!==n.playbackRate&&n.buffered.length){var l=nt.bufferInfo(n,r,0),c=l.len>0,d=l.nextStart||0;if(c||d){if(a){var h=l.len>Bt,f=!d||d-r>Bt&&!this.fragmentTracker.getPartialFragment(r);if(h||f)return;this.moved=!1}if(!this.moved&&this.stalled){var p=Math.max(d,l.start||0)-r;if(p>0&&p<=Bt)return void this._trySkipBufferHole(null)}var m=self.performance.now();if(null!==i){var v=m-i;!a&&v>=Ft&&this._reportStall(l.len);var g=nt.bufferInfo(n,r,e.maxBufferHole);this._tryFixBufferStall(g,v)}else this.stalled=m}}}else if(this.moved=!0,null!==i){if(this.stallReported){var y=self.performance.now()-i;u["logger"].warn("playback not stuck anymore @"+r+", after "+Math.round(y)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}},e._tryFixBufferStall=function(t,e){var n=this.config,i=this.fragmentTracker,r=this.media,a=r.currentTime,o=i.getPartialFragment(a);if(o){var s=this._trySkipBufferHole(o);if(s)return}t.len>n.maxBufferHole&&e>1e3*n.highBufferWatchdogPeriod&&(u["logger"].warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())},e._reportStall=function(t){var e=this.hls,n=this.media,i=this.stallReported;i||(this.stallReported=!0,u["logger"].warn("Playback stalling at @"+n.currentTime+" due to low buffer (buffer="+t+")"),e.trigger(c["default"].ERROR,{type:s["ErrorTypes"].MEDIA_ERROR,details:s["ErrorDetails"].BUFFER_STALLED_ERROR,fatal:!1,buffer:t}))},e._trySkipBufferHole=function(t){for(var e=this.config,n=this.hls,i=this.media,r=i.currentTime,a=0,o=0;o<i.buffered.length;o++){var l=i.buffered.start(o);if(r+e.maxBufferHole>=a&&r<l){var d=Math.max(l+jt,i.currentTime+Nt);return u["logger"].warn("skipping hole, adjusting currentTime from "+r+" to "+d),this.moved=!0,this.stalled=null,i.currentTime=d,t&&n.trigger(c["default"].ERROR,{type:s["ErrorTypes"].MEDIA_ERROR,details:s["ErrorDetails"].BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+r+" to "+d,frag:t}),d}a=i.buffered.end(o)}return 0},e._tryNudgeBuffer=function(){var t=this.config,e=this.hls,n=this.media,i=n.currentTime,r=(this.nudgeRetry||0)+1;if(this.nudgeRetry=r,r<t.nudgeMaxRetry){var a=i+r*t.nudgeOffset;u["logger"].warn("Nudging 'currentTime' from "+i+" to "+a),n.currentTime=a,e.trigger(c["default"].ERROR,{type:s["ErrorTypes"].MEDIA_ERROR,details:s["ErrorDetails"].BUFFER_NUDGE_ON_STALL,fatal:!1})}else u["logger"].error("Playhead still not moving while enough data buffered @"+i+" after "+t.nudgeMaxRetry+" nudges"),e.trigger(c["default"].ERROR,{type:s["ErrorTypes"].MEDIA_ERROR,details:s["ErrorDetails"].BUFFER_STALLED_ERROR,fatal:!0})},t}();function Ut(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zt(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Vt=function(t){function e(e){for(var n,i=arguments.length,r=new Array(i>1?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];return n=t.call.apply(t,[this,e].concat(r))||this,n._boundTick=void 0,n._tickTimer=null,n._tickInterval=null,n._tickCallCount=0,n._boundTick=n.tick.bind(Ut(n)),n}zt(e,t);var n=e.prototype;return n.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},n.hasInterval=function(){return!!this._tickInterval},n.hasNextTick=function(){return!!this._tickTimer},n.setInterval=function(t){return!this._tickInterval&&(this._tickInterval=self.setInterval(this._boundTick,t),!0)},n.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)},n.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)},n.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&(this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)),this._tickCallCount=0)},n.doTick=function(){},e}(f);function Ht(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var qt={STOPPED:"STOPPED",STARTING:"STARTING",IDLE:"IDLE",PAUSED:"PAUSED",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"},Gt=function(t){function e(){return t.apply(this,arguments)||this}Ht(e,t);var n=e.prototype;return n.doTick=function(){},n.startLoad=function(){},n.stopLoad=function(){var t=this.fragCurrent;t&&(t.loader&&t.loader.abort(),this.fragmentTracker.removeFragment(t)),this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=qt.STOPPED},n._streamEnded=function(t,e){var n=this.fragCurrent,i=this.fragmentTracker;if(!e.live&&n&&!n.backtracked&&n.sn===e.endSN&&!t.nextStart){var r=i.getState(n);return r===J.PARTIAL||r===J.OK}return!1},n.onMediaSeeking=function(){var t=this.config,e=this.media,n=this.mediaBuffer,i=this.state,r=e?e.currentTime:null,a=nt.bufferInfo(n||e,r,this.config.maxBufferHole);if(Object(l["isFiniteNumber"])(r)&&u["logger"].log("media seeking to "+r.toFixed(3)),i===qt.FRAG_LOADING){var o=this.fragCurrent;if(0===a.len&&o){var s=t.maxFragLookUpTolerance,c=o.start-s,d=o.start+o.duration+s;r<c||r>d?(o.loader&&(u["logger"].log("seeking outside of buffer while fragment load in progress, cancel fragment load"),o.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=qt.IDLE):u["logger"].log("seeking outside of buffer but within currently loaded fragment range")}}else i===qt.ENDED&&(0===a.len&&(this.fragPrevious=null,this.fragCurrent=null),this.state=qt.IDLE);e&&(this.lastCurrentTime=r),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=r),this.tick()},n.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},n.onHandlerDestroying=function(){this.stopLoad(),t.prototype.onHandlerDestroying.call(this)},n.onHandlerDestroyed=function(){this.state=qt.STOPPED,this.fragmentTracker=null},n.computeLivePosition=function(t,e){var n=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*e.targetduration;return t+Math.max(0,e.totalduration-n)},e}(Vt);function Wt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Kt(t,e,n){return e&&Wt(t.prototype,e),n&&Wt(t,n),t}function Yt(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Xt,Qt=100,Jt=function(t){function e(e,n){var i;return i=t.call(this,e,c["default"].MEDIA_ATTACHED,c["default"].MEDIA_DETACHING,c["default"].MANIFEST_LOADING,c["default"].MANIFEST_PARSED,c["default"].LEVEL_LOADED,c["default"].LEVELS_UPDATED,c["default"].KEY_LOADED,c["default"].FRAG_LOADED,c["default"].FRAG_LOAD_EMERGENCY_ABORTED,c["default"].FRAG_PARSING_INIT_SEGMENT,c["default"].FRAG_PARSING_DATA,c["default"].FRAG_PARSED,c["default"].ERROR,c["default"].AUDIO_TRACK_SWITCHING,c["default"].AUDIO_TRACK_SWITCHED,c["default"].BUFFER_CREATED,c["default"].BUFFER_APPENDED,c["default"].BUFFER_FLUSHED)||this,i.fragmentTracker=n,i.config=e.config,i.audioCodecSwap=!1,i._state=qt.STOPPED,i.stallReported=!1,i.gapController=null,i.altAudio=!1,i.audioOnly=!1,i.bitrateTest=!1,i}Yt(e,t);var n=e.prototype;return n.startLoad=function(t){if(this.levels){var e=this.lastCurrentTime,n=this.hls;if(this.stopLoad(),this.setInterval(Qt),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var i=n.startLevel;-1===i&&(n.config.testBandwidth?(i=0,this.bitrateTest=!0):i=n.nextAutoLevel),this.level=n.nextLoadLevel=i,this.loadedmetadata=!1}e>0&&-1===t&&(u["logger"].log("override startPosition with lastCurrentTime @"+e.toFixed(3)),t=e),this.state=qt.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()}else this.forceStartLoad=!0,this.state=qt.STOPPED},n.stopLoad=function(){this.forceStartLoad=!1,t.prototype.stopLoad.call(this)},n.doTick=function(){switch(this.state){case qt.BUFFER_FLUSHING:this.fragLoadError=0;break;case qt.IDLE:this._doTickIdle();break;case qt.WAITING_LEVEL:var t=this.levels[this.level];t&&t.details&&(this.state=qt.IDLE);break;case qt.FRAG_LOADING_WAITING_RETRY:var e=window.performance.now(),n=this.retryDate;(!n||e>=n||this.media&&this.media.seeking)&&(u["logger"].log("mediaController: retryDate reached, switch back to IDLE state"),this.state=qt.IDLE);break;case qt.ERROR:case qt.STOPPED:case qt.FRAG_LOADING:case qt.PARSING:case qt.PARSED:case qt.ENDED:break;default:break}this._checkBuffer(),this._checkFragmentChanged()},n._doTickIdle=function(){var t=this.hls,e=t.config,n=this.media;if(void 0!==this.levelLastLoaded&&(n||!this.startFragRequested&&e.startFragPrefetch))if(this.altAudio&&this.audioOnly)this.demuxer.frag=null;else{var i;i=this.loadedmetadata?n.currentTime:this.nextLoadPosition;var r=t.nextLoadLevel,a=this.levels[r];if(a){var o,s=a.bitrate;o=s?Math.max(8*e.maxBufferSize/s,e.maxBufferLength):e.maxBufferLength,o=Math.min(o,e.maxMaxBufferLength);var l=i<e.maxBufferHole?Math.max(Bt,e.maxBufferHole):e.maxBufferHole,d=nt.bufferInfo(this.mediaBuffer?this.mediaBuffer:n,i,l),h=d.len;if(!(h>=o)){u["logger"].trace("buffer length of "+h.toFixed(3)+" is below max of "+o.toFixed(3)+". checking for more payload ..."),this.level=t.nextLoadLevel=r;var f=a.details;if(!f||f.live&&this.levelLastLoaded!==r)this.state=qt.WAITING_LEVEL;else{if(this._streamEnded(d,f)){var p={};return this.altAudio&&(p.type="video"),this.hls.trigger(c["default"].BUFFER_EOS,p),void(this.state=qt.ENDED)}this._fetchPayloadOrEos(i,d,f)}}}}},n._fetchPayloadOrEos=function(t,e,n){var i=this.fragPrevious,r=(this.level,n.fragments),a=r.length;if(0!==a){var o,s=r[0].start,l=r[a-1].start+r[a-1].duration,c=e.end;if(n.initSegment&&!n.initSegment.data)o=n.initSegment;else if(n.live){var d=this.config.initialLiveManifestSize;if(a<d)return void u["logger"].warn("Can not start playback of a level, reason: not enough fragments "+a+" < "+d);if(o=this._ensureFragmentAtLivePoint(n,c,s,l,i,r),null===o)return}else c<s&&(o=r[0]);o||(o=this._findFragment(s,i,a,r,c,l,n)),o&&(o.encrypted?this._loadKey(o,n):this._loadFragment(o,n,t,c))}},n._ensureFragmentAtLivePoint=function(t,e,n,i,r,a){var o,s=this.hls.config,c=this.media,d=1/0;if(void 0!==s.liveMaxLatencyDuration?d=s.liveMaxLatencyDuration:Object(l["isFiniteNumber"])(s.liveMaxLatencyDurationCount)&&(d=s.liveMaxLatencyDurationCount*t.targetduration),e<Math.max(n-s.maxFragLookUpTolerance,i-d)){var h=this.liveSyncPosition=this.computeLivePosition(n,t);e=h,c&&!c.paused&&c.readyState&&c.duration>h&&h>c.currentTime&&(u["logger"].log("buffer end: "+e.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+h.toFixed(3)),c.currentTime=h),this.nextLoadPosition=h}if(t.PTSKnown&&e>i&&c&&c.readyState)return null;if(this.startFragRequested&&!t.PTSKnown&&r)if(t.hasProgramDateTime)u["logger"].log("live playlist, switching playlist, load frag with same PDT: "+r.programDateTime),o=Dt(a,r.endProgramDateTime,s.maxFragLookUpTolerance);else{var f=r.sn+1;if(f>=t.startSN&&f<=t.endSN){var p=a[f-t.startSN];r.cc===p.cc&&(o=p,u["logger"].log("live playlist, switching playlist, load frag with next SN: "+o.sn))}o||(o=et.search(a,(function(t){return r.cc-t.cc})),o&&u["logger"].log("live playlist, switching playlist, load frag with same CC: "+o.sn))}return o},n._findFragment=function(t,e,n,i,r,a,o){var s,l=this.hls.config;if(r<a){var c=r>a-l.maxFragLookUpTolerance?0:l.maxFragLookUpTolerance;s=It(e,i,r,c)}else s=i[n-1];if(s){var d=s.sn-o.startSN,h=e&&s.level===e.level,f=i[d-1],p=i[d+1];if(e&&s.sn===e.sn)if(h&&!s.backtracked)if(s.sn<o.endSN){var m=e.deltaPTS;m&&m>l.maxBufferHole&&e.dropped&&d?(s=f,u["logger"].warn("Previous fragment was dropped with large PTS gap between audio and video. Maybe fragment is not starting with a keyframe? Loading previous one to try to overcome this")):(s=p,u["logger"].log("Re-loading fragment with SN: "+s.sn))}else s=null;else s.backtracked&&(p&&p.backtracked?(u["logger"].warn("Already backtracked from fragment "+p.sn+", will not backtrack to fragment "+s.sn+". Loading fragment "+p.sn),s=p):(u["logger"].warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),s.dropped=0,f?(s=f,s.backtracked=!0):d&&(s=null)))}return s},n._loadKey=function(t,e){u["logger"].log("Loading key for "+t.sn+" of ["+e.startSN+" ,"+e.endSN+"],level "+this.level),this.state=qt.KEY_LOADING,this.hls.trigger(c["default"].KEY_LOADING,{frag:t})},n._loadFragment=function(t,e,n,i){var r=this.fragmentTracker.getState(t);this.fragCurrent=t,"initSegment"!==t.sn&&(this.startFragRequested=!0),Object(l["isFiniteNumber"])(t.sn)&&!t.bitrateTest&&(this.nextLoadPosition=t.start+t.duration),t.backtracked||r===J.NOT_LOADED||r===J.PARTIAL?(t.autoLevel=this.hls.autoLevelEnabled,t.bitrateTest=this.bitrateTest,u["logger"].log("Loading "+t.sn+" of ["+e.startSN+" ,"+e.endSN+"],level "+this.level+", currentTime:"+n.toFixed(3)+",bufferEnd:"+i.toFixed(3)),this.hls.trigger(c["default"].FRAG_LOADING,{frag:t}),this.demuxer||(this.demuxer=new ft(this.hls,"main")),this.state=qt.FRAG_LOADING):r===J.APPENDING&&this._reduceMaxBufferLength(t.duration)&&this.fragmentTracker.removeFragment(t)},n.getBufferedFrag=function(t){return this.fragmentTracker.getBufferedFrag(t,a.MAIN)},n.followingBufferedFrag=function(t){return t?this.getBufferedFrag(t.endPTS+.5):null},n._checkFragmentChanged=function(){var t,e,n=this.media;if(n&&n.readyState&&!1===n.seeking&&(e=n.currentTime,e>this.lastCurrentTime&&(this.lastCurrentTime=e),nt.isBuffered(n,e)?t=this.getBufferedFrag(e):nt.isBuffered(n,e+.1)&&(t=this.getBufferedFrag(e+.1)),t)){var i=t;if(i!==this.fragPlaying){this.hls.trigger(c["default"].FRAG_CHANGED,{frag:i});var r=i.level;this.fragPlaying&&this.fragPlaying.level===r||this.hls.trigger(c["default"].LEVEL_SWITCHED,{level:r}),this.fragPlaying=i}}},n.immediateLevelSwitch=function(){if(u["logger"].log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var t,e=this.media;e?(t=e.paused,e.pause()):t=!0,this.previouslyPaused=t}var n=this.fragCurrent;n&&n.loader&&n.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},n.immediateLevelSwitchEnd=function(){var t=this.media;t&&t.buffered.length&&(this.immediateSwitch=!1,nt.isBuffered(t,t.currentTime)&&(t.currentTime-=1e-4),this.previouslyPaused||t.play())},n.nextLevelSwitch=function(){var t=this.media;if(t&&t.readyState){var e,n,i;if(n=this.getBufferedFrag(t.currentTime),n&&n.startPTS>1&&this.flushMainBuffer(0,n.startPTS-1),t.paused)e=0;else{var r=this.hls.nextLoadLevel,a=this.levels[r],o=this.fragLastKbps;e=o&&this.fragCurrent?this.fragCurrent.duration*a.bitrate/(1e3*o)+1:0}if(i=this.getBufferedFrag(t.currentTime+e),i&&(i=this.followingBufferedFrag(i),i)){var s=this.fragCurrent;s&&s.loader&&s.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(i.maxStartPTS,Number.POSITIVE_INFINITY)}}},n.flushMainBuffer=function(t,e){this.state=qt.BUFFER_FLUSHING;var n={startOffset:t,endOffset:e};this.altAudio&&(n.type="video"),this.hls.trigger(c["default"].BUFFER_FLUSHING,n)},n.onMediaAttached=function(t){var e=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("seeked",this.onvseeked),e.addEventListener("ended",this.onvended);var n=this.config;this.levels&&n.autoStartLoad&&this.hls.startLoad(n.startPosition),this.gapController=new $t(n,e,this.fragmentTracker,this.hls)},n.onMediaDetaching=function(){var t=this.media;t&&t.ended&&(u["logger"].log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var e=this.levels;e&&e.forEach((function(t){t.details&&t.details.fragments.forEach((function(t){t.backtracked=void 0}))})),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("seeked",this.onvseeked),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.fragmentTracker.removeAllFragments(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},n.onMediaSeeked=function(){var t=this.media,e=t?t.currentTime:void 0;Object(l["isFiniteNumber"])(e)&&u["logger"].log("media seeked to "+e.toFixed(3)),this.tick()},n.onManifestLoading=function(){u["logger"].log("trigger BUFFER_RESET"),this.hls.trigger(c["default"].BUFFER_RESET),this.fragmentTracker.removeAllFragments(),this.stalled=!1,this.startPosition=this.lastCurrentTime=0},n.onManifestParsed=function(t){var e,n=!1,i=!1;t.levels.forEach((function(t){e=t.audioCodec,e&&(-1!==e.indexOf("mp4a.40.2")&&(n=!0),-1!==e.indexOf("mp4a.40.5")&&(i=!0))})),this.audioCodecSwitch=n&&i,this.audioCodecSwitch&&u["logger"].log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.altAudio=t.altAudio,this.levels=t.levels,this.startFragRequested=!1;var r=this.config;(r.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(r.startPosition)},n.onLevelLoaded=function(t){var e=t.details,n=t.level,i=this.levels[this.levelLastLoaded],r=this.levels[n],a=e.totalduration,o=0;if(u["logger"].log("level "+n+" loaded ["+e.startSN+","+e.endSN+"],duration:"+a),e.live){var s=r.details;s&&e.fragments.length>0?(gt(s,e),o=e.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(o,s),e.PTSKnown&&Object(l["isFiniteNumber"])(o)?u["logger"].log("live playlist sliding:"+o.toFixed(3)):(u["logger"].log("live playlist - outdated PTS, unknown sliding"),Ot(this.fragPrevious,i,e))):(u["logger"].log("live playlist - first load, unknown sliding"),e.PTSKnown=!1,Ot(this.fragPrevious,i,e))}else e.PTSKnown=!1;if(r.details=e,this.levelLastLoaded=n,this.hls.trigger(c["default"].LEVEL_UPDATED,{details:e,level:n}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var d=e.startTimeOffset;Object(l["isFiniteNumber"])(d)?(d<0&&(u["logger"].log("negative start time offset "+d+", count from end of last fragment"),d=o+a+d),u["logger"].log("start time offset found in playlist, adjust startPosition to "+d),this.startPosition=d):e.live?(this.startPosition=this.computeLivePosition(o,e),u["logger"].log("configure startPosition to "+this.startPosition)):this.startPosition=0,this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===qt.WAITING_LEVEL&&(this.state=qt.IDLE),this.tick()},n.onKeyLoaded=function(){this.state===qt.KEY_LOADING&&(this.state=qt.IDLE,this.tick())},n.onFragLoaded=function(t){var e=this.fragCurrent,n=this.hls,i=this.levels,r=this.media,a=t.frag;if(this.state===qt.FRAG_LOADING&&e&&"main"===a.type&&a.level===e.level&&a.sn===e.sn){var o=t.stats,s=i[e.level],l=s.details;if(this.bitrateTest=!1,this.stats=o,u["logger"].log("Loaded "+e.sn+" of ["+l.startSN+" ,"+l.endSN+"],level "+e.level),a.bitrateTest&&n.nextLoadLevel)this.state=qt.IDLE,this.startFragRequested=!1,o.tparsed=o.tbuffered=window.performance.now(),n.trigger(c["default"].FRAG_BUFFERED,{stats:o,frag:e,id:"main"}),this.tick();else if("initSegment"===a.sn)this.state=qt.IDLE,o.tparsed=o.tbuffered=window.performance.now(),l.initSegment.data=t.payload,n.trigger(c["default"].FRAG_BUFFERED,{stats:o,frag:e,id:"main"}),this.tick();else{u["logger"].log("Parsing "+e.sn+" of ["+l.startSN+" ,"+l.endSN+"],level "+e.level+", cc "+e.cc),this.state=qt.PARSING,this.pendingBuffering=!0,this.appended=!1,a.bitrateTest&&(a.bitrateTest=!1,this.fragmentTracker.onFragLoaded({frag:a}));var d=!(r&&r.seeking)&&(l.PTSKnown||!l.live),h=l.initSegment?l.initSegment.data:[],f=this._getAudioCodec(s),p=this.demuxer=this.demuxer||new ft(this.hls,"main");p.push(t.payload,h,f,s.videoCodec,e,l.totalduration,d)}}this.fragLoadError=0},n.onFragParsingInitSegment=function(t){var e=this.fragCurrent,n=t.frag;if(e&&"main"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===qt.PARSING){var i,r,a=t.tracks;if(this.audioOnly=a.audio&&!a.video,this.altAudio&&!this.audioOnly&&delete a.audio,r=a.audio,r){var o=this.levels[this.level].audioCodec,s=navigator.userAgent.toLowerCase();o&&this.audioCodecSwap&&(u["logger"].log("swapping playlist audio codec"),o=-1!==o.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==r.metadata.channelCount&&-1===s.indexOf("firefox")&&(o="mp4a.40.5"),-1!==s.indexOf("android")&&"audio/mpeg"!==r.container&&(o="mp4a.40.2",u["logger"].log("Android: force audio codec to "+o)),r.levelCodec=o,r.id=t.id}for(i in r=a.video,r&&(r.levelCodec=this.levels[this.level].videoCodec,r.id=t.id),this.hls.trigger(c["default"].BUFFER_CODECS,a),a){r=a[i],u["logger"].log("main track:"+i+",container:"+r.container+",codecs[level/parsed]=["+r.levelCodec+"/"+r.codec+"]");var l=r.initSegment;l&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(c["default"].BUFFER_APPENDING,{type:i,data:l,parent:"main",content:"initSegment"}))}this.tick()}},n.onFragParsingData=function(t){var e=this,n=this.fragCurrent,i=t.frag;if(n&&"main"===t.id&&i.sn===n.sn&&i.level===n.level&&("audio"!==t.type||!this.altAudio)&&this.state===qt.PARSING){var r=this.levels[this.level],a=n;if(Object(l["isFiniteNumber"])(t.endPTS)||(t.endPTS=t.startPTS+n.duration,t.endDTS=t.startDTS+n.duration),!0===t.hasAudio&&a.addElementaryStream(g.AUDIO),!0===t.hasVideo&&a.addElementaryStream(g.VIDEO),u["logger"].log("Parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb+",dropped:"+(t.dropped||0)),"video"===t.type)if(a.dropped=t.dropped,a.dropped)if(a.backtracked)u["logger"].warn("Already backtracked on this fragment, appending with the gap",a.sn);else{var o=r.details;if(!o||a.sn!==o.startSN)return u["logger"].warn("missing video frame(s), backtracking fragment",a.sn),this.fragmentTracker.removeFragment(a),a.backtracked=!0,this.nextLoadPosition=t.startPTS,this.state=qt.IDLE,this.fragPrevious=a,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),void this.tick();u["logger"].warn("missing video frame(s) on first frag, appending with gap",a.sn)}else a.backtracked=!1;var s=vt(r.details,a,t.startPTS,t.endPTS,t.startDTS,t.endDTS),d=this.hls;d.trigger(c["default"].LEVEL_PTS_UPDATED,{details:r.details,level:this.level,drift:s,type:t.type,start:t.startPTS,end:t.endPTS}),[t.data1,t.data2].forEach((function(n){n&&n.length&&e.state===qt.PARSING&&(e.appended=!0,e.pendingBuffering=!0,d.trigger(c["default"].BUFFER_APPENDING,{type:t.type,data:n,parent:"main",content:"data"}))})),this.tick()}},n.onFragParsed=function(t){var e=this.fragCurrent,n=t.frag;e&&"main"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===qt.PARSING&&(this.stats.tparsed=window.performance.now(),this.state=qt.PARSED,this._checkAppendedParsed())},n.onAudioTrackSwitching=function(t){var e=!!t.url,n=t.id;if(!e){if(this.mediaBuffer!==this.media){u["logger"].log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var i=this.fragCurrent;i.loader&&(u["logger"].log("switching to main audio track, cancel main fragment load"),i.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=qt.IDLE}var r=this.hls;r.trigger(c["default"].BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),r.trigger(c["default"].AUDIO_TRACK_SWITCHED,{id:n}),this.altAudio=!1}},n.onAudioTrackSwitched=function(t){var e=t.id,n=!!this.hls.audioTracks[e].url;if(n){var i=this.videoBuffer;i&&this.mediaBuffer!==i&&(u["logger"].log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=i)}this.altAudio=n,this.tick()},n.onBufferCreated=function(t){var e,n,i=t.tracks,r=!1;for(var a in i){var o=i[a];"main"===o.id?(n=a,e=o,"video"===a&&(this.videoBuffer=i[a].buffer)):r=!0}r&&e?(u["logger"].log("alternate track found, use "+n+".buffered to schedule main fragment loading"),this.mediaBuffer=e.buffer):this.mediaBuffer=this.media},n.onBufferAppended=function(t){if("main"===t.parent){var e=this.state;e!==qt.PARSING&&e!==qt.PARSED||(this.pendingBuffering=t.pending>0,this._checkAppendedParsed())}},n._checkAppendedParsed=function(){if(this.state===qt.PARSED&&(!this.appended||!this.pendingBuffering)){var t=this.fragCurrent;if(t){var e=this.mediaBuffer?this.mediaBuffer:this.media;u["logger"].log("main buffered : "+xt.toString(e.buffered)),this.fragPrevious=t;var n=this.stats;n.tbuffered=window.performance.now(),this.fragLastKbps=Math.round(8*n.total/(n.tbuffered-n.tfirst)),this.hls.trigger(c["default"].FRAG_BUFFERED,{stats:n,frag:t,id:"main"}),this.state=qt.IDLE}(this.loadedmetadata||this.startPosition<=0)&&this.tick()}},n.onError=function(t){var e=t.frag||this.fragCurrent;if(!e||"main"===e.type){var n=!!this.media&&nt.isBuffered(this.media,this.media.currentTime)&&nt.isBuffered(this.media,this.media.currentTime+.5);switch(t.details){case s["ErrorDetails"].FRAG_LOAD_ERROR:case s["ErrorDetails"].FRAG_LOAD_TIMEOUT:case s["ErrorDetails"].KEY_LOAD_ERROR:case s["ErrorDetails"].KEY_LOAD_TIMEOUT:if(!t.fatal)if(this.fragLoadError+1<=this.config.fragLoadingMaxRetry){var i=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout);u["logger"].warn("mediaController: frag loading failed, retry in "+i+" ms"),this.retryDate=window.performance.now()+i,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.fragLoadError++,this.state=qt.FRAG_LOADING_WAITING_RETRY}else u["logger"].error("mediaController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=qt.ERROR;break;case s["ErrorDetails"].LEVEL_LOAD_ERROR:case s["ErrorDetails"].LEVEL_LOAD_TIMEOUT:this.state!==qt.ERROR&&(t.fatal?(this.state=qt.ERROR,u["logger"].warn("streamController: "+t.details+",switch to "+this.state+" state ...")):t.levelRetry||this.state!==qt.WAITING_LEVEL||(this.state=qt.IDLE));break;case s["ErrorDetails"].BUFFER_FULL_ERROR:"main"!==t.parent||this.state!==qt.PARSING&&this.state!==qt.PARSED||(n?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=qt.IDLE):(u["logger"].warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)));break;default:break}}},n._reduceMaxBufferLength=function(t){var e=this.config;return e.maxMaxBufferLength>=t&&(e.maxMaxBufferLength/=2,u["logger"].warn("main:reduce max buffer length to "+e.maxMaxBufferLength+"s"),!0)},n._checkBuffer=function(){var t=this.media;if(t&&0!==t.readyState){var e=this.mediaBuffer?this.mediaBuffer:t,n=e.buffered;!this.loadedmetadata&&n.length?(this.loadedmetadata=!0,this._seekToStartPos()):this.immediateSwitch?this.immediateLevelSwitchEnd():this.gapController.poll(this.lastCurrentTime,n)}},n.onFragLoadEmergencyAborted=function(){this.state=qt.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},n.onBufferFlushed=function(){var t=this.mediaBuffer?this.mediaBuffer:this.media;if(t){var e=this.audioOnly?g.AUDIO:g.VIDEO;this.fragmentTracker.detectEvictedFragments(e,t.buffered)}this.state=qt.IDLE,this.fragPrevious=null},n.onLevelsUpdated=function(t){this.levels=t.levels},n.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},n._seekToStartPos=function(){var t=this.media,e=this.startPosition,n=t.currentTime;if(n!==e&&e>=0){if(t.seeking)return void u["logger"].log("could not seek to "+e+", already seeking at "+n);u["logger"].log("seek to target start position "+e+" from current time "+n+". ready state "+t.readyState),t.currentTime=e}},n._getAudioCodec=function(t){var e=this.config.defaultAudioCodec||t.audioCodec;return this.audioCodecSwap&&(u["logger"].log("swapping playlist audio codec"),e&&(e=-1!==e.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),e},Kt(e,[{key:"state",set:function(t){if(this.state!==t){var e=this.state;this._state=t,u["logger"].log("main stream-controller: "+e+"->"+t),this.hls.trigger(c["default"].STREAM_STATE_TRANSITION,{previousState:e,nextState:t})}},get:function(){return this._state}},{key:"currentLevel",get:function(){var t=this.media;if(t){var e=this.getBufferedFrag(t.currentTime);if(e)return e.level}return-1}},{key:"nextBufferedFrag",get:function(){var t=this.media;return t?this.followingBufferedFrag(this.getBufferedFrag(t.currentTime)):null}},{key:"nextLevel",get:function(){var t=this.nextBufferedFrag;return t?t.level:-1}},{key:"liveSyncPosition",get:function(){return this._liveSyncPosition},set:function(t){this._liveSyncPosition=t}}]),e}(Gt),Zt=Jt;function te(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ee(t,e,n){return e&&te(t.prototype,e),n&&te(t,n),t}function ne(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var ie=function(t){function e(e){var n;return n=t.call(this,e,c["default"].MANIFEST_LOADED,c["default"].LEVEL_LOADED,c["default"].AUDIO_TRACK_SWITCHED,c["default"].FRAG_LOADED,c["default"].ERROR)||this,n.canload=!1,n.currentLevelIndex=null,n.manualLevelIndex=-1,n.timer=null,Xt=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),n}ne(e,t);var n=e.prototype;return n.onHandlerDestroying=function(){this.clearTimer(),this.manualLevelIndex=-1},n.clearTimer=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},n.startLoad=function(){var t=this._levels;this.canload=!0,this.levelRetryCount=0,t&&t.forEach((function(t){t.loadError=0;var e=t.details;e&&e.live&&(t.details=void 0)})),null!==this.timer&&this.loadLevel()},n.stopLoad=function(){this.canload=!1},n.onManifestLoaded=function(t){var e,n=[],i=[],r={},a=null,o=!1,l=!1;if(t.levels.forEach((function(t){var e=t.attrs;t.loadError=0,t.fragmentError=!1,o=o||!!t.videoCodec,l=l||!!t.audioCodec,Xt&&t.audioCodec&&-1!==t.audioCodec.indexOf("mp4a.40.34")&&(t.audioCodec=void 0),a=r[t.bitrate],a?a.url.push(t.url):(t.url=[t.url],t.urlId=0,r[t.bitrate]=t,n.push(t)),e&&(e.AUDIO&&pt(a||t,"audio",e.AUDIO),e.SUBTITLES&&pt(a||t,"text",e.SUBTITLES))})),o&&l&&(n=n.filter((function(t){var e=t.videoCodec;return!!e}))),n=n.filter((function(t){var e=t.audioCodec,n=t.videoCodec;return(!e||R(e,"audio"))&&(!n||R(n,"video"))})),t.audioTracks&&(i=t.audioTracks.filter((function(t){return!t.audioCodec||R(t.audioCodec,"audio")})),i.forEach((function(t,e){t.id=e}))),n.length>0){e=n[0].bitrate,n.sort((function(t,e){return t.bitrate-e.bitrate})),this._levels=n;for(var d=0;d<n.length;d++)if(n[d].bitrate===e){this._firstLevel=d,u["logger"].log("manifest loaded,"+n.length+" level(s) found, first bitrate:"+e);break}var h=l&&!o;this.hls.trigger(c["default"].MANIFEST_PARSED,{levels:n,audioTracks:i,firstLevel:this._firstLevel,stats:t.stats,audio:l,video:o,altAudio:!h&&i.some((function(t){return!!t.url}))})}else this.hls.trigger(c["default"].ERROR,{type:s["ErrorTypes"].MEDIA_ERROR,details:s["ErrorDetails"].MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:this.hls.url,reason:"no level with compatible codecs found in manifest"})},n.setLevelInternal=function(t){var e=this._levels,n=this.hls;if(t>=0&&t<e.length){if(this.clearTimer(),this.currentLevelIndex!==t){u["logger"].log("switching to level "+t),this.currentLevelIndex=t;var i=e[t];i.level=t,n.trigger(c["default"].LEVEL_SWITCHING,i)}var r=e[t],a=r.details;if(!a||a.live){var o=r.urlId;n.trigger(c["default"].LEVEL_LOADING,{url:r.url[o],level:t,id:o})}}else n.trigger(c["default"].ERROR,{type:s["ErrorTypes"].OTHER_ERROR,details:s["ErrorDetails"].LEVEL_SWITCH_ERROR,level:t,fatal:!1,reason:"invalid level idx"})},n.onError=function(t){if(t.fatal)t.type===s["ErrorTypes"].NETWORK_ERROR&&this.clearTimer();else{var e,n=!1,i=!1;switch(t.details){case s["ErrorDetails"].FRAG_LOAD_ERROR:case s["ErrorDetails"].FRAG_LOAD_TIMEOUT:case s["ErrorDetails"].KEY_LOAD_ERROR:case s["ErrorDetails"].KEY_LOAD_TIMEOUT:e=t.frag.level,i=!0;break;case s["ErrorDetails"].LEVEL_LOAD_ERROR:case s["ErrorDetails"].LEVEL_LOAD_TIMEOUT:e=t.context.level,n=!0;break;case s["ErrorDetails"].REMUX_ALLOC_ERROR:e=t.level,n=!0;break}void 0!==e&&this.recoverLevel(t,e,n,i)}},n.recoverLevel=function(t,e,n,i){var r,a,o,s=this,l=this.hls.config,c=t.details,d=this._levels[e];if(d.loadError++,d.fragmentError=i,n){if(!(this.levelRetryCount+1<=l.levelLoadingMaxRetry))return u["logger"].error("level controller, cannot recover from "+c+" error"),this.currentLevelIndex=null,this.clearTimer(),void(t.fatal=!0);a=Math.min(Math.pow(2,this.levelRetryCount)*l.levelLoadingRetryDelay,l.levelLoadingMaxRetryTimeout),this.timer=setTimeout((function(){return s.loadLevel()}),a),t.levelRetry=!0,this.levelRetryCount++,u["logger"].warn("level controller, "+c+", retry in "+a+" ms, current retry count is "+this.levelRetryCount)}(n||i)&&(r=d.url.length,r>1&&d.loadError<r?(d.urlId=(d.urlId+1)%r,d.details=void 0,u["logger"].warn("level controller, "+c+" for level "+e+": switching to redundant URL-id "+d.urlId)):-1===this.manualLevelIndex?(o=0===e?this._levels.length-1:e-1,u["logger"].warn("level controller, "+c+": switch to "+o),this.hls.nextAutoLevel=this.currentLevelIndex=o):i&&(u["logger"].warn("level controller, "+c+": reload a fragment"),this.currentLevelIndex=null))},n.onFragLoaded=function(t){var e=t.frag;if(void 0!==e&&"main"===e.type){var n=this._levels[e.level];void 0!==n&&(n.fragmentError=!1,n.loadError=0,this.levelRetryCount=0)}},n.onLevelLoaded=function(t){var e=this,n=t.level,i=t.details;if(n===this.currentLevelIndex){var r=this._levels[n];if(r.fragmentError||(r.loadError=0,this.levelRetryCount=0),i.live){var a=kt(r.details,i,t.stats.trequest);u["logger"].log("live playlist, reload in "+Math.round(a)+" ms"),this.timer=setTimeout((function(){return e.loadLevel()}),a)}else this.clearTimer()}},n.onAudioTrackSwitched=function(t){var e=this.hls.audioTracks[t.id].groupId,n=this.hls.levels[this.currentLevelIndex];if(n&&n.audioGroupIds){for(var i=-1,r=0;r<n.audioGroupIds.length;r++)if(n.audioGroupIds[r]===e){i=r;break}i!==n.urlId&&(n.urlId=i,this.startLoad())}},n.loadLevel=function(){if(u["logger"].debug("call to loadLevel"),null!==this.currentLevelIndex&&this.canload){var t=this._levels[this.currentLevelIndex];if("object"===typeof t&&t.url.length>0){var e=this.currentLevelIndex,n=t.urlId,i=t.url[n];u["logger"].log("Attempt loading level index "+e+" with URL-id "+n),this.hls.trigger(c["default"].LEVEL_LOADING,{url:i,level:e,id:n})}}},n.removeLevel=function(t,e){var n=this.levels.filter((function(n,i){return i!==t||n.url.length>1&&void 0!==e&&(n.url=n.url.filter((function(t,n){return n!==e})),n.urlId=0,!0)})).map((function(t,e){var n=t.details;return n&&n.fragments&&n.fragments.forEach((function(t){t.level=e})),t}));this._levels=n,this.hls.trigger(c["default"].LEVELS_UPDATED,{levels:n})},ee(e,[{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(t){var e=this._levels;e&&(t=Math.min(t,e.length-1),this.currentLevelIndex===t&&e[t].details||this.setLevelInternal(t))}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(t){this.manualLevelIndex=t,void 0===this._startLevel&&(this._startLevel=t),-1!==t&&(this.level=t)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(t){this._firstLevel=t}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var t=this.hls.config.startLevel;return void 0!==t?t:this._firstLevel}return this._startLevel},set:function(t){this._startLevel=t}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(t){this.level=t,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=t)}}]),e}(f),re=n("./src/demux/id3.js");function ae(t,e){var n;try{n=new Event("addtrack")}catch(i){n=document.createEvent("Event"),n.initEvent("addtrack",!1,!1)}n.track=t,e.dispatchEvent(n)}function oe(t){if(null===t||void 0===t?void 0:t.cues)while(t.cues.length>0)t.removeCue(t.cues[0])}function se(t,e){if(e<t[0].endTime)return t[0];if(e>t[t.length-1].endTime)return t[t.length-1];var n=0,i=t.length-1;while(n<=i){var r=Math.floor((i+n)/2);if(e<t[r].endTime)i=r-1;else{if(!(e>t[r].endTime))return t[r];n=r+1}}return t[n].endTime-e<e-t[i].endTime?t[n]:t[i]}function le(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var ce=function(t){function e(e){var n;return n=t.call(this,e,c["default"].MEDIA_ATTACHED,c["default"].MEDIA_DETACHING,c["default"].FRAG_PARSING_METADATA,c["default"].LIVE_BACK_BUFFER_REACHED)||this,n.id3Track=void 0,n.media=void 0,n}le(e,t);var n=e.prototype;return n.destroy=function(){f.prototype.destroy.call(this)},n.onMediaAttached=function(t){this.media=t.media,this.media},n.onMediaDetaching=function(){oe(this.id3Track),this.id3Track=void 0,this.media=void 0},n.getID3Track=function(t){for(var e=0;e<t.length;e++){var n=t[e];if("metadata"===n.kind&&"id3"===n.label)return ae(n,this.media),n}return this.media.addTextTrack("metadata","id3")},n.onFragParsingMetadata=function(t){var e=t.frag,n=t.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var i=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,r=0;r<n.length;r++){var a=re["default"].getID3Frames(n[r].data);if(a){var o=Math.max(n[r].pts,0),s=r<n.length-1?n[r+1].pts:e.endPTS;s||(s=e.start+e.duration),o===s?s+=1e-4:o>s&&(u["logger"].warn("detected an id3 sample with endTime < startTime, adjusting endTime to (startTime + 0.25)"),s=o+.25);for(var l=0;l<a.length;l++){var c=a[l];if(!re["default"].isTimeStampFrame(c)){var d=new i(o,s,"");d.value=c,this.id3Track.addCue(d)}}}}},n.onLiveBackBufferReached=function(t){var e=t.bufferEnd,n=this.id3Track;if(n&&n.cues&&n.cues.length){var i=se(n.cues,e);if(i)while(n.cues[0]!==i)n.removeCue(n.cues[0])}},e}(f),ue=ce;function de(){var t=ot();if(!t)return!1;var e=self.SourceBuffer||self.WebKitSourceBuffer,n=t&&"function"===typeof t.isTypeSupported&&t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),i=!e||e.prototype&&"function"===typeof e.prototype.appendBuffer&&"function"===typeof e.prototype.remove;return!!n&&!!i}var he=function(){function t(t){this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.alpha_=t?Math.exp(Math.log(.5)/t):0,this.estimate_=0,this.totalWeight_=0}var e=t.prototype;return e.sample=function(t,e){var n=Math.pow(this.alpha_,t);this.estimate_=e*(1-n)+n*this.estimate_,this.totalWeight_+=t},e.getTotalWeight=function(){return this.totalWeight_},e.getEstimate=function(){if(this.alpha_){var t=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/t}return this.estimate_},t}(),fe=he,pe=function(){function t(t,e,n,i){this.hls=void 0,this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.hls=t,this.defaultEstimate_=i,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new fe(e),this.fast_=new fe(n)}var e=t.prototype;return e.sample=function(t,e){t=Math.max(t,this.minDelayMs_);var n=8*e,i=t/1e3,r=n/i;this.fast_.sample(i,r),this.slow_.sample(i,r)},e.canEstimate=function(){var t=this.fast_;return t&&t.getTotalWeight()>=this.minWeight_},e.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},e.destroy=function(){},t}(),me=pe;function ve(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ge(t,e,n){return e&&ve(t.prototype,e),n&&ve(t,n),t}function ye(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function be(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var we=window,ke=we.performance,Se=function(t){function e(e){var n;return n=t.call(this,e,c["default"].FRAG_LOADING,c["default"].FRAG_LOADED,c["default"].FRAG_BUFFERED,c["default"].ERROR)||this,n.lastLoadedFragLevel=0,n._nextAutoLevel=-1,n.hls=e,n.timer=null,n._bwEstimator=null,n.onCheck=n._abandonRulesCheck.bind(ye(n)),n}be(e,t);var n=e.prototype;return n.destroy=function(){this.clearTimer(),f.prototype.destroy.call(this)},n.onFragLoading=function(t){var e=t.frag;if("main"===e.type&&(this.timer||(this.fragCurrent=e,this.timer=setInterval(this.onCheck,100)),!this._bwEstimator)){var n,i,r=this.hls,a=r.config,o=e.level,s=r.levels[o].details.live;s?(n=a.abrEwmaFastLive,i=a.abrEwmaSlowLive):(n=a.abrEwmaFastVoD,i=a.abrEwmaSlowVoD),this._bwEstimator=new me(r,i,n,a.abrEwmaDefaultEstimate)}},n._abandonRulesCheck=function(){var t=this.hls,e=t.media,n=this.fragCurrent;if(n){var i=n.loader;if(!i||i.stats&&i.stats.aborted)return u["logger"].warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);var r=i.stats;if(e&&r&&(!e.paused&&0!==e.playbackRate||!e.readyState)&&n.autoLevel&&n.level){var a=ke.now()-r.trequest,o=Math.abs(e.playbackRate);if(a>500*n.duration/o){var s=t.levels,l=Math.max(1,r.bw?r.bw/8:1e3*r.loaded/a),d=s[n.level];if(!d)return;var h=d.realBitrate?Math.max(d.realBitrate,d.bitrate):d.bitrate,f=r.total?r.total:Math.max(r.loaded,Math.round(n.duration*h/8)),p=e.currentTime,m=(f-r.loaded)/l,v=(nt.bufferInfo(e,p,t.config.maxBufferHole).end-p)/o;if(v<2*n.duration/o&&m>v){var g,y,b=t.minAutoLevel;for(y=n.level-1;y>b;y--){var w=s[y].realBitrate?Math.max(s[y].realBitrate,s[y].bitrate):s[y].bitrate,k=n.duration*w/(6.4*l);if(k<v)break}g<m&&(u["logger"].warn("loading too slow, abort fragment loading and switch to level "+y+":fragLoadedDelay["+y+"]<fragLoadedDelay["+(n.level-1)+"];bufferStarvationDelay:"+g.toFixed(1)+"<"+m.toFixed(1)+":"+v.toFixed(1)),t.nextLoadLevel=y,this._bwEstimator.sample(a,r.loaded),i.abort(),this.clearTimer(),t.trigger(c["default"].FRAG_LOAD_EMERGENCY_ABORTED,{frag:n,stats:r}))}}}}},n.onFragLoaded=function(t){var e=t.frag;if("main"===e.type&&Object(l["isFiniteNumber"])(e.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=e.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var n=this.hls.levels[e.level],i=(n.loaded?n.loaded.bytes:0)+t.stats.loaded,r=(n.loaded?n.loaded.duration:0)+t.frag.duration;n.loaded={bytes:i,duration:r},n.realBitrate=Math.round(8*i/r)}if(t.frag.bitrateTest){var a=t.stats;a.tparsed=a.tbuffered=a.tload,this.onFragBuffered(t)}}},n.onFragBuffered=function(t){var e=t.stats,n=t.frag;if(!0!==e.aborted&&"main"===n.type&&Object(l["isFiniteNumber"])(n.sn)&&(!n.bitrateTest||e.tload===e.tbuffered)){var i=e.tparsed-e.trequest;u["logger"].log("latency/loading/parsing/append/kbps:"+Math.round(e.tfirst-e.trequest)+"/"+Math.round(e.tload-e.tfirst)+"/"+Math.round(e.tparsed-e.tload)+"/"+Math.round(e.tbuffered-e.tparsed)+"/"+Math.round(8*e.loaded/(e.tbuffered-e.trequest))),this._bwEstimator.sample(i,e.loaded),e.bwEstimate=this._bwEstimator.getEstimate(),n.bitrateTest?this.bitrateTestDelay=i/1e3:this.bitrateTestDelay=0}},n.onError=function(t){switch(t.details){case s["ErrorDetails"].FRAG_LOAD_ERROR:case s["ErrorDetails"].FRAG_LOAD_TIMEOUT:this.clearTimer();break;default:break}},n.clearTimer=function(){clearInterval(this.timer),this.timer=null},n._findBestLevel=function(t,e,n,i,r,a,o,s,l){for(var c=r;c>=i;c--){var d=l[c];if(d){var h=d.details,f=h?h.totalduration/h.fragments.length:e,p=!!h&&h.live,m=void 0;m=c<=t?o*n:s*n;var v=l[c].realBitrate?Math.max(l[c].realBitrate,l[c].bitrate):l[c].bitrate,g=v*f/m;if(u["logger"].trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+c+"/"+Math.round(m)+"/"+v+"/"+f+"/"+a+"/"+g),m>v&&(!g||p&&!this.bitrateTestDelay||g<a))return c}}return-1},ge(e,[{key:"nextAutoLevel",get:function(){var t=this._nextAutoLevel,e=this._bwEstimator;if(-1!==t&&(!e||!e.canEstimate()))return t;var n=this._nextABRAutoLevel;return-1!==t&&(n=Math.min(t,n)),n},set:function(t){this._nextAutoLevel=t}},{key:"_nextABRAutoLevel",get:function(){var t=this.hls,e=t.maxAutoLevel,n=t.levels,i=t.config,r=t.minAutoLevel,a=t.media,o=this.lastLoadedFragLevel,s=this.fragCurrent?this.fragCurrent.duration:0,l=a?a.currentTime:0,c=a&&0!==a.playbackRate?Math.abs(a.playbackRate):1,d=this._bwEstimator?this._bwEstimator.getEstimate():i.abrEwmaDefaultEstimate,h=(nt.bufferInfo(a,l,i.maxBufferHole).end-l)/c,f=this._findBestLevel(o,s,d,r,e,h,i.abrBandWidthFactor,i.abrBandWidthUpFactor,n);if(f>=0)return f;u["logger"].trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var p=s?Math.min(s,i.maxStarvationDelay):i.maxStarvationDelay,m=i.abrBandWidthFactor,v=i.abrBandWidthUpFactor;if(0===h){var g=this.bitrateTestDelay;if(g){var y=s?Math.min(s,i.maxLoadingDelay):i.maxLoadingDelay;p=y-g,u["logger"].trace("bitrate test took "+Math.round(1e3*g)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*p)+" ms"),m=v=1}}return f=this._findBestLevel(o,s,d,r,e,h+p,m,v,n),Math.max(f,0)}}]),e}(f),xe=Se;function Te(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Ee=ot(),_e=function(t){function e(e){var n;return n=t.call(this,e,c["default"].MEDIA_ATTACHING,c["default"].MEDIA_DETACHING,c["default"].MANIFEST_PARSED,c["default"].BUFFER_RESET,c["default"].BUFFER_APPENDING,c["default"].BUFFER_CODECS,c["default"].BUFFER_EOS,c["default"].BUFFER_FLUSHING,c["default"].LEVEL_PTS_UPDATED,c["default"].LEVEL_UPDATED)||this,n._msDuration=null,n._levelDuration=null,n._levelTargetDuration=10,n._live=null,n._objectUrl=null,n._needsFlush=!1,n._needsEos=!1,n.config=void 0,n.audioTimestampOffset=void 0,n.bufferCodecEventsExpected=0,n._bufferCodecEventsTotal=0,n.media=null,n.mediaSource=null,n.segments=[],n.parent=void 0,n.appending=!1,n.appended=0,n.appendError=0,n.flushBufferCounter=0,n.tracks={},n.pendingTracks={},n.sourceBuffer={},n.flushRange=[],n._onMediaSourceOpen=function(){u["logger"].log("media source opened"),n.hls.trigger(c["default"].MEDIA_ATTACHED,{media:n.media});var t=n.mediaSource;t&&t.removeEventListener("sourceopen",n._onMediaSourceOpen),n.checkPendingTracks()},n._onMediaSourceClose=function(){u["logger"].log("media source closed")},n._onMediaSourceEnded=function(){u["logger"].log("media source ended")},n._onSBUpdateEnd=function(){if(n.audioTimestampOffset&&n.sourceBuffer.audio){var t=n.sourceBuffer.audio;u["logger"].warn("change mpeg audio timestamp offset from "+t.timestampOffset+" to "+n.audioTimestampOffset),t.timestampOffset=n.audioTimestampOffset,delete n.audioTimestampOffset}n._needsFlush&&n.doFlush(),n._needsEos&&n.checkEos(),n.appending=!1;var e=n.parent,i=n.segments.reduce((function(t,n){return n.parent===e?t+1:t}),0),r={},a=n.sourceBuffer;for(var o in a){var s=a[o];if(!s)throw Error("handling source buffer update end error: source buffer for "+o+" uninitilized and unable to update buffered TimeRanges.");r[o]=s.buffered}n.hls.trigger(c["default"].BUFFER_APPENDED,{parent:e,pending:i,timeRanges:r}),n._needsFlush||n.doAppending(),n.updateMediaElementDuration(),0===i&&n.flushLiveBackBuffer()},n._onSBUpdateError=function(t){u["logger"].error("sourceBuffer error:",t),n.hls.trigger(c["default"].ERROR,{type:s["ErrorTypes"].MEDIA_ERROR,details:s["ErrorDetails"].BUFFER_APPENDING_ERROR,fatal:!1})},n.config=e.config,n}Te(e,t);var n=e.prototype;return n.destroy=function(){f.prototype.destroy.call(this)},n.onLevelPtsUpdated=function(t){var e=t.type,n=this.tracks.audio;if("audio"===e&&n&&"audio/mpeg"===n.container){var i=this.sourceBuffer.audio;if(!i)throw Error("Level PTS Updated and source buffer for audio uninitalized");var r=Math.abs(i.timestampOffset-t.start);if(r>.1){var a=i.updating;try{i.abort()}catch(o){u["logger"].warn("can not abort audio buffer: "+o)}a?this.audioTimestampOffset=t.start:(u["logger"].warn("change mpeg audio timestamp offset from "+i.timestampOffset+" to "+t.start),i.timestampOffset=t.start)}}},n.onManifestParsed=function(t){var e=2;(t.audio&&!t.video||!t.altAudio)&&(e=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=e,u["logger"].log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},n.onMediaAttaching=function(t){var e=this.media=t.media;if(e&&Ee){var n=this.mediaSource=new Ee;n.addEventListener("sourceopen",this._onMediaSourceOpen),n.addEventListener("sourceended",this._onMediaSourceEnded),n.addEventListener("sourceclose",this._onMediaSourceClose),e.src=window.URL.createObjectURL(n),this._objectUrl=e.src}},n.onMediaDetaching=function(){u["logger"].log("media source detaching");var t=this.mediaSource;if(t){if("open"===t.readyState)try{t.endOfStream()}catch(e){u["logger"].warn("onMediaDetaching:"+e.message+" while calling endOfStream")}t.removeEventListener("sourceopen",this._onMediaSourceOpen),t.removeEventListener("sourceended",this._onMediaSourceEnded),t.removeEventListener("sourceclose",this._onMediaSourceClose),this.media&&(this._objectUrl&&window.URL.revokeObjectURL(this._objectUrl),this.media.src===this._objectUrl?(this.media.removeAttribute("src"),this.media.load()):u["logger"].warn("media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.hls.trigger(c["default"].MEDIA_DETACHED)},n.checkPendingTracks=function(){var t=this.bufferCodecEventsExpected,e=this.pendingTracks,n=Object.keys(e).length;(n&&!t||2===n)&&(this.createSourceBuffers(e),this.pendingTracks={},this.doAppending())},n.onBufferReset=function(){var t=this.sourceBuffer;for(var e in t){var n=t[e];try{n&&(this.mediaSource&&this.mediaSource.removeSourceBuffer(n),n.removeEventListener("updateend",this._onSBUpdateEnd),n.removeEventListener("error",this._onSBUpdateError))}catch(i){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},n.onBufferCodecs=function(t){var e=this;Object.keys(this.sourceBuffer).length||(Object.keys(t).forEach((function(n){e.pendingTracks[n]=t[n]})),this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())},n.createSourceBuffers=function(t){var e=this.sourceBuffer,n=this.mediaSource;if(!n)throw Error("createSourceBuffers called when mediaSource was null");for(var i in t)if(!e[i]){var r=t[i];if(!r)throw Error("source buffer exists for track "+i+", however track does not");var a=r.levelCodec||r.codec,o=r.container+";codecs="+a;u["logger"].log("creating sourceBuffer("+o+")");try{var l=e[i]=n.addSourceBuffer(o);l.addEventListener("updateend",this._onSBUpdateEnd),l.addEventListener("error",this._onSBUpdateError),this.tracks[i]={buffer:l,codec:a,id:r.id,container:r.container,levelCodec:r.levelCodec}}catch(d){u["logger"].error("error while trying to add sourceBuffer:"+d.message),this.hls.trigger(c["default"].ERROR,{type:s["ErrorTypes"].MEDIA_ERROR,details:s["ErrorDetails"].BUFFER_ADD_CODEC_ERROR,fatal:!1,err:d,mimeType:o})}}this.hls.trigger(c["default"].BUFFER_CREATED,{tracks:this.tracks})},n.onBufferAppending=function(t){this._needsFlush||(this.segments?this.segments.push(t):this.segments=[t],this.doAppending())},n.onBufferEos=function(t){for(var e in this.sourceBuffer)if(!t.type||t.type===e){var n=this.sourceBuffer[e];n&&!n.ended&&(n.ended=!0,u["logger"].log(e+" sourceBuffer now EOS"))}this.checkEos()},n.checkEos=function(){var t=this.sourceBuffer,e=this.mediaSource;if(e&&"open"===e.readyState){for(var n in t){var i=t[n];if(i){if(!i.ended)return;if(i.updating)return void(this._needsEos=!0)}}u["logger"].log("all media data are available, signal endOfStream() to MediaSource and stop loading fragment");try{e.endOfStream()}catch(r){u["logger"].warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}else this._needsEos=!1},n.onBufferFlushing=function(t){t.type?this.flushRange.push({start:t.startOffset,end:t.endOffset,type:t.type}):(this.flushRange.push({start:t.startOffset,end:t.endOffset,type:"video"}),this.flushRange.push({start:t.startOffset,end:t.endOffset,type:"audio"})),this.flushBufferCounter=0,this.doFlush()},n.flushLiveBackBuffer=function(){if(this._live){var t=this.config.liveBackBufferLength;if(isFinite(t)&&!(t<0))if(this.media)for(var e=this.media.currentTime,n=this.sourceBuffer,i=Object.keys(n),r=e-Math.max(t,this._levelTargetDuration),a=i.length-1;a>=0;a--){var o=i[a],s=n[o];if(s){var l=s.buffered;l.length>0&&r>l.start(0)&&this.removeBufferRange(o,s,0,r)&&this.hls.trigger(c["default"].LIVE_BACK_BUFFER_REACHED,{bufferEnd:r})}}else u["logger"].error("flushLiveBackBuffer called without attaching media")}},n.onLevelUpdated=function(t){var e=t.details;e.fragments.length>0&&(this._levelDuration=e.totalduration+e.fragments[0].start,this._levelTargetDuration=e.averagetargetduration||e.targetduration||10,this._live=e.live,this.updateMediaElementDuration())},n.updateMediaElementDuration=function(){var t,e=this.config;if(null!==this._levelDuration&&this.media&&this.mediaSource&&this.sourceBuffer&&0!==this.media.readyState&&"open"===this.mediaSource.readyState){for(var n in this.sourceBuffer){var i=this.sourceBuffer[n];if(i&&!0===i.updating)return}t=this.media.duration,null===this._msDuration&&(this._msDuration=this.mediaSource.duration),!0===this._live&&!0===e.liveDurationInfinity?(u["logger"].log("Media Source duration is set to Infinity"),this._msDuration=this.mediaSource.duration=1/0):(this._levelDuration>this._msDuration&&this._levelDuration>t||!Object(l["isFiniteNumber"])(t))&&(u["logger"].log("Updating Media Source duration to "+this._levelDuration.toFixed(3)),this._msDuration=this.mediaSource.duration=this._levelDuration)}},n.doFlush=function(){while(this.flushRange.length){var t=this.flushRange[0];if(!this.flushBuffer(t.start,t.end,t.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var e=0,n=this.sourceBuffer;try{for(var i in n){var r=n[i];r&&(e+=r.buffered.length)}}catch(a){u["logger"].error("error while accessing sourceBuffer.buffered")}this.appended=e,this.hls.trigger(c["default"].BUFFER_FLUSHED)}},n.doAppending=function(){var t=this.config,e=this.hls,n=this.segments,i=this.sourceBuffer;if(Object.keys(i).length){if(!this.media||this.media.error)return this.segments=[],void u["logger"].error("trying to append although a media error occured, flush segment and abort");if(!this.appending){var r=n.shift();if(r)try{var a=i[r.type];if(!a)return void this._onSBUpdateEnd();if(a.updating)return void n.unshift(r);a.ended=!1,this.parent=r.parent,a.appendBuffer(r.data),this.appendError=0,this.appended++,this.appending=!0}catch(l){u["logger"].error("error while trying to append buffer:"+l.message),n.unshift(r);var o={type:s["ErrorTypes"].MEDIA_ERROR,parent:r.parent,details:"",fatal:!1};22===l.code?(this.segments=[],o.details=s["ErrorDetails"].BUFFER_FULL_ERROR):(this.appendError++,o.details=s["ErrorDetails"].BUFFER_APPEND_ERROR,this.appendError>t.appendErrorMaxRetry&&(u["logger"].log("fail "+t.appendErrorMaxRetry+" times to append segment in sourceBuffer"),this.segments=[],o.fatal=!0)),e.trigger(c["default"].ERROR,o)}}}},n.flushBuffer=function(t,e,n){var i=this.sourceBuffer;if(!Object.keys(i).length)return!0;var r="null";if(this.media&&(r=this.media.currentTime.toFixed(3)),u["logger"].log("flushBuffer,pos/start/end: "+r+"/"+t+"/"+e),this.flushBufferCounter>=this.appended)return u["logger"].warn("abort flushing too many retries"),!0;var a=i[n];if(a){if(a.ended=!1,a.updating)return u["logger"].warn("cannot flush, sb updating in progress"),!1;if(this.removeBufferRange(n,a,t,e))return this.flushBufferCounter++,!1}return u["logger"].log("buffer flushed"),!0},n.removeBufferRange=function(t,e,n,i){try{for(var r=0;r<e.buffered.length;r++){var a=e.buffered.start(r),o=e.buffered.end(r),s=Math.max(a,n),l=Math.min(o,i);if(Math.min(l,o)-s>.5){var c="null";return this.media&&(c=this.media.currentTime.toString()),u["logger"].log("sb remove "+t+" ["+s+","+l+"], of ["+a+","+o+"], pos:"+c),e.remove(s,l),!0}}}catch(d){u["logger"].warn("removeBufferRange failed",d)}return!1},e}(f),Ae=_e;function Ce(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Oe(t,e,n){return e&&Ce(t.prototype,e),n&&Ce(t,n),t}function Le(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Re=function(t){function e(e){var n;return n=t.call(this,e,c["default"].FPS_DROP_LEVEL_CAPPING,c["default"].MEDIA_ATTACHING,c["default"].MANIFEST_PARSED,c["default"].LEVELS_UPDATED,c["default"].BUFFER_CODECS,c["default"].MEDIA_DETACHING)||this,n.autoLevelCapping=Number.POSITIVE_INFINITY,n.firstLevel=null,n.levels=[],n.media=null,n.restrictedLevels=[],n.timer=null,n.clientRect=null,n}Le(e,t);var n=e.prototype;return n.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=null,this.clientRect=null,this.stopCapping())},n.onFpsDropLevelCapping=function(t){e.isLevelAllowed(t.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(t.droppedLevel)},n.onMediaAttaching=function(t){this.media=t.media instanceof window.HTMLVideoElement?t.media:null},n.onManifestParsed=function(t){var e=this.hls;this.restrictedLevels=[],this.levels=t.levels,this.firstLevel=t.firstLevel,e.config.capLevelToPlayerSize&&t.video&&this.startCapping()},n.onBufferCodecs=function(t){var e=this.hls;e.config.capLevelToPlayerSize&&t.video&&this.startCapping()},n.onLevelsUpdated=function(t){this.levels=t.levels},n.onMediaDetaching=function(){this.stopCapping()},n.detectPlayerSize=function(){if(this.media){var t=this.levels?this.levels.length:0;if(t){var e=this.hls;e.autoLevelCapping=this.getMaxLevel(t-1),e.autoLevelCapping>this.autoLevelCapping&&e.streamController.nextLevelSwitch(),this.autoLevelCapping=e.autoLevelCapping}}},n.getMaxLevel=function(t){var n=this;if(!this.levels)return-1;var i=this.levels.filter((function(i,r){return e.isLevelAllowed(r,n.restrictedLevels)&&r<=t}));return this.clientRect=null,e.getMaxLevelByMediaSize(i,this.mediaWidth,this.mediaHeight)},n.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},n.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer),this.timer=null)},n.getDimensions=function(){if(this.clientRect)return this.clientRect;var t=this.media,e={width:0,height:0};if(t){var n=t.getBoundingClientRect();e.width=n.width,e.height=n.height,e.width||e.height||(e.width=n.right-n.left||t.width||0,e.height=n.bottom-n.top||t.height||0)}return this.clientRect=e,e},e.isLevelAllowed=function(t,e){return void 0===e&&(e=[]),-1===e.indexOf(t)},e.getMaxLevelByMediaSize=function(t,e,n){if(!t||t&&!t.length)return-1;for(var i=function(t,e){return!e||(t.width!==e.width||t.height!==e.height)},r=t.length-1,a=0;a<t.length;a+=1){var o=t[a];if((o.width>=e||o.height>=n)&&i(o,t[a+1])){r=a;break}}return r},Oe(e,[{key:"mediaWidth",get:function(){return this.getDimensions().width*e.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*e.contentScaleFactor}}],[{key:"contentScaleFactor",get:function(){var t=1;try{t=window.devicePixelRatio}catch(e){}return t}}]),e}(f),De=Re;function Ie(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Pe=window,Me=Pe.performance,Fe=function(t){function e(e){return t.call(this,e,c["default"].MEDIA_ATTACHING)||this}Ie(e,t);var n=e.prototype;return n.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},n.onMediaAttaching=function(t){var e=this.hls.config;if(e.capLevelOnFPSDrop){var n=this.video=t.media instanceof window.HTMLVideoElement?t.media:null;"function"===typeof n.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),e.fpsDroppedMonitoringPeriod)}},n.checkFPS=function(t,e,n){var i=Me.now();if(e){if(this.lastTime){var r=i-this.lastTime,a=n-this.lastDroppedFrames,o=e-this.lastDecodedFrames,s=1e3*a/r,l=this.hls;if(l.trigger(c["default"].FPS_DROP,{currentDropped:a,currentDecoded:o,totalDroppedFrames:n}),s>0&&a>l.config.fpsDroppedMonitoringThreshold*o){var d=l.currentLevel;u["logger"].warn("drop FPS ratio greater than max allowed value for currentLevel: "+d),d>0&&(-1===l.autoLevelCapping||l.autoLevelCapping>=d)&&(d-=1,l.trigger(c["default"].FPS_DROP_LEVEL_CAPPING,{level:d,droppedLevel:l.currentLevel}),l.autoLevelCapping=d,l.streamController.nextLevelSwitch())}}this.lastTime=i,this.lastDroppedFrames=n,this.lastDecodedFrames=e}},n.checkFPSInterval=function(){var t=this.video;if(t)if(this.isVideoPlaybackQualityAvailable){var e=t.getVideoPlaybackQuality();this.checkFPS(t,e.totalVideoFrames,e.droppedVideoFrames)}else this.checkFPS(t,t.webkitDecodedFrameCount,t.webkitDroppedFrameCount)},e}(f),Be=Fe,Ne=function(){function t(t){t&&t.xhrSetup&&(this.xhrSetup=t.xhrSetup)}var e=t.prototype;return e.destroy=function(){this.abort(),this.loader=null},e.abort=function(){var t=this.loader;t&&4!==t.readyState&&(this.stats.aborted=!0,t.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},e.load=function(t,e,n){this.context=t,this.config=e,this.callbacks=n,this.stats={trequest:window.performance.now(),retry:0},this.retryDelay=e.retryDelay,this.loadInternal()},e.loadInternal=function(){var t,e=this.context;t=this.loader=new window.XMLHttpRequest;var n=this.stats;n.tfirst=0,n.loaded=0;var i=this.xhrSetup;try{if(i)try{i(t,e.url)}catch(r){t.open("GET",e.url,!0),i(t,e.url)}t.readyState||t.open("GET",e.url,!0)}catch(r){return void this.callbacks.onError({code:t.status,text:r.message},e,t)}e.rangeEnd&&t.setRequestHeader("Range","bytes="+e.rangeStart+"-"+(e.rangeEnd-1)),t.onreadystatechange=this.readystatechange.bind(this),t.onprogress=this.loadprogress.bind(this),t.responseType=e.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),t.send()},e.readystatechange=function(t){var e=t.currentTarget,n=e.readyState,i=this.stats,r=this.context,a=this.config;if(!i.aborted&&n>=2)if(window.clearTimeout(this.requestTimeout),0===i.tfirst&&(i.tfirst=Math.max(window.performance.now(),i.trequest)),4===n){var o=e.status;if(o>=200&&o<300){var s,l;i.tload=Math.max(i.tfirst,window.performance.now()),"arraybuffer"===r.responseType?(s=e.response,l=s.byteLength):(s=e.responseText,l=s.length),i.loaded=i.total=l;var c={url:e.responseURL,data:s};this.callbacks.onSuccess(c,i,r,e)}else i.retry>=a.maxRetry||o>=400&&o<499?(u["logger"].error(o+" while loading "+r.url),this.callbacks.onError({code:o,text:e.statusText},r,e)):(u["logger"].warn(o+" while loading "+r.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,a.maxRetryDelay),i.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),a.timeout)},e.loadtimeout=function(){u["logger"].warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},e.loadprogress=function(t){var e=t.currentTarget,n=this.stats;n.loaded=t.loaded,t.lengthComputable&&(n.total=t.total);var i=this.callbacks.onProgress;i&&i(n,this.context,null,e)},t}(),je=Ne;function $e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ue(t,e,n){return e&&$e(t.prototype,e),n&&$e(t,n),t}function ze(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Ve=function(t){function e(e){var n;return n=t.call(this,e,c["default"].MANIFEST_LOADING,c["default"].MANIFEST_PARSED,c["default"].AUDIO_TRACK_LOADED,c["default"].AUDIO_TRACK_SWITCHED,c["default"].LEVEL_LOADED,c["default"].ERROR)||this,n._trackId=-1,n._selectDefaultTrack=!0,n.tracks=[],n.trackIdBlacklist=Object.create(null),n.audioGroupId=null,n}ze(e,t);var n=e.prototype;return n.onManifestLoading=function(){this.tracks=[],this._trackId=-1,this._selectDefaultTrack=!0},n.onManifestParsed=function(t){var e=this.tracks=t.audioTracks||[];this.hls.trigger(c["default"].AUDIO_TRACKS_UPDATED,{audioTracks:e}),this._selectAudioGroup(this.hls.nextLoadLevel)},n.onAudioTrackLoaded=function(t){if(t.id>=this.tracks.length)u["logger"].warn("Invalid audio track id:",t.id);else{if(u["logger"].log("audioTrack "+t.id+" loaded"),this.tracks[t.id].details=t.details,t.details.live&&!this.hasInterval()){var e=1e3*t.details.targetduration;this.setInterval(e)}!t.details.live&&this.hasInterval()&&this.clearInterval()}},n.onAudioTrackSwitched=function(t){var e=this.tracks[t.id].groupId;e&&this.audioGroupId!==e&&(this.audioGroupId=e)},n.onLevelLoaded=function(t){this._selectAudioGroup(t.level)},n.onError=function(t){t.type===s["ErrorTypes"].NETWORK_ERROR&&(t.fatal&&this.clearInterval(),t.details===s["ErrorDetails"].AUDIO_TRACK_LOAD_ERROR&&(u["logger"].warn("Network failure on audio-track id:",t.context.id),this._handleLoadError()))},n._setAudioTrack=function(t){if(this._trackId===t&&this.tracks[this._trackId].details)u["logger"].debug("Same id as current audio-track passed, and track details available -> no-op");else if(t<0||t>=this.tracks.length)u["logger"].warn("Invalid id passed to audio-track controller");else{var e=this.tracks[t];u["logger"].log("Now switching to audio-track index "+t),this.clearInterval(),this._trackId=t;var n=e.url,i=e.type,r=e.id;this.hls.trigger(c["default"].AUDIO_TRACK_SWITCHING,{id:r,type:i,url:n}),this._loadTrackDetailsIfNeeded(e)}},n.doTick=function(){this._updateTrack(this._trackId)},n._selectAudioGroup=function(t){var e=this.hls.levels[t];if(e&&e.audioGroupIds){var n=e.audioGroupIds[e.urlId];this.audioGroupId!==n&&(this.audioGroupId=n,this._selectInitialAudioTrack())}},n._selectInitialAudioTrack=function(){var t=this,e=this.tracks;if(e.length){var n=this.tracks[this._trackId],i=null;if(n&&(i=n.name),this._selectDefaultTrack){var r=e.filter((function(t){return t.default}));r.length?e=r:u["logger"].warn("No default audio tracks defined")}var a=!1,o=function(){e.forEach((function(e){a||t.audioGroupId&&e.groupId!==t.audioGroupId||i&&i!==e.name||(t._setAudioTrack(e.id),a=!0)}))};o(),a||(i=null,o()),a||(u["logger"].error("No track found for running audio group-ID: "+this.audioGroupId),this.hls.trigger(c["default"].ERROR,{type:s["ErrorTypes"].MEDIA_ERROR,details:s["ErrorDetails"].AUDIO_TRACK_LOAD_ERROR,fatal:!0}))}},n._needsTrackLoading=function(t){var e=t.details,n=t.url;return!(e&&!e.live)&&!!n},n._loadTrackDetailsIfNeeded=function(t){if(this._needsTrackLoading(t)){var e=t.url,n=t.id;u["logger"].log("loading audio-track playlist for id: "+n),this.hls.trigger(c["default"].AUDIO_TRACK_LOADING,{url:e,id:n})}},n._updateTrack=function(t){if(!(t<0||t>=this.tracks.length)){this.clearInterval(),this._trackId=t,u["logger"].log("trying to update audio-track "+t);var e=this.tracks[t];this._loadTrackDetailsIfNeeded(e)}},n._handleLoadError=function(){this.trackIdBlacklist[this._trackId]=!0;var t=this._trackId,e=this.tracks[t],n=e.name,i=e.language,r=e.groupId;u["logger"].warn("Loading failed on audio track id: "+t+", group-id: "+r+', name/language: "'+n+'" / "'+i+'"');for(var a=t,o=0;o<this.tracks.length;o++)if(!this.trackIdBlacklist[o]){var s=this.tracks[o];if(s.name===n){a=o;break}}a!==t?(u["logger"].log("Attempting audio-track fallback id:",a,"group-id:",this.tracks[a].groupId),this._setAudioTrack(a)):u["logger"].warn('No fallback audio-track found for name/language: "'+n+'" / "'+i+'"')},Ue(e,[{key:"audioTracks",get:function(){return this.tracks}},{key:"audioTrack",get:function(){return this._trackId},set:function(t){this._setAudioTrack(t),this._selectDefaultTrack=!1}}]),e}(Vt),He=Ve;function qe(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ge(t,e,n){return e&&qe(t.prototype,e),n&&qe(t,n),t}function We(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Ke=window,Ye=Ke.performance,Xe=100,Qe=function(t){function e(e,n){var i;return i=t.call(this,e,c["default"].MEDIA_ATTACHED,c["default"].MEDIA_DETACHING,c["default"].AUDIO_TRACKS_UPDATED,c["default"].AUDIO_TRACK_SWITCHING,c["default"].AUDIO_TRACK_LOADED,c["default"].KEY_LOADED,c["default"].FRAG_LOADED,c["default"].FRAG_PARSING_INIT_SEGMENT,c["default"].FRAG_PARSING_DATA,c["default"].FRAG_PARSED,c["default"].ERROR,c["default"].BUFFER_RESET,c["default"].BUFFER_CREATED,c["default"].BUFFER_APPENDED,c["default"].BUFFER_FLUSHED,c["default"].INIT_PTS_FOUND)||this,i.fragmentTracker=n,i.config=e.config,i.audioCodecSwap=!1,i._state=qt.STOPPED,i.initPTS=[],i.waitingFragment=null,i.videoTrackCC=null,i}We(e,t);var n=e.prototype;return n.onInitPtsFound=function(t){var e=t.id,n=t.frag.cc,i=t.initPTS;"main"===e&&(this.initPTS[n]=i,this.videoTrackCC=n,u["logger"].log("InitPTS for cc: "+n+" found from video track: "+i),this.state===qt.WAITING_INIT_PTS&&this.tick())},n.startLoad=function(t){if(this.tracks){var e=this.lastCurrentTime;this.stopLoad(),this.setInterval(Xe),this.fragLoadError=0,e>0&&-1===t?(u["logger"].log("audio:override startPosition with lastCurrentTime @"+e.toFixed(3)),this.state=qt.IDLE):(this.lastCurrentTime=this.startPosition?this.startPosition:t,this.state=qt.STARTING),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=t,this.state=qt.STOPPED},n.doTick=function(){var t,e,n,i=this.hls,r=i.config;switch(this.state){case qt.ERROR:case qt.PAUSED:case qt.BUFFER_FLUSHING:break;case qt.STARTING:this.state=qt.WAITING_TRACK,this.loadedmetadata=!1;break;case qt.IDLE:var a=this.tracks;if(!a)break;if(!this.media&&(this.startFragRequested||!r.startFragPrefetch))break;if(this.loadedmetadata)t=this.media.currentTime;else if(t=this.nextLoadPosition,void 0===t)break;var o=this.mediaBuffer?this.mediaBuffer:this.media,s=this.videoBuffer?this.videoBuffer:this.media,d=t<r.maxBufferHole?Math.max(Bt,r.maxBufferHole):r.maxBufferHole,h=nt.bufferInfo(o,t,d),f=nt.bufferInfo(s,t,d),p=h.len,m=h.end,v=this.fragPrevious,g=Math.min(r.maxBufferLength,r.maxMaxBufferLength),y=Math.max(g,f.len),b=this.audioSwitch,w=this.trackId;if((p<y||b)&&w<a.length){if(n=a[w].details,"undefined"===typeof n){this.state=qt.WAITING_TRACK;break}if(!b&&this._streamEnded(h,n))return this.hls.trigger(c["default"].BUFFER_EOS,{type:"audio"}),void(this.state=qt.ENDED);var k,S=n.fragments,x=S.length,T=S[0].start,E=S[x-1].start+S[x-1].duration;if(b)if(n.live&&!n.PTSKnown)u["logger"].log("switching audiotrack, live stream, unknown PTS,load first fragment"),m=0;else if(m=t,n.PTSKnown&&t<T){if(!(h.end>T||h.nextStart))return;u["logger"].log("alt audio track ahead of main track, seek to start of alt audio track"),this.media.currentTime=T+.05}if(n.initSegment&&!n.initSegment.data)k=n.initSegment;else if(m<=T){if(k=S[0],null!==this.videoTrackCC&&k.cc!==this.videoTrackCC&&(k=Et(S,this.videoTrackCC)),n.live&&k.loadIdx&&k.loadIdx===this.fragLoadIdx){var _=h.nextStart?h.nextStart:T;return u["logger"].log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(_+.05)),void(this.media.currentTime=_+.05)}}else{var A,C=r.maxFragLookUpTolerance,O=v?S[v.sn-S[0].sn+1]:void 0,L=function(t){var e=Math.min(C,t.duration);return t.start+t.duration-e<=m?1:t.start-e>m&&t.start?-1:0};m<E?(m>E-C&&(C=0),A=O&&!L(O)?O:et.search(S,L)):A=S[x-1],A&&(k=A,T=A.start,v&&k.level===v.level&&k.sn===v.sn&&(k.sn<n.endSN?(k=S[k.sn+1-n.startSN],u["logger"].log("SN just loaded, load next one: "+k.sn)):k=null))}k&&(k.encrypted?(u["logger"].log("Loading key for "+k.sn+" of ["+n.startSN+" ,"+n.endSN+"],track "+w),this.state=qt.KEY_LOADING,i.trigger(c["default"].KEY_LOADING,{frag:k})):(this.fragCurrent=k,(b||this.fragmentTracker.getState(k)===J.NOT_LOADED)&&(u["logger"].log("Loading "+k.sn+", cc: "+k.cc+" of ["+n.startSN+" ,"+n.endSN+"],track "+w+", currentTime:"+t+",bufferEnd:"+m.toFixed(3)),"initSegment"!==k.sn&&(this.startFragRequested=!0),Object(l["isFiniteNumber"])(k.sn)&&(this.nextLoadPosition=k.start+k.duration),i.trigger(c["default"].FRAG_LOADING,{frag:k}),this.state=qt.FRAG_LOADING)))}break;case qt.WAITING_TRACK:e=this.tracks[this.trackId],e&&e.details&&(this.state=qt.IDLE);break;case qt.FRAG_LOADING_WAITING_RETRY:var R=Ye.now(),D=this.retryDate;o=this.media;var I=o&&o.seeking;(!D||R>=D||I)&&(u["logger"].log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=qt.IDLE);break;case qt.WAITING_INIT_PTS:var P=this.videoTrackCC;if(void 0===this.initPTS[P])break;var M=this.waitingFragment;if(M){var F=M.frag.cc;P!==F?(e=this.tracks[this.trackId],e.details&&e.details.live&&(u["logger"].warn("Waiting fragment CC ("+F+") does not match video track CC ("+P+")"),this.waitingFragment=null,this.state=qt.IDLE)):(this.state=qt.FRAG_LOADING,this.onFragLoaded(this.waitingFragment),this.waitingFragment=null)}else this.state=qt.IDLE;break;case qt.STOPPED:case qt.FRAG_LOADING:case qt.PARSING:case qt.PARSED:case qt.ENDED:break;default:break}},n.onMediaAttached=function(t){var e=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("ended",this.onvended);var n=this.config;this.tracks&&n.autoStartLoad&&this.startLoad(n.startPosition)},n.onMediaDetaching=function(){var t=this.media;t&&t.ended&&(u["logger"].log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},n.onAudioTracksUpdated=function(t){u["logger"].log("audio tracks updated"),this.tracks=t.audioTracks},n.onAudioTrackSwitching=function(t){var e=!!t.url;this.trackId=t.id,this.fragCurrent=null,this.state=qt.PAUSED,this.waitingFragment=null,e?this.setInterval(Xe):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),e&&(this.audioSwitch=!0,this.state=qt.IDLE),this.tick()},n.onAudioTrackLoaded=function(t){var e=t.details,n=t.id,i=this.tracks[n],r=e.totalduration,a=0;if(u["logger"].log("track "+n+" loaded ["+e.startSN+","+e.endSN+"],duration:"+r),e.live){var o=i.details;o&&e.fragments.length>0?(gt(o,e),a=e.fragments[0].start,e.PTSKnown?u["logger"].log("live audio playlist sliding:"+a.toFixed(3)):u["logger"].log("live audio playlist - outdated PTS, unknown sliding")):(e.PTSKnown=!1,u["logger"].log("live audio playlist - first load, unknown sliding"))}else e.PTSKnown=!1;if(i.details=e,!this.startFragRequested){if(-1===this.startPosition){var s=e.startTimeOffset;Object(l["isFiniteNumber"])(s)?(u["logger"].log("start time offset found in playlist, adjust startPosition to "+s),this.startPosition=s):e.live?(this.startPosition=this.computeLivePosition(a,e),u["logger"].log("compute startPosition for audio-track to "+this.startPosition)):this.startPosition=0}this.nextLoadPosition=this.startPosition}this.state===qt.WAITING_TRACK&&(this.state=qt.IDLE),this.tick()},n.onKeyLoaded=function(){this.state===qt.KEY_LOADING&&(this.state=qt.IDLE,this.tick())},n.onFragLoaded=function(t){var e=this.fragCurrent,n=t.frag;if(this.state===qt.FRAG_LOADING&&e&&"audio"===n.type&&n.level===e.level&&n.sn===e.sn){var i=this.tracks[this.trackId],r=i.details,a=r.totalduration,o=e.level,s=e.sn,l=e.cc,d=this.config.defaultAudioCodec||i.audioCodec||"mp4a.40.2",h=this.stats=t.stats;if("initSegment"===s)this.state=qt.IDLE,h.tparsed=h.tbuffered=Ye.now(),r.initSegment.data=t.payload,this.hls.trigger(c["default"].FRAG_BUFFERED,{stats:h,frag:e,id:"audio"}),this.tick();else{this.state=qt.PARSING,this.appended=!1,this.demuxer||(this.demuxer=new ft(this.hls,"audio"));var f=this.initPTS[l],p=r.initSegment?r.initSegment.data:[];if(r.initSegment||void 0!==f){this.pendingBuffering=!0,u["logger"].log("Demuxing "+s+" of ["+r.startSN+" ,"+r.endSN+"],track "+o);var m=!1;this.demuxer.push(t.payload,p,d,null,e,a,m,f)}else u["logger"].log("unknown video PTS for continuity counter "+l+", waiting for video PTS before demuxing audio frag "+s+" of ["+r.startSN+" ,"+r.endSN+"],track "+o),this.waitingFragment=t,this.state=qt.WAITING_INIT_PTS}}this.fragLoadError=0},n.onFragParsingInitSegment=function(t){var e=this.fragCurrent,n=t.frag;if(e&&"audio"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===qt.PARSING){var i,r=t.tracks;if(r.video&&delete r.video,i=r.audio,i){i.levelCodec=i.codec,i.id=t.id,this.hls.trigger(c["default"].BUFFER_CODECS,r),u["logger"].log("audio track:audio,container:"+i.container+",codecs[level/parsed]=["+i.levelCodec+"/"+i.codec+"]");var a=i.initSegment;if(a){var o={type:"audio",data:a,parent:"audio",content:"initSegment"};this.audioSwitch?this.pendingData=[o]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(c["default"].BUFFER_APPENDING,o))}this.tick()}}},n.onFragParsingData=function(t){var e=this,n=this.fragCurrent,i=t.frag;if(n&&"audio"===t.id&&"audio"===t.type&&i.sn===n.sn&&i.level===n.level&&this.state===qt.PARSING){var r=this.trackId,a=this.tracks[r],o=this.hls;Object(l["isFiniteNumber"])(t.endPTS)||(t.endPTS=t.startPTS+n.duration,t.endDTS=t.startDTS+n.duration),n.addElementaryStream(g.AUDIO),u["logger"].log("parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb),vt(a.details,n,t.startPTS,t.endPTS);var d=this.audioSwitch,h=this.media,f=!1;if(d)if(h&&h.readyState){var p=h.currentTime;u["logger"].log("switching audio track : currentTime:"+p),p>=t.startPTS&&(u["logger"].log("switching audio track : flushing all audio"),this.state=qt.BUFFER_FLUSHING,o.trigger(c["default"].BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),f=!0,this.audioSwitch=!1,o.trigger(c["default"].AUDIO_TRACK_SWITCHED,{id:r}))}else this.audioSwitch=!1,o.trigger(c["default"].AUDIO_TRACK_SWITCHED,{id:r});var m=this.pendingData;if(!m)return u["logger"].warn("Apparently attempt to enqueue media payload without codec initialization data upfront"),void o.trigger(c["default"].ERROR,{type:s["ErrorTypes"].MEDIA_ERROR,details:null,fatal:!0});this.audioSwitch||([t.data1,t.data2].forEach((function(e){e&&e.length&&m.push({type:t.type,data:e,parent:"audio",content:"data"})})),!f&&m.length&&(m.forEach((function(t){e.state===qt.PARSING&&(e.pendingBuffering=!0,e.hls.trigger(c["default"].BUFFER_APPENDING,t))})),this.pendingData=[],this.appended=!0)),this.tick()}},n.onFragParsed=function(t){var e=this.fragCurrent,n=t.frag;e&&"audio"===t.id&&n.sn===e.sn&&n.level===e.level&&this.state===qt.PARSING&&(this.stats.tparsed=Ye.now(),this.state=qt.PARSED,this._checkAppendedParsed())},n.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},n.onBufferCreated=function(t){var e=t.tracks.audio;e&&(this.mediaBuffer=e.buffer,this.loadedmetadata=!0),t.tracks.video&&(this.videoBuffer=t.tracks.video.buffer)},n.onBufferAppended=function(t){if("audio"===t.parent){var e=this.state;e!==qt.PARSING&&e!==qt.PARSED||(this.pendingBuffering=t.pending>0,this._checkAppendedParsed())}},n._checkAppendedParsed=function(){if(this.state===qt.PARSED&&(!this.appended||!this.pendingBuffering)){var t=this.fragCurrent,e=this.stats,n=this.hls;if(t){this.fragPrevious=t,e.tbuffered=Ye.now(),n.trigger(c["default"].FRAG_BUFFERED,{stats:e,frag:t,id:"audio"});var i=this.mediaBuffer?this.mediaBuffer:this.media;i&&u["logger"].log("audio buffered : "+xt.toString(i.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,n.trigger(c["default"].AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=qt.IDLE}this.tick()}},n.onError=function(t){var e=t.frag;if(!e||"audio"===e.type)switch(t.details){case s["ErrorDetails"].FRAG_LOAD_ERROR:case s["ErrorDetails"].FRAG_LOAD_TIMEOUT:var n=t.frag;if(n&&"audio"!==n.type)break;if(!t.fatal){var i=this.fragLoadError;i?i++:i=1;var r=this.config;if(i<=r.fragLoadingMaxRetry){this.fragLoadError=i;var a=Math.min(Math.pow(2,i-1)*r.fragLoadingRetryDelay,r.fragLoadingMaxRetryTimeout);u["logger"].warn("AudioStreamController: frag loading failed, retry in "+a+" ms"),this.retryDate=Ye.now()+a,this.state=qt.FRAG_LOADING_WAITING_RETRY}else u["logger"].error("AudioStreamController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=qt.ERROR}break;case s["ErrorDetails"].AUDIO_TRACK_LOAD_ERROR:case s["ErrorDetails"].AUDIO_TRACK_LOAD_TIMEOUT:case s["ErrorDetails"].KEY_LOAD_ERROR:case s["ErrorDetails"].KEY_LOAD_TIMEOUT:this.state!==qt.ERROR&&(this.state=t.fatal?qt.ERROR:qt.IDLE,u["logger"].warn("AudioStreamController: "+t.details+" while loading frag, now switching to "+this.state+" state ..."));break;case s["ErrorDetails"].BUFFER_FULL_ERROR:if("audio"===t.parent&&(this.state===qt.PARSING||this.state===qt.PARSED)){var o=this.mediaBuffer,l=this.media.currentTime,d=o&&nt.isBuffered(o,l)&&nt.isBuffered(o,l+.5);if(d){var h=this.config;h.maxMaxBufferLength>=h.maxBufferLength&&(h.maxMaxBufferLength/=2,u["logger"].warn("AudioStreamController: reduce max buffer length to "+h.maxMaxBufferLength+"s")),this.state=qt.IDLE}else u["logger"].warn("AudioStreamController: buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state=qt.BUFFER_FLUSHING,this.hls.trigger(c["default"].BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"})}break;default:break}},n.onBufferFlushed=function(){var t=this,e=this.pendingData;e&&e.length?(u["logger"].log("AudioStreamController: appending pending audio data after buffer flushed"),e.forEach((function(e){t.hls.trigger(c["default"].BUFFER_APPENDING,e)})),this.appended=!0,this.pendingData=[],this.state=qt.PARSED):(this.state=qt.IDLE,this.fragPrevious=null,this.tick())},Ge(e,[{key:"state",set:function(t){if(this.state!==t){var e=this.state;this._state=t,u["logger"].log("audio stream:"+e+"->"+t)}},get:function(){return this._state}}]),e}(Gt),Je=Qe,Ze=function(){if("undefined"!==typeof window&&window.VTTCue)return window.VTTCue;var t="auto",e={"":!0,lr:!0,rl:!0},n={start:!0,middle:!0,end:!0,left:!0,right:!0};function i(t){if("string"!==typeof t)return!1;var n=e[t.toLowerCase()];return!!n&&t.toLowerCase()}function r(t){if("string"!==typeof t)return!1;var e=n[t.toLowerCase()];return!!e&&t.toLowerCase()}function a(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}function o(e,n,o){var s=this,l={enumerable:!0};s.hasBeenReset=!1;var c="",u=!1,d=e,h=n,f=o,p=null,m="",v=!0,g="auto",y="start",b=50,w="middle",k=50,S="middle";Object.defineProperty(s,"id",a({},l,{get:function(){return c},set:function(t){c=""+t}})),Object.defineProperty(s,"pauseOnExit",a({},l,{get:function(){return u},set:function(t){u=!!t}})),Object.defineProperty(s,"startTime",a({},l,{get:function(){return d},set:function(t){if("number"!==typeof t)throw new TypeError("Start time must be set to a number.");d=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",a({},l,{get:function(){return h},set:function(t){if("number"!==typeof t)throw new TypeError("End time must be set to a number.");h=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",a({},l,{get:function(){return f},set:function(t){f=""+t,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",a({},l,{get:function(){return p},set:function(t){p=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",a({},l,{get:function(){return m},set:function(t){var e=i(t);if(!1===e)throw new SyntaxError("An invalid or illegal string was specified.");m=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",a({},l,{get:function(){return v},set:function(t){v=!!t,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",a({},l,{get:function(){return g},set:function(e){if("number"!==typeof e&&e!==t)throw new SyntaxError("An invalid number or illegal string was specified.");g=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",a({},l,{get:function(){return y},set:function(t){var e=r(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",a({},l,{get:function(){return b},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");b=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",a({},l,{get:function(){return w},set:function(t){var e=r(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");w=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",a({},l,{get:function(){return k},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");k=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",a({},l,{get:function(){return S},set:function(t){var e=r(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");S=e,this.hasBeenReset=!0}})),s.displayState=void 0}return o.prototype.getCueAsHTML=function(){var t=window.WebVTT;return t.convertCueToDOMTree(window,this.text)},o}(),tn=function(){return{decode:function(t){if(!t)return"";if("string"!==typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}};function en(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new tn,this.regionList=[]}function nn(t){function e(t,e,n,i){return 3600*(0|t)+60*(0|e)+(0|n)+(0|i)/1e3}var n=t.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?e(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?e(n[1],n[2],0,n[4]):e(0,n[1],n[2],n[4]):null}function rn(){this.values=Object.create(null)}function an(t,e,n,i){var r=i?t.split(i):[t];for(var a in r)if("string"===typeof r[a]){var o=r[a].split(n);if(2===o.length){var s=o[0],l=o[1];e(s,l)}}}rn.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,n){for(var i=0;i<n.length;++i)if(e===n[i]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100))&&(this.set(t,e),!0)}};var on=new Ze(0,0,0),sn="middle"===on.align?"middle":"center";function ln(t,e,n){var i=t;function r(){var e=nn(t);if(null===e)throw new Error("Malformed timestamp: "+i);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function a(t,e){var i=new rn;an(t,(function(t,e){switch(t){case"region":for(var r=n.length-1;r>=0;r--)if(n[r].id===e){i.set(t,n[r].region);break}break;case"vertical":i.alt(t,e,["rl","lr"]);break;case"line":var a=e.split(","),o=a[0];i.integer(t,o),i.percent(t,o)&&i.set("snapToLines",!1),i.alt(t,o,["auto"]),2===a.length&&i.alt("lineAlign",a[1],["start",sn,"end"]);break;case"position":a=e.split(","),i.percent(t,a[0]),2===a.length&&i.alt("positionAlign",a[1],["start",sn,"end","line-left","line-right","auto"]);break;case"size":i.percent(t,e);break;case"align":i.alt(t,e,["start",sn,"end","left","right"]);break}}),/:/,/\s/),e.region=i.get("region",null),e.vertical=i.get("vertical","");var r=i.get("line","auto");"auto"===r&&-1===on.line&&(r=-1),e.line=r,e.lineAlign=i.get("lineAlign","start"),e.snapToLines=i.get("snapToLines",!0),e.size=i.get("size",100),e.align=i.get("align",sn);var a=i.get("position","auto");"auto"===a&&50===on.position&&(a="start"===e.align||"left"===e.align?0:"end"===e.align||"right"===e.align?100:50),e.position=a}function o(){t=t.replace(/^\s+/,"")}if(o(),e.startTime=r(),o(),"--\x3e"!==t.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+i);t=t.substr(3),o(),e.endTime=r(),o(),a(t,e)}function cn(t){return t.replace(/<br(?: \/)?>/gi,"\n")}en.prototype={parse:function(t){var e=this;function n(){var t=e.buffer,n=0;t=cn(t);while(n<t.length&&"\r"!==t[n]&&"\n"!==t[n])++n;var i=t.substr(0,n);return"\r"===t[n]&&++n,"\n"===t[n]&&++n,e.buffer=t.substr(n),i}function i(t){an(t,(function(t,e){switch(t){case"Region":break}}),/:/)}t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));try{var r;if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;r=n();var a=r.match(/^()?WEBVTT([ \t].*)?$/);if(!a||!a[0])throw new Error("Malformed WebVTT signature.");e.state="HEADER"}var o=!1;while(e.buffer){if(!/\r\n|\n/.test(e.buffer))return this;switch(o?o=!1:r=n(),e.state){case"HEADER":/:/.test(r)?i(r):r||(e.state="ID");continue;case"NOTE":r||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(r)){e.state="NOTE";break}if(!r)continue;if(e.cue=new Ze(0,0,""),e.state="CUE",-1===r.indexOf("--\x3e")){e.cue.id=r;continue}case"CUE":try{ln(r,e.cue,e.regionList)}catch(l){e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var s=-1!==r.indexOf("--\x3e");if(!r||s&&(o=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+="\n"),e.cue.text+=r;continue;case"BADCUE":r||(e.state="ID");continue}}}catch(l){"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||"HEADER"===t.state)&&(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state)throw new Error("Malformed WebVTT signature.")}catch(e){throw e}return t.onflush&&t.onflush(),this}};var un=en;function dn(t,e,n,i){for(var r,a,o,s,l,c=[],u=window.VTTCue||TextTrackCue,d=0;d<i.rows.length;d++)if(r=i.rows[d],o=!0,s=0,l="",!r.isEmpty()){for(var h=0;h<r.chars.length;h++)r.chars[h].uchar.match(/\s/)&&o?s++:(l+=r.chars[h].uchar,o=!1);r.cueStartTime=e,e===n&&(n+=1e-4),a=new u(e,n,cn(l.trim())),s>=16?s--:s++,navigator.userAgent.match(/Firefox\//)?a.line=d+1:a.line=d>7?d-2:d+1,a.align="left",a.position=Math.max(0,Math.min(100,s/32*100)),c.push(a),t&&t.addCue(a)}return c}var hn,fn={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},pn=function(t){var e=t;return fn.hasOwnProperty(t)&&(e=fn[t]),String.fromCharCode(e)},mn=15,vn=100,gn={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},yn={17:2,18:4,21:6,22:8,23:10,19:13,20:15},bn={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},wn={25:2,26:4,29:6,30:8,31:10,27:13,28:15},kn=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];(function(t){t[t["ERROR"]=0]="ERROR",t[t["TEXT"]=1]="TEXT",t[t["WARNING"]=2]="WARNING",t[t["INFO"]=2]="INFO",t[t["DEBUG"]=3]="DEBUG",t[t["DATA"]=3]="DATA"})(hn||(hn={}));var Sn=function(){function t(){this.time=null,this.verboseLevel=hn.ERROR}var e=t.prototype;return e.log=function(t,e){this.verboseLevel>=t&&u["logger"].log(this.time+" ["+t+"] "+e)},t}(),xn=function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].toString(16));return e},Tn=function(){function t(t,e,n,i,r){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=t||"white",this.underline=e||!1,this.italics=n||!1,this.background=i||"black",this.flash=r||!1}var e=t.prototype;return e.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},e.setStyles=function(t){for(var e=["foreground","underline","italics","background","flash"],n=0;n<e.length;n++){var i=e[n];t.hasOwnProperty(i)&&(this[i]=t[i])}},e.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},e.equals=function(t){return this.foreground===t.foreground&&this.underline===t.underline&&this.italics===t.italics&&this.background===t.background&&this.flash===t.flash},e.copy=function(t){this.foreground=t.foreground,this.underline=t.underline,this.italics=t.italics,this.background=t.background,this.flash=t.flash},e.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},t}(),En=function(){function t(t,e,n,i,r,a){this.uchar=void 0,this.penState=void 0,this.uchar=t||" ",this.penState=new Tn(e,n,i,r,a)}var e=t.prototype;return e.reset=function(){this.uchar=" ",this.penState.reset()},e.setChar=function(t,e){this.uchar=t,this.penState.copy(e)},e.setPenState=function(t){this.penState.copy(t)},e.equals=function(t){return this.uchar===t.uchar&&this.penState.equals(t.penState)},e.copy=function(t){this.uchar=t.uchar,this.penState.copy(t.penState)},e.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},t}(),_n=function(){function t(t){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(var e=0;e<vn;e++)this.chars.push(new En);this.logger=t,this.pos=0,this.currPenState=new Tn}var e=t.prototype;return e.equals=function(t){for(var e=!0,n=0;n<vn;n++)if(!this.chars[n].equals(t.chars[n])){e=!1;break}return e},e.copy=function(t){for(var e=0;e<vn;e++)this.chars[e].copy(t.chars[e])},e.isEmpty=function(){for(var t=!0,e=0;e<vn;e++)if(!this.chars[e].isEmpty()){t=!1;break}return t},e.setCursor=function(t){this.pos!==t&&(this.pos=t),this.pos<0?(this.logger.log(hn.DEBUG,"Negative cursor position "+this.pos),this.pos=0):this.pos>vn&&(this.logger.log(hn.DEBUG,"Too large cursor position "+this.pos),this.pos=vn)},e.moveCursor=function(t){var e=this.pos+t;if(t>1)for(var n=this.pos+1;n<e+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(e)},e.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},e.insertChar=function(t){t>=144&&this.backSpace();var e=pn(t);this.pos>=vn?this.logger.log(hn.ERROR,"Cannot insert "+t.toString(16)+" ("+e+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(e,this.currPenState),this.moveCursor(1))},e.clearFromPos=function(t){var e;for(e=t;e<vn;e++)this.chars[e].reset()},e.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},e.clearToEndOfRow=function(){this.clearFromPos(this.pos)},e.getTextString=function(){for(var t=[],e=!0,n=0;n<vn;n++){var i=this.chars[n].uchar;" "!==i&&(e=!1),t.push(i)}return e?"":t.join("")},e.setPenStyles=function(t){this.currPenState.setStyles(t);var e=this.chars[this.pos];e.setPenState(this.currPenState)},t}(),An=function(){function t(t){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(var e=0;e<mn;e++)this.rows.push(new _n(t));this.logger=t,this.currRow=mn-1,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}var e=t.prototype;return e.reset=function(){for(var t=0;t<mn;t++)this.rows[t].clear();this.currRow=mn-1},e.equals=function(t){for(var e=!0,n=0;n<mn;n++)if(!this.rows[n].equals(t.rows[n])){e=!1;break}return e},e.copy=function(t){for(var e=0;e<mn;e++)this.rows[e].copy(t.rows[e])},e.isEmpty=function(){for(var t=!0,e=0;e<mn;e++)if(!this.rows[e].isEmpty()){t=!1;break}return t},e.backSpace=function(){var t=this.rows[this.currRow];t.backSpace()},e.clearToEndOfRow=function(){var t=this.rows[this.currRow];t.clearToEndOfRow()},e.insertChar=function(t){var e=this.rows[this.currRow];e.insertChar(t)},e.setPen=function(t){var e=this.rows[this.currRow];e.setPenStyles(t)},e.moveCursor=function(t){var e=this.rows[this.currRow];e.moveCursor(t)},e.setCursor=function(t){this.logger.log(hn.INFO,"setCursor: "+t);var e=this.rows[this.currRow];e.setCursor(t)},e.setPAC=function(t){this.logger.log(hn.INFO,"pacData = "+JSON.stringify(t));var e=t.row-1;if(this.nrRollUpRows&&e<this.nrRollUpRows-1&&(e=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==e){for(var n=0;n<mn;n++)this.rows[n].clear();var i=this.currRow+1-this.nrRollUpRows,r=this.lastOutputScreen;if(r){var a=r.rows[i].cueStartTime,o=this.logger.time;if(a&&null!==o&&a<o)for(var s=0;s<this.nrRollUpRows;s++)this.rows[e-this.nrRollUpRows+s+1].copy(r.rows[i+s])}}this.currRow=e;var l=this.rows[this.currRow];if(null!==t.indent){var c=t.indent,u=Math.max(c-1,0);l.setCursor(t.indent),t.color=l.chars[u].penState.foreground}var d={foreground:t.color,underline:t.underline,italics:t.italics,background:"black",flash:!1};this.setPen(d)},e.setBkgData=function(t){this.logger.log(hn.INFO,"bkgData = "+JSON.stringify(t)),this.backSpace(),this.setPen(t),this.insertChar(32)},e.setRollUpRows=function(t){this.nrRollUpRows=t},e.rollUp=function(){if(null!==this.nrRollUpRows){this.logger.log(hn.TEXT,this.getDisplayText());var t=this.currRow+1-this.nrRollUpRows,e=this.rows.splice(t,1)[0];e.clear(),this.rows.splice(this.currRow,0,e),this.logger.log(hn.INFO,"Rolling up")}else this.logger.log(hn.DEBUG,"roll_up but nrRollUpRows not set yet")},e.getDisplayText=function(t){t=t||!1;for(var e=[],n="",i=-1,r=0;r<mn;r++){var a=this.rows[r].getTextString();a&&(i=r+1,t?e.push("Row "+i+": '"+a+"'"):e.push(a.trim()))}return e.length>0&&(n=t?"["+e.join(" | ")+"]":e.join("\n")),n},e.getTextAndFormat=function(){return this.rows},t}(),Cn=function(){function t(t,e,n){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=t,this.outputFilter=e,this.mode=null,this.verbose=0,this.displayedMemory=new An(n),this.nonDisplayedMemory=new An(n),this.lastOutputScreen=new An(n),this.currRollUpRow=this.displayedMemory.rows[mn-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=n}var e=t.prototype;return e.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[mn-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null},e.getHandler=function(){return this.outputFilter},e.setHandler=function(t){this.outputFilter=t},e.setPAC=function(t){this.writeScreen.setPAC(t)},e.setBkgData=function(t){this.writeScreen.setBkgData(t)},e.setMode=function(t){t!==this.mode&&(this.mode=t,this.logger.log(hn.INFO,"MODE="+t),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=t)},e.insertChars=function(t){for(var e=0;e<t.length;e++)this.writeScreen.insertChar(t[e]);var n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(hn.INFO,n+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(this.logger.log(hn.TEXT,"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},e.ccRCL=function(){this.logger.log(hn.INFO,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},e.ccBS=function(){this.logger.log(hn.INFO,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},e.ccAOF=function(){},e.ccAON=function(){},e.ccDER=function(){this.logger.log(hn.INFO,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},e.ccRU=function(t){this.logger.log(hn.INFO,"RU("+t+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(t)},e.ccFON=function(){this.logger.log(hn.INFO,"FON - Flash On"),this.writeScreen.setPen({flash:!0})},e.ccRDC=function(){this.logger.log(hn.INFO,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},e.ccTR=function(){this.logger.log(hn.INFO,"TR"),this.setMode("MODE_TEXT")},e.ccRTD=function(){this.logger.log(hn.INFO,"RTD"),this.setMode("MODE_TEXT")},e.ccEDM=function(){this.logger.log(hn.INFO,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},e.ccCR=function(){this.logger.log(hn.INFO,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},e.ccENM=function(){this.logger.log(hn.INFO,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},e.ccEOC=function(){if(this.logger.log(hn.INFO,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var t=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=t,this.writeScreen=this.nonDisplayedMemory,this.logger.log(hn.TEXT,"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},e.ccTO=function(t){this.logger.log(hn.INFO,"TO("+t+") - Tab Offset"),this.writeScreen.moveCursor(t)},e.ccMIDROW=function(t){var e={flash:!1};if(e.underline=t%2===1,e.italics=t>=46,e.italics)e.foreground="white";else{var n=Math.floor(t/2)-16,i=["white","green","blue","cyan","red","yellow","magenta"];e.foreground=i[n]}this.logger.log(hn.INFO,"MIDROW: "+JSON.stringify(e)),this.writeScreen.setPen(e)},e.outputDataUpdate=function(t){void 0===t&&(t=!1);var e=this.logger.time;null!==e&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),t&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))},e.cueSplitAtTime=function(t){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,t,this.displayedMemory),this.cueStartTime=t))},t}(),On=function(){function t(t,e,n){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;var i=new Sn;this.channels=[null,new Cn(t,e,i),new Cn(t+1,n,i)],this.cmdHistory=Dn(),this.logger=i}var e=t.prototype;return e.getHandler=function(t){return this.channels[t].getHandler()},e.setHandler=function(t,e){this.channels[t].setHandler(e)},e.addData=function(t,e){var n,i,r,a=!1;this.logger.time=t;for(var o=0;o<e.length;o+=2)if(i=127&e[o],r=127&e[o+1],0!==i||0!==r){if(this.logger.log(hn.DATA,"["+xn([e[o],e[o+1]])+"] -> ("+xn([i,r])+")"),n=this.parseCmd(i,r),n||(n=this.parseMidrow(i,r)),n||(n=this.parsePAC(i,r)),n||(n=this.parseBackgroundAttributes(i,r)),!n&&(a=this.parseChars(i,r),a)){var s=this.currentChannel;if(s&&s>0){var l=this.channels[s];l.insertChars(a)}else this.logger.log(hn.WARNING,"No channel found yet. TEXT-MODE?")}n||a||this.logger.log(hn.WARNING,"Couldn't parse cleaned data "+xn([i,r])+" orig: "+xn([e[o],e[o+1]]))}},e.parseCmd=function(t,e){var n=this.cmdHistory,i=(20===t||28===t||21===t||29===t)&&e>=32&&e<=47,r=(23===t||31===t)&&e>=33&&e<=35;if(!i&&!r)return!1;if(Rn(t,e,n))return Ln(null,null,n),this.logger.log(hn.DEBUG,"Repeated command ("+xn([t,e])+") is dropped"),!0;var a=20===t||21===t||23===t?1:2,o=this.channels[a];return 20===t||21===t||28===t||29===t?32===e?o.ccRCL():33===e?o.ccBS():34===e?o.ccAOF():35===e?o.ccAON():36===e?o.ccDER():37===e?o.ccRU(2):38===e?o.ccRU(3):39===e?o.ccRU(4):40===e?o.ccFON():41===e?o.ccRDC():42===e?o.ccTR():43===e?o.ccRTD():44===e?o.ccEDM():45===e?o.ccCR():46===e?o.ccENM():47===e&&o.ccEOC():o.ccTO(e-32),Ln(t,e,n),this.currentChannel=a,!0},e.parseMidrow=function(t,e){var n=0;if((17===t||25===t)&&e>=32&&e<=47){if(n=17===t?1:2,n!==this.currentChannel)return this.logger.log(hn.ERROR,"Mismatch channel in midrow parsing"),!1;var i=this.channels[n];return!!i&&(i.ccMIDROW(e),this.logger.log(hn.DEBUG,"MIDROW ("+xn([t,e])+")"),!0)}return!1},e.parsePAC=function(t,e){var n,i=this.cmdHistory,r=(t>=17&&t<=23||t>=25&&t<=31)&&e>=64&&e<=127,a=(16===t||24===t)&&e>=64&&e<=95;if(!r&&!a)return!1;if(Rn(t,e,i))return Ln(null,null,i),!0;var o=t<=23?1:2;n=e>=64&&e<=95?1===o?gn[t]:bn[t]:1===o?yn[t]:wn[t];var s=this.channels[o];return!!s&&(s.setPAC(this.interpretPAC(n,e)),Ln(t,e,i),this.currentChannel=o,!0)},e.interpretPAC=function(t,e){var n=e,i={color:null,italics:!1,indent:null,underline:!1,row:t};return n=e>95?e-96:e-64,i.underline=1===(1&n),n<=13?i.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(i.italics=!0,i.color="white"):i.indent=4*Math.floor((n-16)/2),i},e.parseChars=function(t,e){var n,i=null,r=null;if(t>=25?(n=2,r=t-8):(n=1,r=t),r>=17&&r<=19){var a=e;a=17===r?e+80:18===r?e+112:e+144,this.logger.log(hn.INFO,"Special char '"+pn(a)+"' in channel "+n),i=[a]}else t>=32&&t<=127&&(i=0===e?[t]:[t,e]);if(i){var o=xn(i);this.logger.log(hn.DEBUG,"Char codes =  "+o.join(",")),Ln(t,e,this.cmdHistory)}return i},e.parseBackgroundAttributes=function(t,e){var n,i=(16===t||24===t)&&e>=32&&e<=47,r=(23===t||31===t)&&e>=45&&e<=47;if(!i&&!r)return!1;var a={};16===t||24===t?(n=Math.floor((e-32)/2),a.background=kn[n],e%2===1&&(a.background=a.background+"_semi")):45===e?a.background="transparent":(a.foreground="black",47===e&&(a.underline=!0));var o=t<=23?1:2,s=this.channels[o];return s.setBkgData(a),Ln(t,e,this.cmdHistory),!0},e.reset=function(){for(var t=0;t<Object.keys(this.channels).length;t++){var e=this.channels[t];e&&e.reset()}this.cmdHistory=Dn()},e.cueSplitAtTime=function(t){for(var e=0;e<this.channels.length;e++){var n=this.channels[e];n&&n.cueSplitAtTime(t)}},t}();function Ln(t,e,n){n.a=t,n.b=e}function Rn(t,e,n){return n.a===t&&n.b===e}function Dn(){return{a:null,b:null}}var In=On,Pn=function(){function t(t,e){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=t,this.trackName=e}var e=t.prototype;return e.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)},e.newCue=function(t,e,n){(null===this.startTime||this.startTime>t)&&(this.startTime=t),this.endTime=e,this.screen=n,this.timelineController.createCaptionsTrack(this.trackName)},e.reset=function(){this.cueRanges=[]},t}(),Mn=function(t,e,n){return t.substr(n||0,e.length)===e},Fn=function(t){var e=parseInt(t.substr(-3)),n=parseInt(t.substr(-6,2)),i=parseInt(t.substr(-9,2)),r=t.length>9?parseInt(t.substr(0,t.indexOf(":"))):0;if(!Object(l["isFiniteNumber"])(e)||!Object(l["isFiniteNumber"])(n)||!Object(l["isFiniteNumber"])(i)||!Object(l["isFiniteNumber"])(r))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+t);return e+=1e3*n,e+=6e4*i,e+=36e5*r,e},Bn=function(t){var e=5381,n=t.length;while(n)e=33*e^t.charCodeAt(--n);return(e>>>0).toString()},Nn=function(t,e,n){var i=t[e],r=t[i.prevCC];if(!r||!r.new&&i.new)return t.ccOffset=t.presentationOffset=i.start,void(i.new=!1);while(r&&r.new)t.ccOffset+=i.start-r.start,i.new=!1,i=r,r=t[i.prevCC];t.presentationOffset=n},jn={parse:function(t,e,n,i,r,a){var o,s=/\r\n|\n\r|\n|\r/g,l=Object(re["utf8ArrayToStr"])(new Uint8Array(t)).trim().replace(s,"\n").split("\n"),c="00:00.000",u=0,d=0,h=0,f=[],p=!0,m=!1,v=new un;v.oncue=function(t){var e=n[i],r=n.ccOffset;e&&e.new&&(void 0!==d?r=n.ccOffset=e.start:Nn(n,i,h)),h&&(r=h-n.presentationOffset),m&&(t.startTime+=r-d,t.endTime+=r-d),t.id=Bn(t.startTime.toString())+Bn(t.endTime.toString())+Bn(t.text),t.text=decodeURIComponent(encodeURIComponent(t.text)),t.endTime>0&&f.push(t)},v.onparsingerror=function(t){o=t},v.onflush=function(){o&&a?a(o):r(f)},l.forEach((function(t){if(p){if(Mn(t,"X-TIMESTAMP-MAP=")){p=!1,m=!0,t.substr(16).split(",").forEach((function(t){Mn(t,"LOCAL:")?c=t.substr(6):Mn(t,"MPEGTS:")&&(u=parseInt(t.substr(7)))}));try{e+(9e4*n[i].start||0)<0&&(e+=8589934592),u-=e,d=Fn(c)/1e3,h=u/9e4}catch(r){m=!1,o=r}return}""===t&&(p=!1)}v.parse(t+"\n")})),v.flush()}},$n=jn;function Un(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zn(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Vn=function(t){function e(e){var n;if(n=t.call(this,e,c["default"].MEDIA_ATTACHING,c["default"].MEDIA_DETACHING,c["default"].FRAG_PARSING_USERDATA,c["default"].FRAG_DECRYPTED,c["default"].MANIFEST_LOADING,c["default"].MANIFEST_LOADED,c["default"].FRAG_LOADED,c["default"].INIT_PTS_FOUND)||this,n.media=null,n.config=void 0,n.enabled=!0,n.Cues=void 0,n.textTracks=[],n.tracks=[],n.initPTS=[],n.unparsedVttFrags=[],n.captionsTracks={},n.nonNativeCaptionsTracks={},n.captionsProperties=void 0,n.cea608Parser1=void 0,n.cea608Parser2=void 0,n.lastSn=-1,n.prevCC=-1,n.vttCCs=Gn(),n.hls=e,n.config=e.config,n.Cues=e.config.cueHandler,n.captionsProperties={textTrack1:{label:n.config.captionsTextTrack1Label,languageCode:n.config.captionsTextTrack1LanguageCode},textTrack2:{label:n.config.captionsTextTrack2Label,languageCode:n.config.captionsTextTrack2LanguageCode},textTrack3:{label:n.config.captionsTextTrack3Label,languageCode:n.config.captionsTextTrack3LanguageCode},textTrack4:{label:n.config.captionsTextTrack4Label,languageCode:n.config.captionsTextTrack4LanguageCode}},n.config.enableCEA708Captions){var i=new Pn(Un(n),"textTrack1"),r=new Pn(Un(n),"textTrack2"),a=new Pn(Un(n),"textTrack3"),o=new Pn(Un(n),"textTrack4");n.cea608Parser1=new In(1,i,r),n.cea608Parser2=new In(3,a,o)}return n}zn(e,t);var n=e.prototype;return n.addCues=function(t,e,n,i,r){for(var a=!1,o=r.length;o--;){var s=r[o],l=qn(s[0],s[1],e,n);if(l>=0&&(s[0]=Math.min(s[0],e),s[1]=Math.max(s[1],n),a=!0,l/(n-e)>.5))return}if(a||r.push([e,n]),this.config.renderTextTracksNatively)this.Cues.newCue(this.captionsTracks[t],e,n,i);else{var u=this.Cues.newCue(null,e,n,i);this.hls.trigger(c["default"].CUES_PARSED,{type:"captions",cues:u,track:t})}},n.onInitPtsFound=function(t){var e=this,n=t.frag,i=t.id,r=t.initPTS,a=this.unparsedVttFrags;"main"===i&&(this.initPTS[n.cc]=r),a.length&&(this.unparsedVttFrags=[],a.forEach((function(t){e.onFragLoaded(t)})))},n.getExistingTrack=function(t){var e=this.media;if(e)for(var n=0;n<e.textTracks.length;n++){var i=e.textTracks[n];if(i[t])return i}return null},n.createCaptionsTrack=function(t){this.config.renderTextTracksNatively?this.createNativeTrack(t):this.createNonNativeTrack(t)},n.createNativeTrack=function(t){if(!this.captionsTracks[t]){var e=this.captionsProperties,n=this.captionsTracks,i=this.media,r=e[t],a=r.label,o=r.languageCode,s=this.getExistingTrack(t);if(s)n[t]=s,oe(n[t]),ae(n[t],i);else{var l=this.createTextTrack("captions",a,o);l&&(l[t]=!0,n[t]=l)}}},n.createNonNativeTrack=function(t){if(!this.nonNativeCaptionsTracks[t]){var e=this.captionsProperties[t];if(e){var n=e.label,i={_id:t,label:n,kind:"captions",default:!!e.media&&!!e.media.default,closedCaptions:e.media};this.nonNativeCaptionsTracks[t]=i,this.hls.trigger(c["default"].NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[i]})}}},n.createTextTrack=function(t,e,n){var i=this.media;if(i)return i.addTextTrack(t,e,n)},n.destroy=function(){t.prototype.destroy.call(this)},n.onMediaAttaching=function(t){this.media=t.media,this._cleanTracks()},n.onMediaDetaching=function(){var t=this.captionsTracks;Object.keys(t).forEach((function(e){oe(t[e]),delete t[e]})),this.nonNativeCaptionsTracks={}},n.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs=Gn(),this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={}},n._cleanTracks=function(){var t=this.media;if(t){var e=t.textTracks;if(e)for(var n=0;n<e.length;n++)oe(e[n])}},n.onManifestLoaded=function(t){var e=this;if(this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset()),this.config.enableWebVTT){var n=t.subtitles||[],i=this.tracks&&n&&this.tracks.length===n.length;if(this.tracks=t.subtitles||[],this.config.renderTextTracksNatively){var r=this.media?this.media.textTracks:[];this.tracks.forEach((function(t,n){var i;if(n<r.length){for(var a=null,o=0;o<r.length;o++)if(Hn(r[o],t)){a=r[o];break}a&&(i=a)}i||(i=e.createTextTrack("subtitles",t.name,t.lang)),t.default?i.mode=e.hls.subtitleDisplay?"showing":"hidden":i.mode="disabled",e.textTracks.push(i)}))}else if(!i&&this.tracks&&this.tracks.length){var a=this.tracks.map((function(t){return{label:t.name,kind:t.type.toLowerCase(),default:t.default,subtitleTrack:t}}));this.hls.trigger(c["default"].NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:a})}}this.config.enableCEA708Captions&&t.captions&&t.captions.forEach((function(t){var n=/(?:CC|SERVICE)([1-4])/.exec(t.instreamId);if(n){var i="textTrack"+n[1],r=e.captionsProperties[i];r&&(r.label=t.name,t.lang&&(r.languageCode=t.lang),r.media=t)}}))},n.onFragLoaded=function(t){var e=t.frag,n=t.payload,i=this.cea608Parser1,r=this.cea608Parser2,a=this.initPTS,o=this.lastSn,s=this.unparsedVttFrags;if("main"===e.type){var u=e.sn;e.sn!==o+1&&i&&r&&(i.reset(),r.reset()),this.lastSn=u}else if("subtitle"===e.type)if(n.byteLength){if(!Object(l["isFiniteNumber"])(a[e.cc]))return s.push(t),void(a.length&&this.hls.trigger(c["default"].SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e}));var d=e.decryptdata;null!=d&&null!=d.key&&"AES-128"===d.method||this._parseVTTs(e,n)}else this.hls.trigger(c["default"].SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e})},n._parseVTTs=function(t,e){var n=this,i=this.hls,r=this.prevCC,a=this.textTracks,o=this.vttCCs;o[t.cc]||(o[t.cc]={start:t.start,prevCC:r,new:!0},this.prevCC=t.cc),$n.parse(e,this.initPTS[t.cc],o,t.cc,(function(e){if(n.config.renderTextTracksNatively){var r=a[t.level];if("disabled"===r.mode)return void i.trigger(c["default"].SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t});e.forEach((function(t){if(!r.cues.getCueById(t.id))try{if(r.addCue(t),!r.cues.getCueById(t.id))throw new Error("addCue is failed for: "+t)}catch(n){u["logger"].debug("Failed occurred on adding cues: "+n);var e=new window.TextTrackCue(t.startTime,t.endTime,t.text);e.id=t.id,r.addCue(e)}}))}else{var o=n.tracks[t.level].default?"default":"subtitles"+t.level;i.trigger(c["default"].CUES_PARSED,{type:"subtitles",cues:e,track:o})}i.trigger(c["default"].SUBTITLE_FRAG_PROCESSED,{success:!0,frag:t})}),(function(e){u["logger"].log("Failed to parse VTT cue: "+e),i.trigger(c["default"].SUBTITLE_FRAG_PROCESSED,{success:!1,frag:t})}))},n.onFragDecrypted=function(t){var e=t.frag,n=t.payload;if("subtitle"===e.type){if(!Object(l["isFiniteNumber"])(this.initPTS[e.cc]))return void this.unparsedVttFrags.push(t);this._parseVTTs(e,n)}},n.onFragParsingUserdata=function(t){var e=this.cea608Parser1,n=this.cea608Parser2;if(this.enabled&&e&&n)for(var i=0;i<t.samples.length;i++){var r=t.samples[i].bytes;if(r){var a=this.extractCea608Data(r);e.addData(t.samples[i].pts,a[0]),n.addData(t.samples[i].pts,a[1])}}},n.extractCea608Data=function(t){for(var e=31&t[0],n=2,i=[[],[]],r=0;r<e;r++){var a=t[n++],o=127&t[n++],s=127&t[n++],l=0!==(4&a),c=3&a;0===o&&0===s||l&&(0!==c&&1!==c||(i[c].push(o),i[c].push(s)))}return i},e}(f);function Hn(t,e){return t&&t.label===e.name&&!(t.textTrack1||t.textTrack2)}function qn(t,e,n,i){return Math.min(e,i)-Math.max(t,n)}function Gn(){return{ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}}}var Wn=Vn;function Kn(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Yn(t,e,n){return e&&Kn(t.prototype,e),n&&Kn(t,n),t}function Xn(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Qn=function(t){function e(e){var n;return n=t.call(this,e,c["default"].MEDIA_ATTACHED,c["default"].MEDIA_DETACHING,c["default"].MANIFEST_LOADED,c["default"].SUBTITLE_TRACK_LOADED)||this,n.tracks=[],n.trackId=-1,n.media=null,n.stopped=!0,n.subtitleDisplay=!0,n.queuedDefaultTrack=null,n}Xn(e,t);var n=e.prototype;return n.destroy=function(){f.prototype.destroy.call(this)},n.onMediaAttached=function(t){var e=this;this.media=t.media,this.media&&(Object(l["isFiniteNumber"])(this.queuedDefaultTrack)&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=null),this.trackChangeListener=this._onTextTracksChanged.bind(this),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.subtitlePollingInterval=setInterval((function(){e.trackChangeListener()}),500):this.media.textTracks.addEventListener("change",this.trackChangeListener))},n.onMediaDetaching=function(){if(this.media){this.useTextTrackPolling?clearInterval(this.subtitlePollingInterval):this.media.textTracks.removeEventListener("change",this.trackChangeListener),Object(l["isFiniteNumber"])(this.subtitleTrack)&&(this.queuedDefaultTrack=this.subtitleTrack);var t=Jn(this.media.textTracks);t.forEach((function(t){oe(t)})),this.subtitleTrack=-1,this.media=null}},n.onManifestLoaded=function(t){var e=this,n=t.subtitles||[];this.tracks=n,this.hls.trigger(c["default"].SUBTITLE_TRACKS_UPDATED,{subtitleTracks:n}),n.forEach((function(t){t.default&&(e.media?e.subtitleTrack=t.id:e.queuedDefaultTrack=t.id)}))},n.onSubtitleTrackLoaded=function(t){var e=this,n=t.id,i=t.details,r=this.trackId,a=this.tracks,o=a[r];if(n>=a.length||n!==r||!o||this.stopped)this._clearReloadTimer();else if(u["logger"].log("subtitle track "+n+" loaded"),i.live){var s=kt(o.details,i,t.stats.trequest);u["logger"].log("Reloading live subtitle playlist in "+s+"ms"),this.timer=setTimeout((function(){e._loadCurrentTrack()}),s)}else this._clearReloadTimer()},n.startLoad=function(){this.stopped=!1,this._loadCurrentTrack()},n.stopLoad=function(){this.stopped=!0,this._clearReloadTimer()},n._clearReloadTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},n._loadCurrentTrack=function(){var t=this.trackId,e=this.tracks,n=this.hls,i=e[t];t<0||!i||i.details&&!i.details.live||(u["logger"].log("Loading subtitle track "+t),n.trigger(c["default"].SUBTITLE_TRACK_LOADING,{url:i.url,id:t}))},n._toggleTrackModes=function(t){var e=this.media,n=this.subtitleDisplay,i=this.trackId;if(e){var r=Jn(e.textTracks);if(-1===t)[].slice.call(r).forEach((function(t){t.mode="disabled"}));else{var a=r[i];a&&(a.mode="disabled")}var o=r[t];o&&(o.mode=n?"showing":"hidden")}},n._setSubtitleTrackInternal=function(t){var e=this.hls,n=this.tracks;!Object(l["isFiniteNumber"])(t)||t<-1||t>=n.length||(this.trackId=t,u["logger"].log("Switching to subtitle track "+t),e.trigger(c["default"].SUBTITLE_TRACK_SWITCH,{id:t}),this._loadCurrentTrack())},n._onTextTracksChanged=function(){if(this.media&&this.hls.config.renderTextTracksNatively){for(var t=-1,e=Jn(this.media.textTracks),n=0;n<e.length;n++)if("hidden"===e[n].mode)t=n;else if("showing"===e[n].mode){t=n;break}this.subtitleTrack=t}},Yn(e,[{key:"subtitleTracks",get:function(){return this.tracks}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(t){this.trackId!==t&&(this._toggleTrackModes(t),this._setSubtitleTrackInternal(t))}}]),e}(f);function Jn(t){for(var e=[],n=0;n<t.length;n++){var i=t[n];"subtitles"===i.kind&&i.label&&e.push(t[n])}return e}var Zn=Qn,ti=n("./src/crypt/decrypter.js");function ei(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ni(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var ii,ri=window,ai=ri.performance,oi=500,si=function(t){function e(e,n){var i;return i=t.call(this,e,c["default"].MEDIA_ATTACHED,c["default"].MEDIA_DETACHING,c["default"].ERROR,c["default"].KEY_LOADED,c["default"].FRAG_LOADED,c["default"].SUBTITLE_TRACKS_UPDATED,c["default"].SUBTITLE_TRACK_SWITCH,c["default"].SUBTITLE_TRACK_LOADED,c["default"].SUBTITLE_FRAG_PROCESSED,c["default"].LEVEL_UPDATED)||this,i.fragmentTracker=n,i.config=e.config,i.state=qt.STOPPED,i.tracks=[],i.tracksBuffered=[],i.currentTrackId=-1,i.decrypter=new ti["default"](e,e.config),i.lastAVStart=0,i._onMediaSeeking=i.onMediaSeeking.bind(ei(i)),i}ni(e,t);var n=e.prototype;return n.onSubtitleFragProcessed=function(t){var e=t.frag,n=t.success;if(this.fragPrevious=e,this.state=qt.IDLE,n){var i=this.tracksBuffered[this.currentTrackId];if(i){for(var r,a=e.start,o=0;o<i.length;o++)if(a>=i[o].start&&a<=i[o].end){r=i[o];break}var s=e.start+e.duration;r?r.end=s:(r={start:a,end:s},i.push(r))}}},n.onMediaAttached=function(t){var e=t.media;this.media=e,e.addEventListener("seeking",this._onMediaSeeking),this.state=qt.IDLE},n.onMediaDetaching=function(){var t=this;this.media&&(this.media.removeEventListener("seeking",this._onMediaSeeking),this.fragmentTracker.removeAllFragments(),this.currentTrackId=-1,this.tracks.forEach((function(e){t.tracksBuffered[e.id]=[]})),this.media=null,this.state=qt.STOPPED)},n.onError=function(t){var e=t.frag;e&&"subtitle"===e.type&&(this.state=qt.IDLE)},n.onSubtitleTracksUpdated=function(t){var e=this;u["logger"].log("subtitle tracks updated"),this.tracksBuffered=[],this.tracks=t.subtitleTracks,this.tracks.forEach((function(t){e.tracksBuffered[t.id]=[]}))},n.onSubtitleTrackSwitch=function(t){if(this.currentTrackId=t.id,this.tracks&&this.tracks.length&&-1!==this.currentTrackId){var e=this.tracks[this.currentTrackId];e&&e.details&&this.setInterval(oi)}else this.clearInterval()},n.onSubtitleTrackLoaded=function(t){var e=t.id,n=t.details,i=this.currentTrackId,r=this.tracks,a=r[i];e>=r.length||e!==i||!a||(n.live&&yt(a.details,n,this.lastAVStart),a.details=n,this.setInterval(oi))},n.onKeyLoaded=function(){this.state===qt.KEY_LOADING&&(this.state=qt.IDLE)},n.onFragLoaded=function(t){var e=this.fragCurrent,n=t.frag.decryptdata,i=t.frag,r=this.hls;if(this.state===qt.FRAG_LOADING&&e&&"subtitle"===t.frag.type&&e.sn===t.frag.sn&&t.payload.byteLength>0&&n&&n.key&&"AES-128"===n.method){var a=ai.now();this.decrypter.decrypt(t.payload,n.key.buffer,n.iv.buffer,(function(t){var e=ai.now();r.trigger(c["default"].FRAG_DECRYPTED,{frag:i,payload:t,stats:{tstart:a,tdecrypt:e}})}))}},n.onLevelUpdated=function(t){var e=t.details,n=e.fragments;this.lastAVStart=n.length?n[0].start:0},n.doTick=function(){if(this.media)switch(this.state){case qt.IDLE:var t=this.config,e=this.currentTrackId,n=this.fragmentTracker,i=this.media,r=this.tracks;if(!r||!r[e]||!r[e].details)break;var a,o=t.maxBufferHole,s=t.maxFragLookUpTolerance,l=Math.min(t.maxBufferLength,t.maxMaxBufferLength),d=nt.bufferedInfo(this._getBuffered(),i.currentTime,o),h=d.end,f=d.len,p=r[e].details,m=p.fragments,v=m.length,g=m[v-1].start+m[v-1].duration;if(f>l)return;var y=this.fragPrevious;h<g?(y&&p.hasProgramDateTime&&(a=Dt(m,y.endProgramDateTime,s)),a||(a=It(y,m,h,s))):a=m[v-1],a&&a.encrypted?(u["logger"].log("Loading key for "+a.sn),this.state=qt.KEY_LOADING,this.hls.trigger(c["default"].KEY_LOADING,{frag:a})):a&&n.getState(a)===J.NOT_LOADED&&(this.fragCurrent=a,this.state=qt.FRAG_LOADING,this.hls.trigger(c["default"].FRAG_LOADING,{frag:a}))}else this.state=qt.IDLE},n.stopLoad=function(){this.lastAVStart=0,t.prototype.stopLoad.call(this)},n._getBuffered=function(){return this.tracksBuffered[this.currentTrackId]||[]},n.onMediaSeeking=function(){this.fragPrevious=null},e}(Gt);(function(t){t["WIDEVINE"]="com.widevine.alpha",t["PLAYREADY"]="com.microsoft.playready"})(ii||(ii={}));var li=function(){return"undefined"!==typeof window&&window.navigator&&window.navigator.requestMediaKeySystemAccess?window.navigator.requestMediaKeySystemAccess.bind(window.navigator):null}();function ci(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ui(t,e,n){return e&&ci(t.prototype,e),n&&ci(t,n),t}function di(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var hi=3,fi=function(t,e,n){var i={audioCapabilities:[],videoCapabilities:[]};return t.forEach((function(t){i.audioCapabilities.push({contentType:'audio/mp4; codecs="'+t+'"',robustness:n.audioRobustness||""})})),e.forEach((function(t){i.videoCapabilities.push({contentType:'video/mp4; codecs="'+t+'"',robustness:n.videoRobustness||""})})),[i]},pi=function(t,e,n,i){switch(t){case ii.WIDEVINE:return fi(e,n,i);default:throw new Error("Unknown key-system: "+t)}},mi=function(t){function e(e){var n;return n=t.call(this,e,c["default"].MEDIA_ATTACHED,c["default"].MEDIA_DETACHED,c["default"].MANIFEST_PARSED)||this,n._widevineLicenseUrl=void 0,n._licenseXhrSetup=void 0,n._emeEnabled=void 0,n._requestMediaKeySystemAccess=void 0,n._drmSystemOptions=void 0,n._config=void 0,n._mediaKeysList=[],n._media=null,n._hasSetMediaKeys=!1,n._requestLicenseFailureCount=0,n.mediaKeysPromise=null,n._onMediaEncrypted=function(t){if(u["logger"].log('Media is encrypted using "'+t.initDataType+'" init data type'),!n.mediaKeysPromise)return u["logger"].error("Fatal: Media is encrypted but no CDM access or no keys have been requested"),void n.hls.trigger(c["default"].ERROR,{type:s["ErrorTypes"].KEY_SYSTEM_ERROR,details:s["ErrorDetails"].KEY_SYSTEM_NO_KEYS,fatal:!0});var e=function(e){n._media&&(n._attemptSetMediaKeys(e),n._generateRequestWithPreferredKeySession(t.initDataType,t.initData))};n.mediaKeysPromise.then(e).catch(e)},n._config=e.config,n._widevineLicenseUrl=n._config.widevineLicenseUrl,n._licenseXhrSetup=n._config.licenseXhrSetup,n._emeEnabled=n._config.emeEnabled,n._requestMediaKeySystemAccess=n._config.requestMediaKeySystemAccessFunc,n._drmSystemOptions=e.config.drmSystemOptions,n}di(e,t);var n=e.prototype;return n.getLicenseServerUrl=function(t){switch(t){case ii.WIDEVINE:if(!this._widevineLicenseUrl)break;return this._widevineLicenseUrl}throw new Error('no license server URL configured for key-system "'+t+'"')},n._attemptKeySystemAccess=function(t,e,n){var i=this,r=pi(t,e,n,this._drmSystemOptions);u["logger"].log("Requesting encrypted media key-system access");var a=this.requestMediaKeySystemAccess(t,r);this.mediaKeysPromise=a.then((function(e){return i._onMediaKeySystemAccessObtained(t,e)})),a.catch((function(e){u["logger"].error('Failed to obtain key-system "'+t+'" access:',e)}))},n._onMediaKeySystemAccessObtained=function(t,e){var n=this;u["logger"].log('Access for key-system "'+t+'" obtained');var i={mediaKeysSessionInitialized:!1,mediaKeySystemAccess:e,mediaKeySystemDomain:t};this._mediaKeysList.push(i);var r=Promise.resolve().then((function(){return e.createMediaKeys()})).then((function(e){return i.mediaKeys=e,u["logger"].log('Media-keys created for key-system "'+t+'"'),n._onMediaKeysCreated(),e}));return r.catch((function(t){u["logger"].error("Failed to create media-keys:",t)})),r},n._onMediaKeysCreated=function(){var t=this;this._mediaKeysList.forEach((function(e){e.mediaKeysSession||(e.mediaKeysSession=e.mediaKeys.createSession(),t._onNewMediaKeySession(e.mediaKeysSession))}))},n._onNewMediaKeySession=function(t){var e=this;u["logger"].log("New key-system session "+t.sessionId),t.addEventListener("message",(function(n){e._onKeySessionMessage(t,n.message)}),!1)},n._onKeySessionMessage=function(t,e){u["logger"].log("Got EME message event, creating license request"),this._requestLicense(e,(function(e){u["logger"].log("Received license data (length: "+(e?e.byteLength:e)+"), updating key-session"),t.update(e)}))},n._attemptSetMediaKeys=function(t){if(!this._media)throw new Error("Attempted to set mediaKeys without first attaching a media element");if(!this._hasSetMediaKeys){var e=this._mediaKeysList[0];if(!e||!e.mediaKeys)return u["logger"].error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(c["default"].ERROR,{type:s["ErrorTypes"].KEY_SYSTEM_ERROR,details:s["ErrorDetails"].KEY_SYSTEM_NO_KEYS,fatal:!0});u["logger"].log("Setting keys for encrypted media"),this._media.setMediaKeys(e.mediaKeys),this._hasSetMediaKeys=!0}},n._generateRequestWithPreferredKeySession=function(t,e){var n=this,i=this._mediaKeysList[0];if(!i)return u["logger"].error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(c["default"].ERROR,{type:s["ErrorTypes"].KEY_SYSTEM_ERROR,details:s["ErrorDetails"].KEY_SYSTEM_NO_ACCESS,fatal:!0});if(i.mediaKeysSessionInitialized)u["logger"].warn("Key-Session already initialized but requested again");else{var r=i.mediaKeysSession;if(!r)return u["logger"].error("Fatal: Media is encrypted but no key-session existing"),void this.hls.trigger(c["default"].ERROR,{type:s["ErrorTypes"].KEY_SYSTEM_ERROR,details:s["ErrorDetails"].KEY_SYSTEM_NO_SESSION,fatal:!0});if(!e)return u["logger"].warn("Fatal: initData required for generating a key session is null"),void this.hls.trigger(c["default"].ERROR,{type:s["ErrorTypes"].KEY_SYSTEM_ERROR,details:s["ErrorDetails"].KEY_SYSTEM_NO_INIT_DATA,fatal:!0});u["logger"].log('Generating key-session request for "'+t+'" init data type'),i.mediaKeysSessionInitialized=!0,r.generateRequest(t,e).then((function(){u["logger"].debug("Key-session generation succeeded")})).catch((function(t){u["logger"].error("Error generating key-session request:",t),n.hls.trigger(c["default"].ERROR,{type:s["ErrorTypes"].KEY_SYSTEM_ERROR,details:s["ErrorDetails"].KEY_SYSTEM_NO_SESSION,fatal:!1})}))}},n._createLicenseXhr=function(t,e,n){var i=new XMLHttpRequest,r=this._licenseXhrSetup;try{if(r)try{r(i,t)}catch(a){i.open("POST",t,!0),r(i,t)}i.readyState||i.open("POST",t,!0)}catch(a){throw new Error("issue setting up KeySystem license XHR "+a)}return i.responseType="arraybuffer",i.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,i,t,e,n),i},n._onLicenseRequestReadyStageChange=function(t,e,n,i){switch(t.readyState){case 4:if(200===t.status)this._requestLicenseFailureCount=0,u["logger"].log("License request succeeded"),"arraybuffer"!==t.responseType&&u["logger"].warn("xhr response type was not set to the expected arraybuffer for license request"),i(t.response);else{if(u["logger"].error("License Request XHR failed ("+e+"). Status: "+t.status+" ("+t.statusText+")"),this._requestLicenseFailureCount++,this._requestLicenseFailureCount>hi)return void this.hls.trigger(c["default"].ERROR,{type:s["ErrorTypes"].KEY_SYSTEM_ERROR,details:s["ErrorDetails"].KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0});var r=hi-this._requestLicenseFailureCount+1;u["logger"].warn("Retrying license request, "+r+" attempts left"),this._requestLicense(n,i)}break}},n._generateLicenseRequestChallenge=function(t,e){switch(t.mediaKeySystemDomain){case ii.WIDEVINE:return e}throw new Error("unsupported key-system: "+t.mediaKeySystemDomain)},n._requestLicense=function(t,e){u["logger"].log("Requesting content license for key-system");var n=this._mediaKeysList[0];if(!n)return u["logger"].error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(c["default"].ERROR,{type:s["ErrorTypes"].KEY_SYSTEM_ERROR,details:s["ErrorDetails"].KEY_SYSTEM_NO_ACCESS,fatal:!0});try{var i=this.getLicenseServerUrl(n.mediaKeySystemDomain),r=this._createLicenseXhr(i,t,e);u["logger"].log("Sending license request to URL: "+i);var a=this._generateLicenseRequestChallenge(n,t);r.send(a)}catch(o){u["logger"].error("Failure requesting DRM license: "+o),this.hls.trigger(c["default"].ERROR,{type:s["ErrorTypes"].KEY_SYSTEM_ERROR,details:s["ErrorDetails"].KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}},n.onMediaAttached=function(t){if(this._emeEnabled){var e=t.media;this._media=e,e.addEventListener("encrypted",this._onMediaEncrypted)}},n.onMediaDetached=function(){var t=this._media,e=this._mediaKeysList;t&&(t.removeEventListener("encrypted",this._onMediaEncrypted),this._media=null,this._mediaKeysList=[],Promise.all(e.map((function(t){if(t.mediaKeysSession)return t.mediaKeysSession.close().catch((function(){}))}))).then((function(){return t.setMediaKeys(null)})).catch((function(){})))},n.onManifestParsed=function(t){if(this._emeEnabled){var e=t.levels.map((function(t){return t.audioCodec})),n=t.levels.map((function(t){return t.videoCodec}));this._attemptKeySystemAccess(ii.WIDEVINE,e,n)}},ui(e,[{key:"requestMediaKeySystemAccess",get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess}}]),e}(f),vi=mi;function gi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function yi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gi(Object(n),!0).forEach((function(e){bi(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function bi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var wi=yi(yi({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,liveDurationInfinity:!1,liveBackBufferLength:1/0,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:je,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,abrController:xe,bufferController:Ae,capLevelController:De,fpsController:Be,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystemOptions:{},requestMediaKeySystemAccessFunc:li,testBandwidth:!0},ki()),{},{subtitleStreamController:si,subtitleTrackController:Zn,timelineController:Wn,audioStreamController:Je,audioTrackController:He,emeController:vi});function ki(){return{cueHandler:i,enableCEA708Captions:!0,enableWebVTT:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}function Si(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function xi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Si(Object(n),!0).forEach((function(e){Ti(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Si(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ti(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ei(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ai(t,e,n){return e&&_i(t.prototype,e),n&&_i(t,n),t}function Ci(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Oi=function(t){function e(n){var i;void 0===n&&(n={}),i=t.call(this)||this,i.config=void 0,i._autoLevelCapping=void 0,i.abrController=void 0,i.capLevelController=void 0,i.levelController=void 0,i.streamController=void 0,i.networkControllers=void 0,i.audioTrackController=void 0,i.subtitleTrackController=void 0,i.emeController=void 0,i.coreComponents=void 0,i.media=null,i.url=null;var r=e.DefaultConfig;if((n.liveSyncDurationCount||n.liveMaxLatencyDurationCount)&&(n.liveSyncDuration||n.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");i.config=xi(xi({},r),n);var a=Ei(i),o=a.config;if(void 0!==o.liveMaxLatencyDurationCount&&o.liveMaxLatencyDurationCount<=o.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==o.liveMaxLatencyDuration&&(void 0===o.liveSyncDuration||o.liveMaxLatencyDuration<=o.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');Object(u["enableLogs"])(o.debug),i._autoLevelCapping=-1;var s=i.abrController=new o.abrController(Ei(i)),l=new o.bufferController(Ei(i)),c=i.capLevelController=new o.capLevelController(Ei(i)),d=new o.fpsController(Ei(i)),h=new H(Ei(i)),f=new W(Ei(i)),p=new X(Ei(i)),m=new ue(Ei(i)),v=i.levelController=new ie(Ei(i)),g=new Z(Ei(i)),y=i.streamController=new Zt(Ei(i),g),b=[v,y],w=o.audioStreamController;w&&b.push(new w(Ei(i),g)),i.networkControllers=b;var k=[h,f,p,s,l,c,d,m,g];if(w=o.audioTrackController,w){var S=new w(Ei(i));i.audioTrackController=S,k.push(S)}if(w=o.subtitleTrackController,w){var x=new w(Ei(i));i.subtitleTrackController=x,b.push(x)}if(w=o.emeController,w){var T=new w(Ei(i));i.emeController=T,k.push(T)}return w=o.subtitleStreamController,w&&b.push(new w(Ei(i),g)),w=o.timelineController,w&&k.push(new w(Ei(i))),i.coreComponents=k,i}Ci(e,t),e.isSupported=function(){return de()},Ai(e,null,[{key:"version",get:function(){return"0.14.3"}},{key:"Events",get:function(){return c["default"]}},{key:"ErrorTypes",get:function(){return s["ErrorTypes"]}},{key:"ErrorDetails",get:function(){return s["ErrorDetails"]}},{key:"DefaultConfig",get:function(){return e.defaultConfig?e.defaultConfig:wi},set:function(t){e.defaultConfig=t}}]);var n=e.prototype;return n.destroy=function(){u["logger"].log("destroy"),this.trigger(c["default"].DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach((function(t){t.destroy()})),this.url=null,this.removeAllListeners(),this._autoLevelCapping=-1},n.attachMedia=function(t){u["logger"].log("attachMedia"),this.media=t,this.trigger(c["default"].MEDIA_ATTACHING,{media:t})},n.detachMedia=function(){u["logger"].log("detachMedia"),this.trigger(c["default"].MEDIA_DETACHING),this.media=null},n.loadSource=function(t){t=o["buildAbsoluteURL"](window.location.href,t,{alwaysNormalize:!0}),u["logger"].log("loadSource:"+t),this.url=t,this.trigger(c["default"].MANIFEST_LOADING,{url:t})},n.startLoad=function(t){void 0===t&&(t=-1),u["logger"].log("startLoad("+t+")"),this.networkControllers.forEach((function(e){e.startLoad(t)}))},n.stopLoad=function(){u["logger"].log("stopLoad"),this.networkControllers.forEach((function(t){t.stopLoad()}))},n.swapAudioCodec=function(){u["logger"].log("swapAudioCodec"),this.streamController.swapAudioCodec()},n.recoverMediaError=function(){u["logger"].log("recoverMediaError");var t=this.media;this.detachMedia(),t&&this.attachMedia(t)},n.removeLevel=function(t,e){void 0===e&&(e=0),this.levelController.removeLevel(t,e)},Ai(e,[{key:"levels",get:function(){return this.levelController.levels}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(t){u["logger"].log("set currentLevel:"+t),this.loadLevel=t,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(t){u["logger"].log("set nextLevel:"+t),this.levelController.manualLevel=t,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(t){u["logger"].log("set loadLevel:"+t),this.levelController.manualLevel=t}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(t){this.levelController.nextLoadLevel=t}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(t){u["logger"].log("set firstLevel:"+t),this.levelController.firstLevel=t}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(t){u["logger"].log("set startLevel:"+t),-1!==t&&(t=Math.max(t,this.minAutoLevel)),this.levelController.startLevel=t}},{key:"capLevelToPlayerSize",set:function(t){var e=!!t;e!==this.config.capLevelToPlayerSize&&(e?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=e)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(t){u["logger"].log("set autoLevelCapping:"+t),this._autoLevelCapping=t}},{key:"bandwidthEstimate",get:function(){var t=this.abrController._bwEstimator;return t?t.getEstimate():NaN}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){for(var t=this.levels,e=this.config.minAutoBitrate,n=t?t.length:0,i=0;i<n;i++){var r=t[i].realBitrate?Math.max(t[i].realBitrate,t[i].bitrate):t[i].bitrate;if(r>e)return i}return 0}},{key:"maxAutoLevel",get:function(){var t,e=this.levels,n=this.autoLevelCapping;return t=-1===n&&e&&e.length?e.length-1:n,t}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(t){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,t)}},{key:"audioTracks",get:function(){var t=this.audioTrackController;return t?t.audioTracks:[]}},{key:"audioTrack",get:function(){var t=this.audioTrackController;return t?t.audioTrack:-1},set:function(t){var e=this.audioTrackController;e&&(e.audioTrack=t)}},{key:"liveSyncPosition",get:function(){return this.streamController.liveSyncPosition}},{key:"subtitleTracks",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var t=this.subtitleTrackController;return t?t.subtitleTrack:-1},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleTrack=t)}},{key:"subtitleDisplay",get:function(){var t=this.subtitleTrackController;return!!t&&t.subtitleDisplay},set:function(t){var e=this.subtitleTrackController;e&&(e.subtitleDisplay=t)}}]),e}(ct);Oi.defaultConfig=void 0},"./src/polyfills/number.js":
/*!*********************************!*\
  !*** ./src/polyfills/number.js ***!
  \*********************************/
/*! exports provided: isFiniteNumber, MAX_SAFE_INTEGER */function(t,e,n){"use strict";n.r(e),n.d(e,"isFiniteNumber",(function(){return i})),n.d(e,"MAX_SAFE_INTEGER",(function(){return r}));var i=Number.isFinite||function(t){return"number"===typeof t&&isFinite(t)},r=Number.MAX_SAFE_INTEGER||9007199254740991},"./src/utils/get-self-scope.js":
/*!*************************************!*\
  !*** ./src/utils/get-self-scope.js ***!
  \*************************************/
/*! exports provided: getSelfScope */function(t,e,n){"use strict";function i(){return"undefined"===typeof window?self:window}n.r(e),n.d(e,"getSelfScope",(function(){return i}))},"./src/utils/logger.js":
/*!*****************************!*\
  !*** ./src/utils/logger.js ***!
  \*****************************/
/*! exports provided: enableLogs, logger */function(t,e,n){"use strict";n.r(e),n.d(e,"enableLogs",(function(){return d})),n.d(e,"logger",(function(){return h}));var i=n(/*! ./get-self-scope */"./src/utils/get-self-scope.js");function r(){}var a={trace:r,debug:r,log:r,warn:r,info:r,error:r},o=a;function s(t,e){return e="["+t+"] > "+e,e}var l=Object(i["getSelfScope"])();function c(t){var e=l.console[t];return e?function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];i[0]&&(i[0]=s(t,i[0])),e.apply(l.console,i)}:r}function u(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];n.forEach((function(e){o[e]=t[e]?t[e].bind(t):c(e)}))}var d=function(t){if(l.console&&!0===t||"object"===typeof t){u(t,"debug","log","info","warn","error");try{o.log()}catch(e){o=a}}else o=a},h=o}})["default"]}))},bc3a:function(t,e,n){t.exports=n("cee4")},c04e:function(t,e,n){var i=n("861d");t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},c345:function(t,e,n){"use strict";var i=n("c532"),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,a,o={};return t?(i.forEach(t.split("\n"),(function(t){if(a=t.indexOf(":"),e=i.trim(t.substr(0,a)).toLowerCase(),n=i.trim(t.substr(a+1)),e){if(o[e]&&r.indexOf(e)>=0)return;o[e]="set-cookie"===e?(o[e]?o[e]:[]).concat([n]):o[e]?o[e]+", "+n:n}})),o):o}},c401:function(t,e,n){"use strict";var i=n("c532");t.exports=function(t,e,n){return i.forEach(n,(function(n){t=n(t,e)})),t}},c430:function(t,e){t.exports=!1},c532:function(t,e,n){"use strict";var i=n("1d2b"),r=Object.prototype.toString;function a(t){return"[object Array]"===r.call(t)}function o(t){return"undefined"===typeof t}function s(t){return null!==t&&!o(t)&&null!==t.constructor&&!o(t.constructor)&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function l(t){return"[object ArrayBuffer]"===r.call(t)}function c(t){return"undefined"!==typeof FormData&&t instanceof FormData}function u(t){var e;return e="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function d(t){return"string"===typeof t}function h(t){return"number"===typeof t}function f(t){return null!==t&&"object"===typeof t}function p(t){return"[object Date]"===r.call(t)}function m(t){return"[object File]"===r.call(t)}function v(t){return"[object Blob]"===r.call(t)}function g(t){return"[object Function]"===r.call(t)}function y(t){return f(t)&&g(t.pipe)}function b(t){return"undefined"!==typeof URLSearchParams&&t instanceof URLSearchParams}function w(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}function k(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function S(t,e){if(null!==t&&"undefined"!==typeof t)if("object"!==typeof t&&(t=[t]),a(t))for(var n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.call(null,t[r],r,t)}function x(){var t={};function e(e,n){"object"===typeof t[n]&&"object"===typeof e?t[n]=x(t[n],e):t[n]=e}for(var n=0,i=arguments.length;n<i;n++)S(arguments[n],e);return t}function T(){var t={};function e(e,n){"object"===typeof t[n]&&"object"===typeof e?t[n]=T(t[n],e):t[n]="object"===typeof e?T({},e):e}for(var n=0,i=arguments.length;n<i;n++)S(arguments[n],e);return t}function E(t,e,n){return S(e,(function(e,r){t[r]=n&&"function"===typeof e?i(e,n):e})),t}t.exports={isArray:a,isArrayBuffer:l,isBuffer:s,isFormData:c,isArrayBufferView:u,isString:d,isNumber:h,isObject:f,isUndefined:o,isDate:p,isFile:m,isBlob:v,isFunction:g,isStream:y,isURLSearchParams:b,isStandardBrowserEnv:k,forEach:S,merge:x,deepMerge:T,extend:E,trim:w}},c6b6:function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},c6cd:function(t,e,n){var i=n("da84"),r=n("ce4e"),a="__core-js_shared__",o=i[a]||r(a,{});t.exports=o},c8af:function(t,e,n){"use strict";var i=n("c532");t.exports=function(t,e){i.forEach(t,(function(n,i){i!==e&&i.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[i])}))}},c8ba:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(i){"object"===typeof window&&(n=window)}t.exports=n},ca84:function(t,e,n){var i=n("5135"),r=n("fc6a"),a=n("4d64").indexOf,o=n("d012");t.exports=function(t,e){var n,s=r(t),l=0,c=[];for(n in s)!i(o,n)&&i(s,n)&&c.push(n);while(e.length>l)i(s,n=e[l++])&&(~a(c,n)||c.push(n));return c}},cc12:function(t,e,n){var i=n("da84"),r=n("861d"),a=i.document,o=r(a)&&r(a.createElement);t.exports=function(t){return o?a.createElement(t):{}}},cca6:function(t,e,n){var i=n("23e7"),r=n("60da");i({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},cdf9:function(t,e,n){var i=n("825a"),r=n("861d"),a=n("f069");t.exports=function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var n=a.f(t),o=n.resolve;return o(e),n.promise}},ce4e:function(t,e,n){var i=n("da84"),r=n("9112");t.exports=function(t,e){try{r(i,t,e)}catch(n){i[t]=e}return e}},cee4:function(t,e,n){"use strict";var i=n("c532"),r=n("1d2b"),a=n("0a06"),o=n("4a7b"),s=n("2444");function l(t){var e=new a(t),n=r(a.prototype.request,e);return i.extend(n,a.prototype,e),i.extend(n,e),n}var c=l(s);c.Axios=a,c.create=function(t){return l(o(c.defaults,t))},c.Cancel=n("7a77"),c.CancelToken=n("8df4"),c.isCancel=n("2e67"),c.all=function(t){return Promise.all(t)},c.spread=n("0df6"),t.exports=c,t.exports.default=c},d012:function(t,e){t.exports={}},d039:function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},d066:function(t,e,n){var i=n("428f"),r=n("da84"),a=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?a(i[t])||a(r[t]):i[t]&&i[t][e]||r[t]&&r[t][e]}},d1e7:function(t,e,n){"use strict";var i={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,a=r&&!i.call({1:2},1);e.f=a?function(t){var e=r(this,t);return!!e&&e.enumerable}:i},d233:function(t,e,n){"use strict";var i=Object.prototype.hasOwnProperty,r=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),a=function(t){var e;while(t.length){var n=t.pop();if(e=n.obj[n.prop],Array.isArray(e)){for(var i=[],r=0;r<e.length;++r)"undefined"!==typeof e[r]&&i.push(e[r]);n.obj[n.prop]=i}}return e},o=function(t,e){for(var n=e&&e.plainObjects?Object.create(null):{},i=0;i<t.length;++i)"undefined"!==typeof t[i]&&(n[i]=t[i]);return n},s=function t(e,n,r){if(!n)return e;if("object"!==typeof n){if(Array.isArray(e))e.push(n);else{if("object"!==typeof e)return[e,n];(r.plainObjects||r.allowPrototypes||!i.call(Object.prototype,n))&&(e[n]=!0)}return e}if("object"!==typeof e)return[e].concat(n);var a=e;return Array.isArray(e)&&!Array.isArray(n)&&(a=o(e,r)),Array.isArray(e)&&Array.isArray(n)?(n.forEach((function(n,a){i.call(e,a)?e[a]&&"object"===typeof e[a]?e[a]=t(e[a],n,r):e.push(n):e[a]=n})),e):Object.keys(n).reduce((function(e,a){var o=n[a];return i.call(e,a)?e[a]=t(e[a],o,r):e[a]=o,e}),a)},l=function(t,e){return Object.keys(e).reduce((function(t,n){return t[n]=e[n],t}),t)},c=function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}},u=function(t){if(0===t.length)return t;for(var e="string"===typeof t?t:String(t),n="",i=0;i<e.length;++i){var a=e.charCodeAt(i);45===a||46===a||95===a||126===a||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122?n+=e.charAt(i):a<128?n+=r[a]:a<2048?n+=r[192|a>>6]+r[128|63&a]:a<55296||a>=57344?n+=r[224|a>>12]+r[128|a>>6&63]+r[128|63&a]:(i+=1,a=65536+((1023&a)<<10|1023&e.charCodeAt(i)),n+=r[240|a>>18]+r[128|a>>12&63]+r[128|a>>6&63]+r[128|63&a])}return n},d=function(t){for(var e=[{obj:{o:t},prop:"o"}],n=[],i=0;i<e.length;++i)for(var r=e[i],o=r.obj[r.prop],s=Object.keys(o),l=0;l<s.length;++l){var c=s[l],u=o[c];"object"===typeof u&&null!==u&&-1===n.indexOf(u)&&(e.push({obj:o,prop:c}),n.push(u))}return a(e)},h=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},f=function(t){return null!==t&&"undefined"!==typeof t&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))};t.exports={arrayToObject:o,assign:l,compact:d,decode:c,encode:u,isBuffer:f,isRegExp:h,merge:s}},d282:function(t,e,n){"use strict";function i(t,e){return e?"string"===typeof e?" "+t+"--"+e:Array.isArray(e)?e.reduce((function(e,n){return e+i(t,n)}),""):Object.keys(e).reduce((function(n,r){return n+(e[r]?i(t,r):"")}),""):""}function r(t){return function(e,n){return e&&"string"!==typeof e&&(n=e,e=""),e=e?t+"__"+e:t,""+e+i(e,n)}}n.d(e,"a",(function(){return p}));var a=n("a142"),o=n("68ed"),s={methods:{slots:function(t,e){void 0===t&&(t="default");var n=this.$slots,i=this.$scopedSlots,r=i[t];return r?r(e):n[t]}}};function l(t){var e=this.name;t.component(e,this),t.component(Object(o["a"])("-"+e),this)}function c(t){var e=t.scopedSlots||t.data.scopedSlots||{},n=t.slots();return Object.keys(n).forEach((function(t){e[t]||(e[t]=function(){return n[t]})})),e}function u(t){return{functional:!0,props:t.props,model:t.model,render:function(e,n){return t(e,n.props,c(n),n)}}}function d(t){return function(e){return Object(a["d"])(e)&&(e=u(e)),e.functional||(e.mixins=e.mixins||[],e.mixins.push(s)),e.name=t,e.install=l,e}}var h=n("3c69");function f(t){var e=Object(o["a"])(t)+".";return function(t){for(var n=h["a"].messages(),i=Object(a["a"])(n,e+t)||Object(a["a"])(n,t),r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return Object(a["d"])(i)?i.apply(void 0,o):i}}function p(t){return t="van-"+t,[d(t),r(t),f(t)]}},d2bb:function(t,e,n){var i=n("825a"),r=n("3bbe");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,t.call(n,[]),e=n instanceof Array}catch(a){}return function(n,a){return i(n),r(a),e?t.call(n,a):n.__proto__=a,n}}():void 0)},d3b7:function(t,e,n){var i=n("00ee"),r=n("6eeb"),a=n("b041");i||r(Object.prototype,"toString",a,{unsafe:!0})},d44e:function(t,e,n){var i=n("9bf2").f,r=n("5135"),a=n("b622"),o=a("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},d784:function(t,e,n){"use strict";n("ac1f");var i=n("6eeb"),r=n("d039"),a=n("b622"),o=n("9263"),s=n("9112"),l=a("species"),c=!r((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),d=a("replace"),h=function(){return!!/./[d]&&""===/./[d]("a","$0")}(),f=!r((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,d){var p=a(t),m=!r((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),v=m&&!r((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[l]=function(){return n},n.flags="",n[p]=/./[p]),n.exec=function(){return e=!0,null},n[p](""),!e}));if(!m||!v||"replace"===t&&(!c||!u||h)||"split"===t&&!f){var g=/./[p],y=n(p,""[t],(function(t,e,n,i,r){return e.exec===o?m&&!r?{done:!0,value:g.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}),b=y[0],w=y[1];i(String.prototype,t,b),i(RegExp.prototype,p,2==e?function(t,e){return w.call(t,this,e)}:function(t){return w.call(t,this)})}d&&s(RegExp.prototype[p],"sham",!0)}},d81d:function(t,e,n){"use strict";var i=n("23e7"),r=n("b727").map,a=n("1dde"),o=n("ae40"),s=a("map"),l=o("map");i({target:"Array",proto:!0,forced:!s||!l},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},d925:function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},da84:function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||Function("return this")()}).call(this,n("c8ba"))},df75:function(t,e,n){var i=n("ca84"),r=n("7839");t.exports=Object.keys||function(t){return i(t,r)}},df7c:function(t,e,n){(function(t){function n(t,e){for(var n=0,i=t.length-1;i>=0;i--){var r=t[i];"."===r?t.splice(i,1):".."===r?(t.splice(i,1),n++):n&&(t.splice(i,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function i(t){"string"!==typeof t&&(t+="");var e,n=0,i=-1,r=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!r){n=e+1;break}}else-1===i&&(r=!1,i=e+1);return-1===i?"":t.slice(n,i)}function r(t,e){if(t.filter)return t.filter(e);for(var n=[],i=0;i<t.length;i++)e(t[i],i,t)&&n.push(t[i]);return n}e.resolve=function(){for(var e="",i=!1,a=arguments.length-1;a>=-1&&!i;a--){var o=a>=0?arguments[a]:t.cwd();if("string"!==typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(e=o+"/"+e,i="/"===o.charAt(0))}return e=n(r(e.split("/"),(function(t){return!!t})),!i).join("/"),(i?"/":"")+e||"."},e.normalize=function(t){var i=e.isAbsolute(t),o="/"===a(t,-1);return t=n(r(t.split("/"),(function(t){return!!t})),!i).join("/"),t||i||(t="."),t&&o&&(t+="/"),(i?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(r(t,(function(t,e){if("string"!==typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,n){function i(t){for(var e=0;e<t.length;e++)if(""!==t[e])break;for(var n=t.length-1;n>=0;n--)if(""!==t[n])break;return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var r=i(t.split("/")),a=i(n.split("/")),o=Math.min(r.length,a.length),s=o,l=0;l<o;l++)if(r[l]!==a[l]){s=l;break}var c=[];for(l=s;l<r.length;l++)c.push("..");return c=c.concat(a.slice(s)),c.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!==typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),n=47===e,i=-1,r=!0,a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),47===e){if(!r){i=a;break}}else r=!1;return-1===i?n?"/":".":n&&1===i?"/":t.slice(0,i)},e.basename=function(t,e){var n=i(t);return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){"string"!==typeof t&&(t+="");for(var e=-1,n=0,i=-1,r=!0,a=0,o=t.length-1;o>=0;--o){var s=t.charCodeAt(o);if(47!==s)-1===i&&(r=!1,i=o+1),46===s?-1===e?e=o:1!==a&&(a=1):-1!==e&&(a=-1);else if(!r){n=o+1;break}}return-1===e||-1===i||0===a||1===a&&e===i-1&&e===n+1?"":t.slice(e,i)};var a="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n("4362"))},e163:function(t,e,n){var i=n("5135"),r=n("7b0b"),a=n("f772"),o=n("e177"),s=a("IE_PROTO"),l=Object.prototype;t.exports=o?Object.getPrototypeOf:function(t){return t=r(t),i(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?l:null}},e177:function(t,e,n){var i=n("d039");t.exports=!i((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},e260:function(t,e,n){"use strict";var i=n("fc6a"),r=n("44d2"),a=n("3f8c"),o=n("69f3"),s=n("7dd0"),l="Array Iterator",c=o.set,u=o.getterFor(l);t.exports=s(Array,"Array",(function(t,e){c(this,{type:l,target:i(t),index:0,kind:e})}),(function(){var t=u(this),e=t.target,n=t.kind,i=t.index++;return!e||i>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:e[i],done:!1}:{value:[i,e[i]],done:!1}}),"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},e2cc:function(t,e,n){var i=n("6eeb");t.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},e667:function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}}},e683:function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},e6cf:function(t,e,n){"use strict";var i,r,a,o,s=n("23e7"),l=n("c430"),c=n("da84"),u=n("d066"),d=n("fea9"),h=n("6eeb"),f=n("e2cc"),p=n("d44e"),m=n("2626"),v=n("861d"),g=n("1c0b"),y=n("19aa"),b=n("c6b6"),w=n("8925"),k=n("2266"),S=n("1c7e"),x=n("4840"),T=n("2cf4").set,E=n("b575"),_=n("cdf9"),A=n("44de"),C=n("f069"),O=n("e667"),L=n("69f3"),R=n("94ca"),D=n("b622"),I=n("2d00"),P=D("species"),M="Promise",F=L.get,B=L.set,N=L.getterFor(M),j=d,$=c.TypeError,U=c.document,z=c.process,V=u("fetch"),H=C.f,q=H,G="process"==b(z),W=!!(U&&U.createEvent&&c.dispatchEvent),K="unhandledrejection",Y="rejectionhandled",X=0,Q=1,J=2,Z=1,tt=2,et=R(M,(function(){var t=w(j)!==String(j);if(!t){if(66===I)return!0;if(!G&&"function"!=typeof PromiseRejectionEvent)return!0}if(l&&!j.prototype["finally"])return!0;if(I>=51&&/native code/.test(j))return!1;var e=j.resolve(1),n=function(t){t((function(){}),(function(){}))},i=e.constructor={};return i[P]=n,!(e.then((function(){}))instanceof n)})),nt=et||!S((function(t){j.all(t)["catch"]((function(){}))})),it=function(t){var e;return!(!v(t)||"function"!=typeof(e=t.then))&&e},rt=function(t,e,n){if(!e.notified){e.notified=!0;var i=e.reactions;E((function(){var r=e.value,a=e.state==Q,o=0;while(i.length>o){var s,l,c,u=i[o++],d=a?u.ok:u.fail,h=u.resolve,f=u.reject,p=u.domain;try{d?(a||(e.rejection===tt&&lt(t,e),e.rejection=Z),!0===d?s=r:(p&&p.enter(),s=d(r),p&&(p.exit(),c=!0)),s===u.promise?f($("Promise-chain cycle")):(l=it(s))?l.call(s,h,f):h(s)):f(r)}catch(m){p&&!c&&p.exit(),f(m)}}e.reactions=[],e.notified=!1,n&&!e.rejection&&ot(t,e)}))}},at=function(t,e,n){var i,r;W?(i=U.createEvent("Event"),i.promise=e,i.reason=n,i.initEvent(t,!1,!0),c.dispatchEvent(i)):i={promise:e,reason:n},(r=c["on"+t])?r(i):t===K&&A("Unhandled promise rejection",n)},ot=function(t,e){T.call(c,(function(){var n,i=e.value,r=st(e);if(r&&(n=O((function(){G?z.emit("unhandledRejection",i,t):at(K,t,i)})),e.rejection=G||st(e)?tt:Z,n.error))throw n.value}))},st=function(t){return t.rejection!==Z&&!t.parent},lt=function(t,e){T.call(c,(function(){G?z.emit("rejectionHandled",t):at(Y,t,e.value)}))},ct=function(t,e,n,i){return function(r){t(e,n,r,i)}},ut=function(t,e,n,i){e.done||(e.done=!0,i&&(e=i),e.value=n,e.state=J,rt(t,e,!0))},dt=function(t,e,n,i){if(!e.done){e.done=!0,i&&(e=i);try{if(t===n)throw $("Promise can't be resolved itself");var r=it(n);r?E((function(){var i={done:!1};try{r.call(n,ct(dt,t,i,e),ct(ut,t,i,e))}catch(a){ut(t,i,a,e)}})):(e.value=n,e.state=Q,rt(t,e,!1))}catch(a){ut(t,{done:!1},a,e)}}};et&&(j=function(t){y(this,j,M),g(t),i.call(this);var e=F(this);try{t(ct(dt,this,e),ct(ut,this,e))}catch(n){ut(this,e,n)}},i=function(t){B(this,{type:M,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:X,value:void 0})},i.prototype=f(j.prototype,{then:function(t,e){var n=N(this),i=H(x(this,j));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=G?z.domain:void 0,n.parent=!0,n.reactions.push(i),n.state!=X&&rt(this,n,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),r=function(){var t=new i,e=F(t);this.promise=t,this.resolve=ct(dt,t,e),this.reject=ct(ut,t,e)},C.f=H=function(t){return t===j||t===a?new r(t):q(t)},l||"function"!=typeof d||(o=d.prototype.then,h(d.prototype,"then",(function(t,e){var n=this;return new j((function(t,e){o.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof V&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return _(j,V.apply(c,arguments))}}))),s({global:!0,wrap:!0,forced:et},{Promise:j}),p(j,M,!1,!0),m(M),a=u(M),s({target:M,stat:!0,forced:et},{reject:function(t){var e=H(this);return e.reject.call(void 0,t),e.promise}}),s({target:M,stat:!0,forced:l||et},{resolve:function(t){return _(l&&this===a?j:this,t)}}),s({target:M,stat:!0,forced:nt},{all:function(t){var e=this,n=H(e),i=n.resolve,r=n.reject,a=O((function(){var n=g(e.resolve),a=[],o=0,s=1;k(t,(function(t){var l=o++,c=!1;a.push(void 0),s++,n.call(e,t).then((function(t){c||(c=!0,a[l]=t,--s||i(a))}),r)})),--s||i(a)}));return a.error&&r(a.value),n.promise},race:function(t){var e=this,n=H(e),i=n.reject,r=O((function(){var r=g(e.resolve);k(t,(function(t){r.call(e,t).then(n.resolve,i)}))}));return r.error&&i(r.value),n.promise}})},e893:function(t,e,n){var i=n("5135"),r=n("56ef"),a=n("06cf"),o=n("9bf2");t.exports=function(t,e){for(var n=r(e),s=o.f,l=a.f,c=0;c<n.length;c++){var u=n[c];i(t,u)||s(t,u,l(e,u))}}},e8b5:function(t,e,n){var i=n("c6b6");t.exports=Array.isArray||function(t){return"Array"==i(t)}},e95a:function(t,e,n){var i=n("b622"),r=n("3f8c"),a=i("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[a]===t)}},ea8e:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return u}));var i,r=n("a142"),a=n("90c6");function o(t){if(Object(r["c"])(t))return t=String(t),Object(a["b"])(t)?t+"px":t}function s(){if(!i){var t=document.documentElement,e=t.style.fontSize||window.getComputedStyle(t).fontSize;i=parseFloat(e)}return i}function l(t){return t=t.replace(/rem/g,""),+t*s()}function c(t){return t=t.replace(/vw/g,""),+t*window.innerWidth/100}function u(t){if("number"===typeof t)return t;if(r["b"]){if(-1!==t.indexOf("rem"))return l(t);if(-1!==t.indexOf("vw"))return c(t)}return parseFloat(t)}},f069:function(t,e,n){"use strict";var i=n("1c0b"),r=function(t){var e,n;this.promise=new t((function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i})),this.resolve=i(e),this.reject=i(n)};t.exports.f=function(t){return new r(t)}},f5df:function(t,e,n){var i=n("00ee"),r=n("c6b6"),a=n("b622"),o=a("toStringTag"),s="Arguments"==r(function(){return arguments}()),l=function(t,e){try{return t[e]}catch(n){}};t.exports=i?r:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=l(e=Object(t),o))?n:s?r(e):"Object"==(i=r(e))&&"function"==typeof e.callee?"Arguments":i}},f6b4:function(t,e,n){"use strict";var i=n("c532");function r(){this.handlers=[]}r.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},r.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},r.prototype.forEach=function(t){i.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=r},f772:function(t,e,n){var i=n("5692"),r=n("90e3"),a=i("keys");t.exports=function(t){return a[t]||(a[t]=r(t))}},f7a5:function(t,e,n){!function(e,n){t.exports=n()}(window,(function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=58)}([function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=n(6),a=Object.prototype.toString;function o(t){return"[object Array]"===a.call(t)}function s(t){return void 0===t}function l(t){return null!==t&&"object"===i(t)}function c(t){return"[object Function]"===a.call(t)}function u(t,e){if(null!=t)if("object"!==i(t)&&(t=[t]),o(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.call(null,t[a],a,t)}t.exports={isArray:o,isArrayBuffer:function(t){return"[object ArrayBuffer]"===a.call(t)},isBuffer:function(t){return null!==t&&!s(t)&&null!==t.constructor&&!s(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:l,isUndefined:s,isDate:function(t){return"[object Date]"===a.call(t)},isFile:function(t){return"[object File]"===a.call(t)},isBlob:function(t){return"[object Blob]"===a.call(t)},isFunction:c,isStream:function(t){return l(t)&&c(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:u,merge:function t(){var e={};function n(n,r){"object"===i(e[r])&&"object"===i(n)?e[r]=t(e[r],n):e[r]=n}for(var r=0,a=arguments.length;r<a;r++)u(arguments[r],n);return e},deepMerge:function t(){var e={};function n(n,r){"object"===i(e[r])&&"object"===i(n)?e[r]=t(e[r],n):"object"===i(n)?e[r]=t({},n):e[r]=n}for(var r=0,a=arguments.length;r<a;r++)u(arguments[r],n);return e},extend:function(t,e,n){return u(e,(function(e,i){t[i]=n&&"function"==typeof e?r(e,n):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,n){var i=n(14);t.exports=function(t){"use strict";var e="",n=(t=t||{}).enableSubtitle,r=t.subtitle,a=t.current,o=t.airplay,s=t.pic,l=i.$escape,c=t.screenshot,u=t.preload,d=t.url;return n=r&&"webvtt"===r.type,e+='\n<video\n    class="dplayer-video ',a&&(e+="dplayer-video-current"),e+='"\n    webkit-playsinline\n    ',o&&(e+=' x-webkit-airplay="allow" '),e+="\n    playsinline\n    ",s&&(e+='poster="',e+=l(s),e+='"'),e+="\n    ",(c||n)&&(e+='crossorigin="anonymous"'),e+="\n    ",u&&(e+='preload="',e+=l(u),e+='"'),e+="\n    ",d&&(e+='src="',e+=l(d),e+='"'),e+="\n    >\n    ",n&&(e+='\n    <track kind="metadata" default src="',e+=l(r.url),e+='"></track>\n    '),e+"\n</video>"}},function(t,e,n){t.exports=n(41)},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n,i,r,a=t[1]||"",o=t[3];if(!o)return a;if(e&&"function"==typeof btoa){var s=(n=o,i=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),"/*# ".concat(r," */")),l=o.sources.map((function(t){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(t," */")}));return[a].concat(l).concat([s]).join("\n")}return[a].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,i){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(i)for(var a=0;a<this.length;a++){var o=this[a][0];null!=o&&(r[o]=!0)}for(var s=0;s<t.length;s++){var l=[].concat(t[s]);i&&r[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),e.push(l))}},e}},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"===("undefined"==typeof window?"undefined":n(window))&&(i=window)}t.exports=i},function(t,e){var n,i,r=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(t){n=a}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(t){i=o}}();var l,c=[],u=!1,d=-1;function h(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&f())}function f(){if(!u){var t=s(h);u=!0;for(var e=c.length;e;){for(l=c,c=[];++d<e;)l&&l[d].run();d=-1,e=c.length}l=null,u=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function m(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new p(t,e)),1!==c.length||u||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return t.apply(e,n)}}},function(t,e,n){"use strict";var i=n(0);function r(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var a;if(n)a=n(e);else if(i.isURLSearchParams(e))a=e.toString();else{var o=[];i.forEach(e,(function(t,e){null!=t&&(i.isArray(t)?e+="[]":t=[t],i.forEach(t,(function(t){i.isDate(t)?t=t.toISOString():i.isObject(t)&&(t=JSON.stringify(t)),o.push(r(e)+"="+r(t))})))})),a=o.join("&")}if(a){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+a}return t}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";(function(e){var i=n(0),r=n(46),a={"Content-Type":"application/x-www-form-urlencoded"};function o(t,e){!i.isUndefined(t)&&i.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s,l={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==e&&"[object process]"===Object.prototype.toString.call(e))&&(s=n(10)),s),transformRequest:[function(t,e){return r(e,"Accept"),r(e,"Content-Type"),i.isFormData(t)||i.isArrayBuffer(t)||i.isBuffer(t)||i.isStream(t)||i.isFile(t)||i.isBlob(t)?t:i.isArrayBufferView(t)?t.buffer:i.isURLSearchParams(t)?(o(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):i.isObject(t)?(o(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],(function(t){l.headers[t]={}})),i.forEach(["post","put","patch"],(function(t){l.headers[t]=i.merge(a)})),t.exports=l}).call(this,n(5))},function(t,e,n){"use strict";var i=n(0),r=n(47),a=n(7),o=n(49),s=n(52),l=n(53),c=n(11);t.exports=function(t){return new Promise((function(e,u){var d=t.data,h=t.headers;i.isFormData(d)&&delete h["Content-Type"];var f=new XMLHttpRequest;if(t.auth){var p=t.auth.username||"",m=t.auth.password||"";h.Authorization="Basic "+btoa(p+":"+m)}var v=o(t.baseURL,t.url);if(f.open(t.method.toUpperCase(),a(v,t.params,t.paramsSerializer),!0),f.timeout=t.timeout,f.onreadystatechange=function(){if(f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in f?s(f.getAllResponseHeaders()):null,i={data:t.responseType&&"text"!==t.responseType?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:n,config:t,request:f};r(e,u,i),f=null}},f.onabort=function(){f&&(u(c("Request aborted",t,"ECONNABORTED",f)),f=null)},f.onerror=function(){u(c("Network Error",t,null,f)),f=null},f.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),u(c(e,t,"ECONNABORTED",f)),f=null},i.isStandardBrowserEnv()){var g=n(54),y=(t.withCredentials||l(v))&&t.xsrfCookieName?g.read(t.xsrfCookieName):void 0;y&&(h[t.xsrfHeaderName]=y)}if("setRequestHeader"in f&&i.forEach(h,(function(t,e){void 0===d&&"content-type"===e.toLowerCase()?delete h[e]:f.setRequestHeader(e,t)})),i.isUndefined(t.withCredentials)||(f.withCredentials=!!t.withCredentials),t.responseType)try{f.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&f.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){f&&(f.abort(),u(t),f=null)})),void 0===d&&(d=null),f.send(d)}))}},function(t,e,n){"use strict";var i=n(48);t.exports=function(t,e,n,r,a){var o=new Error(t);return i(o,e,n,r,a)}},function(t,e,n){"use strict";var i=n(0);t.exports=function(t,e){e=e||{};var n={},r=["url","method","params","data"],a=["headers","auth","proxy"],o=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];i.forEach(r,(function(t){void 0!==e[t]&&(n[t]=e[t])})),i.forEach(a,(function(r){i.isObject(e[r])?n[r]=i.deepMerge(t[r],e[r]):void 0!==e[r]?n[r]=e[r]:i.isObject(t[r])?n[r]=i.deepMerge(t[r]):void 0!==t[r]&&(n[r]=t[r])})),i.forEach(o,(function(i){void 0!==e[i]?n[i]=e[i]:void 0!==t[i]&&(n[i]=t[i])}));var s=r.concat(a).concat(o),l=Object.keys(e).filter((function(t){return-1===s.indexOf(t)}));return i.forEach(l,(function(i){void 0!==e[i]?n[i]=e[i]:void 0!==t[i]&&(n[i]=t[i])})),n}},function(t,e,n){"use strict";function i(t){this.message=t}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,t.exports=i},function(t,e,n){"use strict";t.exports=n(57)},function(t,e,n){"use strict";(function(t){var i=n(16);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a=setTimeout;function o(t){return Boolean(t&&void 0!==t.length)}function s(){}function l(t){if(!(this instanceof l))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],p(t,this)}function c(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,l._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var i;try{i=n(t._value)}catch(t){return void d(e.promise,t)}u(e.promise,i)}else(1===t._state?u:d)(e.promise,t._value)}))):t._deferreds.push(e)}function u(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"===r(e)||"function"==typeof e)){var n=e.then;if(e instanceof l)return t._state=3,t._value=e,void h(t);if("function"==typeof n)return void p((i=n,a=e,function(){i.apply(a,arguments)}),t)}t._state=1,t._value=e,h(t)}catch(e){d(t,e)}var i,a}function d(t,e){t._state=2,t._value=e,h(t)}function h(t){2===t._state&&0===t._deferreds.length&&l._immediateFn((function(){t._handled||l._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)c(t,t._deferreds[e]);t._deferreds=null}function f(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function p(t,e){var n=!1;try{t((function(t){n||(n=!0,u(e,t))}),(function(t){n||(n=!0,d(e,t))}))}catch(t){if(n)return;n=!0,d(e,t)}}l.prototype.catch=function(t){return this.then(null,t)},l.prototype.then=function(t,e){var n=new this.constructor(s);return c(this,new f(t,e,n)),n},l.prototype.finally=i.a,l.all=function(t){return new l((function(e,n){if(!o(t))return n(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(t);if(0===i.length)return e([]);var a=i.length;function s(t,o){try{if(o&&("object"===r(o)||"function"==typeof o)){var l=o.then;if("function"==typeof l)return void l.call(o,(function(e){s(t,e)}),n)}i[t]=o,0==--a&&e(i)}catch(t){n(t)}}for(var l=0;l<i.length;l++)s(l,i[l])}))},l.resolve=function(t){return t&&"object"===r(t)&&t.constructor===l?t:new l((function(e){e(t)}))},l.reject=function(t){return new l((function(e,n){n(t)}))},l.race=function(t){return new l((function(e,n){if(!o(t))return n(new TypeError("Promise.race accepts an array"));for(var i=0,r=t.length;i<r;i++)l.resolve(t[i]).then(e,n)}))},l._immediateFn="function"==typeof t&&function(e){t(e)}||function(t){a(t,0)},l._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},e.a=l}).call(this,n(39).setImmediate)},function(t,e,n){"use strict";e.a=function(t){var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){return e.reject(n)}))}))}},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 16 32"><path d="M15.552 15.168q0.448 0.32 0.448 0.832 0 0.448-0.448 0.768l-13.696 8.512q-0.768 0.512-1.312 0.192t-0.544-1.28v-16.448q0-0.96 0.544-1.28t1.312 0.192z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 17 32"><path d="M14.080 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048zM2.88 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 21 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528zM25.152 16q0 2.72-1.536 5.056t-4 3.36q-0.256 0.096-0.448 0.096-0.48 0-0.832-0.352t-0.32-0.8q0-0.704 0.672-1.056 1.024-0.512 1.376-0.8 1.312-0.96 2.048-2.4t0.736-3.104-0.736-3.104-2.048-2.4q-0.352-0.288-1.376-0.8-0.672-0.352-0.672-1.056 0-0.448 0.32-0.8t0.8-0.352q0.224 0 0.48 0.096 2.496 1.056 4 3.36t1.536 5.056z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 21 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 21 32"><path d="M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 33"><path d="M6.667 28h-5.333c-0.8 0-1.333-0.533-1.333-1.333v-5.333c0-0.8 0.533-1.333 1.333-1.333s1.333 0.533 1.333 1.333v4h4c0.8 0 1.333 0.533 1.333 1.333s-0.533 1.333-1.333 1.333zM30.667 28h-5.333c-0.8 0-1.333-0.533-1.333-1.333s0.533-1.333 1.333-1.333h4v-4c0-0.8 0.533-1.333 1.333-1.333s1.333 0.533 1.333 1.333v5.333c0 0.8-0.533 1.333-1.333 1.333zM30.667 12c-0.8 0-1.333-0.533-1.333-1.333v-4h-4c-0.8 0-1.333-0.533-1.333-1.333s0.533-1.333 1.333-1.333h5.333c0.8 0 1.333 0.533 1.333 1.333v5.333c0 0.8-0.533 1.333-1.333 1.333zM1.333 12c-0.8 0-1.333-0.533-1.333-1.333v-5.333c0-0.8 0.533-1.333 1.333-1.333h5.333c0.8 0 1.333 0.533 1.333 1.333s-0.533 1.333-1.333 1.333h-4v4c0 0.8-0.533 1.333-1.333 1.333z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 33"><path d="M24.965 24.38h-18.132c-1.366 0-2.478-1.113-2.478-2.478v-11.806c0-1.364 1.111-2.478 2.478-2.478h18.132c1.366 0 2.478 1.113 2.478 2.478v11.806c0 1.364-1.11 2.478-2.478 2.478zM6.833 10.097v11.806h18.134l-0.002-11.806h-18.132zM2.478 28.928h5.952c0.684 0 1.238-0.554 1.238-1.239 0-0.684-0.554-1.238-1.238-1.238h-5.952v-5.802c0-0.684-0.554-1.239-1.238-1.239s-1.239 0.556-1.239 1.239v5.802c0 1.365 1.111 2.478 2.478 2.478zM30.761 19.412c-0.684 0-1.238 0.554-1.238 1.238v5.801h-5.951c-0.686 0-1.239 0.554-1.239 1.238 0 0.686 0.554 1.239 1.239 1.239h5.951c1.366 0 2.478-1.111 2.478-2.478v-5.801c0-0.683-0.554-1.238-1.239-1.238zM0 5.55v5.802c0 0.683 0.554 1.238 1.238 1.238s1.238-0.555 1.238-1.238v-5.802h5.952c0.684 0 1.238-0.554 1.238-1.238s-0.554-1.238-1.238-1.238h-5.951c-1.366-0.001-2.478 1.111-2.478 2.476zM32 11.35v-5.801c0-1.365-1.11-2.478-2.478-2.478h-5.951c-0.686 0-1.239 0.554-1.239 1.238s0.554 1.238 1.239 1.238h5.951v5.801c0 0.683 0.554 1.237 1.238 1.237 0.686 0.002 1.239-0.553 1.239-1.236z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 28"><path d="M28.633 17.104c0.035 0.21 0.026 0.463-0.026 0.76s-0.14 0.598-0.262 0.904c-0.122 0.306-0.271 0.581-0.445 0.825s-0.367 0.419-0.576 0.524c-0.209 0.105-0.393 0.157-0.55 0.157s-0.332-0.035-0.524-0.105c-0.175-0.052-0.393-0.1-0.655-0.144s-0.528-0.052-0.799-0.026c-0.271 0.026-0.541 0.083-0.812 0.17s-0.502 0.236-0.694 0.445c-0.419 0.437-0.664 0.934-0.734 1.493s0.009 1.092 0.236 1.598c0.175 0.349 0.148 0.699-0.079 1.048-0.105 0.14-0.271 0.284-0.498 0.432s-0.476 0.284-0.747 0.406-0.555 0.218-0.851 0.288c-0.297 0.070-0.559 0.105-0.786 0.105-0.157 0-0.306-0.061-0.445-0.183s-0.236-0.253-0.288-0.393h-0.026c-0.192-0.541-0.52-1.009-0.982-1.402s-1-0.589-1.611-0.589c-0.594 0-1.131 0.197-1.611 0.589s-0.816 0.851-1.009 1.375c-0.087 0.21-0.218 0.362-0.393 0.458s-0.367 0.144-0.576 0.144c-0.244 0-0.52-0.044-0.825-0.131s-0.611-0.197-0.917-0.327c-0.306-0.131-0.581-0.284-0.825-0.458s-0.428-0.349-0.55-0.524c-0.087-0.122-0.135-0.266-0.144-0.432s0.057-0.397 0.197-0.694c0.192-0.402 0.266-0.86 0.223-1.375s-0.266-0.991-0.668-1.428c-0.244-0.262-0.541-0.432-0.891-0.511s-0.681-0.109-0.995-0.092c-0.367 0.017-0.742 0.087-1.127 0.21-0.244 0.070-0.489 0.052-0.734-0.052-0.192-0.070-0.371-0.231-0.537-0.485s-0.314-0.533-0.445-0.838c-0.131-0.306-0.231-0.62-0.301-0.943s-0.087-0.59-0.052-0.799c0.052-0.384 0.227-0.629 0.524-0.734 0.524-0.21 0.995-0.555 1.415-1.035s0.629-1.017 0.629-1.611c0-0.611-0.21-1.144-0.629-1.598s-0.891-0.786-1.415-0.996c-0.157-0.052-0.288-0.179-0.393-0.38s-0.157-0.406-0.157-0.616c0-0.227 0.035-0.48 0.105-0.76s0.162-0.55 0.275-0.812 0.244-0.502 0.393-0.72c0.148-0.218 0.31-0.38 0.485-0.485 0.14-0.087 0.275-0.122 0.406-0.105s0.275 0.052 0.432 0.105c0.524 0.21 1.070 0.275 1.637 0.197s1.070-0.327 1.506-0.747c0.21-0.209 0.362-0.467 0.458-0.773s0.157-0.607 0.183-0.904c0.026-0.297 0.026-0.568 0-0.812s-0.048-0.419-0.065-0.524c-0.035-0.105-0.066-0.227-0.092-0.367s-0.013-0.262 0.039-0.367c0.105-0.244 0.293-0.458 0.563-0.642s0.563-0.336 0.878-0.458c0.314-0.122 0.62-0.214 0.917-0.275s0.533-0.092 0.707-0.092c0.227 0 0.406 0.074 0.537 0.223s0.223 0.301 0.275 0.458c0.192 0.471 0.507 0.886 0.943 1.244s0.952 0.537 1.546 0.537c0.611 0 1.153-0.17 1.624-0.511s0.803-0.773 0.996-1.297c0.070-0.14 0.179-0.284 0.327-0.432s0.301-0.223 0.458-0.223c0.244 0 0.511 0.035 0.799 0.105s0.572 0.166 0.851 0.288c0.279 0.122 0.537 0.279 0.773 0.472s0.423 0.402 0.563 0.629c0.087 0.14 0.113 0.293 0.079 0.458s-0.070 0.284-0.105 0.354c-0.227 0.506-0.297 1.039-0.21 1.598s0.341 1.048 0.76 1.467c0.419 0.419 0.934 0.651 1.546 0.694s1.179-0.057 1.703-0.301c0.14-0.087 0.31-0.122 0.511-0.105s0.371 0.096 0.511 0.236c0.262 0.244 0.493 0.616 0.694 1.113s0.336 1 0.406 1.506c0.035 0.297-0.013 0.528-0.144 0.694s-0.266 0.275-0.406 0.327c-0.542 0.192-1.004 0.528-1.388 1.009s-0.576 1.026-0.576 1.637c0 0.594 0.162 1.113 0.485 1.559s0.747 0.764 1.27 0.956c0.122 0.070 0.227 0.14 0.314 0.21 0.192 0.157 0.323 0.358 0.393 0.602v0zM16.451 19.462c0.786 0 1.528-0.149 2.227-0.445s1.305-0.707 1.821-1.231c0.515-0.524 0.921-1.131 1.218-1.821s0.445-1.428 0.445-2.214c0-0.786-0.148-1.524-0.445-2.214s-0.703-1.292-1.218-1.808c-0.515-0.515-1.122-0.921-1.821-1.218s-1.441-0.445-2.227-0.445c-0.786 0-1.524 0.148-2.214 0.445s-1.292 0.703-1.808 1.218c-0.515 0.515-0.921 1.118-1.218 1.808s-0.445 1.428-0.445 2.214c0 0.786 0.149 1.524 0.445 2.214s0.703 1.297 1.218 1.821c0.515 0.524 1.118 0.934 1.808 1.231s1.428 0.445 2.214 0.445v0z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M22 16l-10.105-10.6-1.895 1.987 8.211 8.613-8.211 8.612 1.895 1.988 8.211-8.613z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M27.128 0.38h-22.553c-2.336 0-4.229 1.825-4.229 4.076v16.273c0 2.251 1.893 4.076 4.229 4.076h4.229v-2.685h8.403l-8.784 8.072 1.566 1.44 7.429-6.827h9.71c2.335 0 4.229-1.825 4.229-4.076v-16.273c0-2.252-1.894-4.076-4.229-4.076zM28.538 19.403c0 1.5-1.262 2.717-2.819 2.717h-8.36l-0.076-0.070-0.076 0.070h-11.223c-1.557 0-2.819-1.217-2.819-2.717v-13.589c0-1.501 1.262-2.718 2.819-2.718h19.734c1.557 0 2.819-0.141 2.819 1.359v14.947zM9.206 10.557c-1.222 0-2.215 0.911-2.215 2.036s0.992 2.035 2.215 2.035c1.224 0 2.216-0.911 2.216-2.035s-0.992-2.036-2.216-2.036zM22.496 10.557c-1.224 0-2.215 0.911-2.215 2.036s0.991 2.035 2.215 2.035c1.224 0 2.215-0.911 2.215-2.035s-0.991-2.036-2.215-2.036zM15.852 10.557c-1.224 0-2.215 0.911-2.215 2.036s0.991 2.035 2.215 2.035c1.222 0 2.215-0.911 2.215-2.035s-0.992-2.036-2.215-2.036z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M27.090 0.131h-22.731c-2.354 0-4.262 1.839-4.262 4.109v16.401c0 2.269 1.908 4.109 4.262 4.109h4.262v-2.706h8.469l-8.853 8.135 1.579 1.451 7.487-6.88h9.787c2.353 0 4.262-1.84 4.262-4.109v-16.401c0-2.27-1.909-4.109-4.262-4.109v0zM28.511 19.304c0 1.512-1.272 2.738-2.841 2.738h-8.425l-0.076-0.070-0.076 0.070h-11.311c-1.569 0-2.841-1.226-2.841-2.738v-13.696c0-1.513 1.272-2.739 2.841-2.739h19.889c1.569 0 2.841-0.142 2.841 1.37v15.064z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M13.725 30l3.9-5.325-3.9-1.125v6.45zM0 17.5l11.050 3.35 13.6-11.55-10.55 12.425 11.8 3.65 6.1-23.375-32 15.5z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M19.357 2.88c1.749 0 3.366 0.316 4.851 0.946 1.485 0.632 2.768 1.474 3.845 2.533s1.922 2.279 2.532 3.661c0.611 1.383 0.915 2.829 0.915 4.334 0 1.425-0.304 2.847-0.915 4.271-0.611 1.425-1.587 2.767-2.928 4.028-0.855 0.813-1.811 1.607-2.869 2.38s-2.136 1.465-3.233 2.075c-1.099 0.61-2.198 1.098-3.296 1.465-1.098 0.366-2.115 0.549-3.051 0.549-1.343 0-2.441-0.438-3.296-1.311-0.854-0.876-1.281-2.41-1.281-4.608 0-0.366 0.020-0.773 0.060-1.221s0.062-0.895 0.062-1.343c0-0.773-0.183-1.353-0.55-1.738-0.366-0.387-0.793-0.58-1.281-0.58-0.652 0-1.21 0.295-1.678 0.886s-0.926 1.23-1.373 1.921c-0.447 0.693-0.905 1.334-1.372 1.923s-1.028 0.886-1.679 0.886c-0.529 0-1.048-0.427-1.556-1.282s-0.763-2.259-0.763-4.212c0-2.197 0.529-4.241 1.587-6.133s2.462-3.529 4.21-4.912c1.75-1.383 3.762-2.471 6.041-3.264 2.277-0.796 4.617-1.212 7.018-1.253zM7.334 15.817c0.569 0 1.047-0.204 1.434-0.611s0.579-0.875 0.579-1.404c0-0.569-0.193-1.047-0.579-1.434s-0.864-0.579-1.434-0.579c-0.529 0-0.987 0.193-1.373 0.579s-0.58 0.864-0.58 1.434c0 0.53 0.194 0.998 0.58 1.404 0.388 0.407 0.845 0.611 1.373 0.611zM12.216 11.79c0.691 0 1.292-0.254 1.8-0.763s0.762-1.107 0.762-1.8c0-0.732-0.255-1.343-0.762-1.831-0.509-0.489-1.109-0.732-1.8-0.732-0.732 0-1.342 0.244-1.831 0.732-0.488 0.488-0.732 1.098-0.732 1.831 0 0.693 0.244 1.292 0.732 1.8s1.099 0.763 1.831 0.763zM16.366 25.947c0.692 0 1.282-0.214 1.77-0.64s0.732-0.987 0.732-1.678-0.244-1.261-0.732-1.709c-0.489-0.448-1.078-0.671-1.77-0.671-0.65 0-1.21 0.223-1.678 0.671s-0.702 1.018-0.702 1.709c0 0.692 0.234 1.25 0.702 1.678s1.027 0.64 1.678 0.64zM19.113 9.592c0.651 0 1.129-0.203 1.433-0.611 0.305-0.406 0.459-0.874 0.459-1.404 0-0.488-0.154-0.947-0.459-1.373-0.304-0.427-0.782-0.641-1.433-0.641-0.529 0-1.008 0.193-1.434 0.58s-0.64 0.865-0.64 1.434c0 0.571 0.213 1.049 0.64 1.434 0.427 0.389 0.905 0.581 1.434 0.581zM24.848 12.826c0.57 0 1.067-0.213 1.495-0.64 0.427-0.427 0.64-0.947 0.64-1.556 0-0.57-0.214-1.068-0.64-1.495-0.428-0.427-0.927-0.64-1.495-0.64-0.611 0-1.129 0.213-1.555 0.64-0.428 0.427-0.642 0.926-0.642 1.495 0 0.611 0.213 1.129 0.642 1.556s0.947 0.64 1.555 0.64z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M16 23c-3.309 0-6-2.691-6-6s2.691-6 6-6 6 2.691 6 6-2.691 6-6 6zM16 13c-2.206 0-4 1.794-4 4s1.794 4 4 4c2.206 0 4-1.794 4-4s-1.794-4-4-4zM27 28h-22c-1.654 0-3-1.346-3-3v-16c0-1.654 1.346-3 3-3h3c0.552 0 1 0.448 1 1s-0.448 1-1 1h-3c-0.551 0-1 0.449-1 1v16c0 0.552 0.449 1 1 1h22c0.552 0 1-0.448 1-1v-16c0-0.551-0.448-1-1-1h-11c-0.552 0-1-0.448-1-1s0.448-1 1-1h11c1.654 0 3 1.346 3 3v16c0 1.654-1.346 3-3 3zM24 10.5c0 0.828 0.672 1.5 1.5 1.5s1.5-0.672 1.5-1.5c0-0.828-0.672-1.5-1.5-1.5s-1.5 0.672-1.5 1.5zM15 4c0 0.552-0.448 1-1 1h-4c-0.552 0-1-0.448-1-1v0c0-0.552 0.448-1 1-1h4c0.552 0 1 0.448 1 1v0z"></path></svg>'},function(t,e){t.exports='<svg viewBox="0 0 288 288" xmlns="http://www.w3.org/2000/svg"><path d="M288 90v96c0 20-16 36-36 36h-10c-16 0-16-24 0-24h10c7 0 12-5 12-12V90c0-7-5-12-12-12H36c-7 0-12 5-12 12v96c0 7 5 12 12 12h10c16 0 16 24 0 24H36c-20 0-36-16-36-36V90c0-20 16-36 36-36h216c20 0 36 16 36 36zm-120 62l48 68c14 20 1 38-20 38H92c-21 0-34-18-20-38l48-68c13-18 35-18 48 0z"></path></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 32 32"><path d="M26.667 5.333h-21.333c-0 0-0.001 0-0.001 0-1.472 0-2.666 1.194-2.666 2.666 0 0 0 0.001 0 0.001v-0 16c0 0 0 0.001 0 0.001 0 1.472 1.194 2.666 2.666 2.666 0 0 0.001 0 0.001 0h21.333c0 0 0.001 0 0.001 0 1.472 0 2.666-1.194 2.666-2.666 0-0 0-0.001 0-0.001v0-16c0-0 0-0.001 0-0.001 0-1.472-1.194-2.666-2.666-2.666-0 0-0.001 0-0.001 0h0zM5.333 16h5.333v2.667h-5.333v-2.667zM18.667 24h-13.333v-2.667h13.333v2.667zM26.667 24h-5.333v-2.667h5.333v2.667zM26.667 18.667h-13.333v-2.667h13.333v2.667z"></path></svg>'},function(t,e){t.exports='<svg version="1.1" viewBox="0 0 22 22"><svg x="7" y="1"><circle class="diplayer-loading-dot diplayer-loading-dot-0" cx="4" cy="4" r="2"></circle></svg><svg x="11" y="3"><circle class="diplayer-loading-dot diplayer-loading-dot-1" cx="4" cy="4" r="2"></circle></svg><svg x="13" y="7"><circle class="diplayer-loading-dot diplayer-loading-dot-2" cx="4" cy="4" r="2"></circle></svg><svg x="11" y="11"><circle class="diplayer-loading-dot diplayer-loading-dot-3" cx="4" cy="4" r="2"></circle></svg><svg x="7" y="13"><circle class="diplayer-loading-dot diplayer-loading-dot-4" cx="4" cy="4" r="2"></circle></svg><svg x="3" y="11"><circle class="diplayer-loading-dot diplayer-loading-dot-5" cx="4" cy="4" r="2"></circle></svg><svg x="1" y="7"><circle class="diplayer-loading-dot diplayer-loading-dot-6" cx="4" cy="4" r="2"></circle></svg><svg x="3" y="3"><circle class="diplayer-loading-dot diplayer-loading-dot-7" cx="4" cy="4" r="2"></circle></svg></svg>'},function(t,e,n){var i=n(14);t.exports=function(t){"use strict";t=t||{};var e="",r=function(t){return e+=t},a=t.video,o=t.options,s=i.$escape,l=t.tran,c=t.icons,u=t.index,d=i.$each;return t.$value,t.$index,e+='<div class="dplayer-mask"></div>\n<div class="dplayer-video-wrap">\n    ',r(n(1)(a)),e+="\n    ",o.logo&&(e+='\n    <div class="dplayer-logo">\n        <img src="',e+=s(o.logo),e+='">\n    </div>\n    '),e+='\n    <div class="dplayer-danmaku"',o.danmaku&&o.danmaku.bottm&&(e+=' style="margin-bottom:',e+=s(o.danmaku.bottm),e+='"'),e+='>\n        <div class="dplayer-danmaku-item dplayer-danmaku-item--demo"></div>\n    </div>\n    <div class="dplayer-subtitle"></div>\n    <div class="dplayer-bezel">\n        <span class="dplayer-bezel-icon"></span>\n        ',o.danmaku&&(e+='\n        <span class="dplayer-danloading">',e+=s(l("Danmaku is loading")),e+="</span>\n        "),e+='\n        <span class="diplayer-loading-icon">',e+=c.loading,e+='</span>\n    </div>\n</div>\n<div class="dplayer-controller-mask"></div>\n<div class="dplayer-controller">\n    <div class="dplayer-icons dplayer-comment-box">\n        <button class="dplayer-icon dplayer-comment-setting-icon" data-balloon="',e+=s(l("Setting")),e+='" data-balloon-pos="up">\n            <span class="dplayer-icon-content">',e+=c.pallette,e+='</span>\n        </button>\n        <div class="dplayer-comment-setting-box">\n            <div class="dplayer-comment-setting-color">\n                <div class="dplayer-comment-setting-title">',e+=s(l("Set danmaku color")),e+='</div>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-',e+=s(u),e+='" value="#fff" checked>\n                    <span style="background: #fff;"></span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-',e+=s(u),e+='" value="#e54256">\n                    <span style="background: #e54256"></span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-',e+=s(u),e+='" value="#ffe133">\n                    <span style="background: #ffe133"></span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-',e+=s(u),e+='" value="#64DD17">\n                    <span style="background: #64DD17"></span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-',e+=s(u),e+='" value="#39ccff">\n                    <span style="background: #39ccff"></span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-color-',e+=s(u),e+='" value="#D500F9">\n                    <span style="background: #D500F9"></span>\n                </label>\n            </div>\n            <div class="dplayer-comment-setting-type">\n                <div class="dplayer-comment-setting-title">',e+=s(l("Set danmaku type")),e+='</div>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-type-',e+=s(u),e+='" value="1">\n                    <span>',e+=s(l("Top")),e+='</span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-type-',e+=s(u),e+='" value="0" checked>\n                    <span>',e+=s(l("Rolling")),e+='</span>\n                </label>\n                <label>\n                    <input type="radio" name="dplayer-danmaku-type-',e+=s(u),e+='" value="2">\n                    <span>',e+=s(l("Bottom")),e+='</span>\n                </label>\n            </div>\n        </div>\n        <input class="dplayer-comment-input" type="text" placeholder="',e+=s(l("Input danmaku, hit Enter")),e+='" maxlength="30">\n        <button class="dplayer-icon dplayer-send-icon" data-balloon="',e+=s(l("Send")),e+='" data-balloon-pos="up">\n            <span class="dplayer-icon-content">',e+=c.send,e+='</span>\n        </button>\n    </div>\n    <div class="dplayer-icons dplayer-icons-left">\n        <button class="dplayer-icon dplayer-play-icon">\n            <span class="dplayer-icon-content">',e+=c.play,e+='</span>\n        </button>\n        <div class="dplayer-volume">\n            <button class="dplayer-icon dplayer-volume-icon">\n                <span class="dplayer-icon-content">',e+=c.volumeDown,e+='</span>\n            </button>\n            <div class="dplayer-volume-bar-wrap" data-balloon-pos="up">\n                <div class="dplayer-volume-bar">\n                    <div class="dplayer-volume-bar-inner" style="background: ',e+=s(o.theme),e+=';">\n                        <span class="dplayer-thumb" style="background: ',e+=s(o.theme),e+='"></span>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <span class="dplayer-time">\n            <span class="dplayer-ptime">0:00</span> /\n            <span class="dplayer-dtime">0:00</span>\n        </span>\n        ',o.live&&(e+='\n        <span class="dplayer-live-badge"><span class="dplayer-live-dot" style="background: ',e+=s(o.theme),e+=';"></span>',e+=s(l("Live")),e+="</span>\n        "),e+='\n    </div>\n    <div class="dplayer-icons dplayer-icons-right">\n        ',o.video.quality&&(e+='\n        <div class="dplayer-quality">\n            <button class="dplayer-icon dplayer-quality-icon">',e+=s(o.video.quality[o.video.defaultQuality].name),e+='</button>\n            <div class="dplayer-quality-mask">\n                <div class="dplayer-quality-list">\n                ',d(o.video.quality,(function(t,n){e+='\n                    <div class="dplayer-quality-item" data-index="',e+=s(n),e+='">',e+=s(t.name),e+="</div>\n                "})),e+="\n                </div>\n            </div>\n        </div>\n        "),e+="\n        ",o.screenshot&&(e+='\n        <div class="dplayer-icon dplayer-camera-icon" data-balloon="',e+=s(l("Screenshot")),e+='" data-balloon-pos="up">\n            <span class="dplayer-icon-content">',e+=c.camera,e+="</span>\n        </div>\n        "),e+="\n        ",o.airplay&&(e+='\n        <div class="dplayer-icon dplayer-airplay-icon" data-balloon="',e+=s(l("AirPlay")),e+='" data-balloon-pos="up">\n            <span class="dplayer-icon-content">',e+=c.airplay,e+="</span>\n        </div>\n        "),e+='\n        <div class="dplayer-comment">\n            <button class="dplayer-icon dplayer-comment-icon" data-balloon="',e+=s(l("Send danmaku")),e+='" data-balloon-pos="up">\n                <span class="dplayer-icon-content">',e+=c.comment,e+="</span>\n            </button>\n        </div>\n        ",o.subtitle&&(e+='\n        <div class="dplayer-subtitle-btn">\n            <button class="dplayer-icon dplayer-subtitle-icon" data-balloon="',e+=s(l("Hide subtitle")),e+='" data-balloon-pos="up">\n                <span class="dplayer-icon-content">',e+=c.subtitle,e+="</span>\n            </button>\n        </div>\n        "),e+='\n        <div class="dplayer-setting">\n            <button class="dplayer-icon dplayer-setting-icon" data-balloon="',e+=s(l("Setting")),e+='" data-balloon-pos="up">\n                <span class="dplayer-icon-content">',e+=c.setting,e+='</span>\n            </button>\n            <div class="dplayer-setting-box">\n                <div class="dplayer-setting-origin-panel">\n                    <div class="dplayer-setting-item dplayer-setting-speed">\n                        <span class="dplayer-label">',e+=s(l("Speed")),e+='</span>\n                        <div class="dplayer-toggle">',e+=c.right,e+='</div>\n                    </div>\n                    <div class="dplayer-setting-item dplayer-setting-loop">\n                        <span class="dplayer-label">',e+=s(l("Loop")),e+='</span>\n                        <div class="dplayer-toggle">\n                            <input class="dplayer-toggle-setting-input" type="checkbox" name="dplayer-toggle">\n                            <label for="dplayer-toggle"></label>\n                        </div>\n                    </div>\n                    <div class="dplayer-setting-item dplayer-setting-showdan">\n                        <span class="dplayer-label">',e+=s(l("Show danmaku")),e+='</span>\n                        <div class="dplayer-toggle">\n                            <input class="dplayer-showdan-setting-input" type="checkbox" name="dplayer-toggle-dan">\n                            <label for="dplayer-toggle-dan"></label>\n                        </div>\n                    </div>\n                    <div class="dplayer-setting-item dplayer-setting-danunlimit">\n                        <span class="dplayer-label">',e+=s(l("Unlimited danmaku")),e+='</span>\n                        <div class="dplayer-toggle">\n                            <input class="dplayer-danunlimit-setting-input" type="checkbox" name="dplayer-toggle-danunlimit">\n                            <label for="dplayer-toggle-danunlimit"></label>\n                        </div>\n                    </div>\n                    <div class="dplayer-setting-item dplayer-setting-danmaku">\n                        <span class="dplayer-label">',e+=s(l("Opacity for danmaku")),e+='</span>\n                        <div class="dplayer-danmaku-bar-wrap">\n                            <div class="dplayer-danmaku-bar">\n                                <div class="dplayer-danmaku-bar-inner">\n                                    <span class="dplayer-thumb"></span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="dplayer-setting-speed-panel">\n                    ',d(o.playbackSpeed,(function(t,n){e+='\n                        <div class="dplayer-setting-speed-item" data-speed="',e+=s(t),e+='">\n                            <span class="dplayer-label">',e+=s(1===t?l("Normal"):t),e+="</span>\n                        </div>\n                    "})),e+='\n                </div>\n            </div>\n        </div>\n        <div class="dplayer-full">\n            <button class="dplayer-icon dplayer-full-in-icon" data-balloon="',e+=s(l("Web full screen")),e+='" data-balloon-pos="up">\n                <span class="dplayer-icon-content">',e+=c.fullWeb,e+='</span>\n            </button>\n            <button class="dplayer-icon dplayer-full-icon" data-balloon="',e+=s(l("Full screen")),e+='" data-balloon-pos="up">\n                <span class="dplayer-icon-content">',e+=c.full,e+='</span>\n            </button>\n        </div>\n    </div>\n    <div class="dplayer-bar-wrap">\n        <div class="dplayer-bar-time hidden">00:00</div>\n        <div class="dplayer-bar-preview"></div>\n        <div class="dplayer-bar">\n            <div class="dplayer-loaded" style="width: 0;"></div>\n            <div class="dplayer-played" style="width: 0; background: ',e+=s(o.theme),e+='">\n                <span class="dplayer-thumb" style="background: ',e+=s(o.theme),e+='"></span>\n            </div>\n        </div>\n    </div>\n</div>\n<div class="dplayer-info-panel dplayer-info-panel-hide">\n    <div class="dplayer-info-panel-close">[x]</div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-version">\n        <span class="dplayer-info-panel-item-title">Player version</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-fps">\n        <span class="dplayer-info-panel-item-title">Player FPS</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-type">\n        <span class="dplayer-info-panel-item-title">Video type</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-url">\n        <span class="dplayer-info-panel-item-title">Video url</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-resolution">\n        <span class="dplayer-info-panel-item-title">Video resolution</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-duration">\n        <span class="dplayer-info-panel-item-title">Video duration</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    ',o.danmaku&&(e+='\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-danmaku-id">\n        <span class="dplayer-info-panel-item-title">Danmaku id</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-danmaku-api">\n        <span class="dplayer-info-panel-item-title">Danmaku api</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    <div class="dplayer-info-panel-item dplayer-info-panel-item-danmaku-amount">\n        <span class="dplayer-info-panel-item-title">Danmaku amount</span>\n        <span class="dplayer-info-panel-item-data"></span>\n    </div>\n    '),e+='\n</div>\n<div class="dplayer-menu">\n    ',d(o.contextmenu,(function(t,n){e+='\n        <div class="dplayer-menu-item">\n            <a',t.link&&(e+=' target="_blank"'),e+=' href="',e+=s(t.link||"javascript:void(0);"),e+='">',e+=s(l(t.text)),e+="</a>\n        </div>\n    "})),e+='\n</div>\n<div class="dplayer-notice"></div>\n<button class="dplayer-mobile-play">\n    ',e+=c.play,e+="\n</button>"}},function(t,e,n){var i=n(36),r=n(37);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[t.i,r,""]]);var a={insert:"head",singleton:!1};i(r,a),t.exports=r.locals||{}},function(t,e,n){"use strict";var i,r=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},a=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),o=[];function s(t){for(var e=-1,n=0;n<o.length;n++)if(o[n].identifier===t){e=n;break}return e}function l(t,e){for(var n={},i=[],r=0;r<t.length;r++){var a=t[r],l=e.base?a[0]+e.base:a[0],c=n[l]||0,u="".concat(l," ").concat(c);n[l]=c+1;var d=s(u),h={css:a[1],media:a[2],sourceMap:a[3]};-1!==d?(o[d].references++,o[d].updater(h)):o.push({identifier:u,updater:v(h,e),references:1}),i.push(u)}return i}function c(t){var e=document.createElement("style"),i=t.attributes||{};if(void 0===i.nonce){var r=n.nc;r&&(i.nonce=r)}if(Object.keys(i).forEach((function(t){e.setAttribute(t,i[t])})),"function"==typeof t.insert)t.insert(e);else{var o=a(t.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(e)}return e}var u,d=(u=[],function(t,e){return u[t]=e,u.filter(Boolean).join("\n")});function h(t,e,n,i){var r=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(t.styleSheet)t.styleSheet.cssText=d(e,r);else{var a=document.createTextNode(r),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(a,o[e]):t.appendChild(a)}}function f(t,e,n){var i=n.css,r=n.media,a=n.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),a&&btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var p=null,m=0;function v(t,e){var n,i,r;if(e.singleton){var a=m++;n=p||(p=c(e)),i=h.bind(null,n,a,!1),r=h.bind(null,n,a,!0)}else n=c(e),i=f.bind(null,n,e),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else r()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=r());var n=l(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var i=0;i<n.length;i++){var r=s(n[i]);o[r].references--}for(var a=l(t,e),c=0;c<n.length;c++){var u=s(n[c]);0===o[u].references&&(o[u].updater(),o.splice(u,1))}n=a}}}},function(t,e,n){var i=n(3),r=n(38);(e=i(!1)).i(r),e.push([t.i,'@-webkit-keyframes my-face{2%{transform:translateY(1.5px) rotate(1.5deg)}4%{transform:translateY(-1.5px) rotate(-.5deg)}6%{transform:translateY(1.5px) rotate(-1.5deg)}8%{transform:translateY(-1.5px) rotate(-1.5deg)}10%{transform:translateY(2.5px) rotate(1.5deg)}12%{transform:translateY(-.5px) rotate(1.5deg)}14%{transform:translateY(-1.5px) rotate(1.5deg)}16%{transform:translateY(-.5px) rotate(-1.5deg)}18%{transform:translateY(.5px) rotate(-1.5deg)}20%{transform:translateY(-1.5px) rotate(2.5deg)}22%{transform:translateY(.5px) rotate(-1.5deg)}24%{transform:translateY(1.5px) rotate(1.5deg)}26%{transform:translateY(.5px) rotate(.5deg)}28%{transform:translateY(.5px) rotate(1.5deg)}30%{transform:translateY(-.5px) rotate(2.5deg)}32%{transform:translateY(1.5px) rotate(-.5deg)}34%{transform:translateY(1.5px) rotate(-.5deg)}36%{transform:translateY(-1.5px) rotate(2.5deg)}38%{transform:translateY(1.5px) rotate(-1.5deg)}40%{transform:translateY(-.5px) rotate(2.5deg)}42%{transform:translateY(2.5px) rotate(-1.5deg)}44%{transform:translateY(1.5px) rotate(.5deg)}46%{transform:translateY(-1.5px) rotate(2.5deg)}48%{transform:translateY(-.5px) rotate(.5deg)}50%{transform:translateY(.5px) rotate(.5deg)}52%{transform:translateY(2.5px) rotate(2.5deg)}54%{transform:translateY(-1.5px) rotate(1.5deg)}56%{transform:translateY(2.5px) rotate(2.5deg)}58%{transform:translateY(.5px) rotate(2.5deg)}60%{transform:translateY(2.5px) rotate(2.5deg)}62%{transform:translateY(-.5px) rotate(2.5deg)}64%{transform:translateY(-.5px) rotate(1.5deg)}66%{transform:translateY(1.5px) rotate(-.5deg)}68%{transform:translateY(-1.5px) rotate(-.5deg)}70%{transform:translateY(1.5px) rotate(.5deg)}72%{transform:translateY(2.5px) rotate(1.5deg)}74%{transform:translateY(-.5px) rotate(.5deg)}76%{transform:translateY(-.5px) rotate(2.5deg)}78%{transform:translateY(-.5px) rotate(1.5deg)}80%{transform:translateY(1.5px) rotate(1.5deg)}82%{transform:translateY(-.5px) rotate(.5deg)}84%{transform:translateY(1.5px) rotate(2.5deg)}86%{transform:translateY(-1.5px) rotate(-1.5deg)}88%{transform:translateY(-.5px) rotate(2.5deg)}90%{transform:translateY(2.5px) rotate(-.5deg)}92%{transform:translateY(.5px) rotate(-.5deg)}94%{transform:translateY(2.5px) rotate(.5deg)}96%{transform:translateY(-.5px) rotate(1.5deg)}98%{transform:translateY(-1.5px) rotate(-.5deg)}0%,to{transform:translate(0) rotate(0deg)}}@keyframes my-face{2%{transform:translateY(1.5px) rotate(1.5deg)}4%{transform:translateY(-1.5px) rotate(-.5deg)}6%{transform:translateY(1.5px) rotate(-1.5deg)}8%{transform:translateY(-1.5px) rotate(-1.5deg)}10%{transform:translateY(2.5px) rotate(1.5deg)}12%{transform:translateY(-.5px) rotate(1.5deg)}14%{transform:translateY(-1.5px) rotate(1.5deg)}16%{transform:translateY(-.5px) rotate(-1.5deg)}18%{transform:translateY(.5px) rotate(-1.5deg)}20%{transform:translateY(-1.5px) rotate(2.5deg)}22%{transform:translateY(.5px) rotate(-1.5deg)}24%{transform:translateY(1.5px) rotate(1.5deg)}26%{transform:translateY(.5px) rotate(.5deg)}28%{transform:translateY(.5px) rotate(1.5deg)}30%{transform:translateY(-.5px) rotate(2.5deg)}32%{transform:translateY(1.5px) rotate(-.5deg)}34%{transform:translateY(1.5px) rotate(-.5deg)}36%{transform:translateY(-1.5px) rotate(2.5deg)}38%{transform:translateY(1.5px) rotate(-1.5deg)}40%{transform:translateY(-.5px) rotate(2.5deg)}42%{transform:translateY(2.5px) rotate(-1.5deg)}44%{transform:translateY(1.5px) rotate(.5deg)}46%{transform:translateY(-1.5px) rotate(2.5deg)}48%{transform:translateY(-.5px) rotate(.5deg)}50%{transform:translateY(.5px) rotate(.5deg)}52%{transform:translateY(2.5px) rotate(2.5deg)}54%{transform:translateY(-1.5px) rotate(1.5deg)}56%{transform:translateY(2.5px) rotate(2.5deg)}58%{transform:translateY(.5px) rotate(2.5deg)}60%{transform:translateY(2.5px) rotate(2.5deg)}62%{transform:translateY(-.5px) rotate(2.5deg)}64%{transform:translateY(-.5px) rotate(1.5deg)}66%{transform:translateY(1.5px) rotate(-.5deg)}68%{transform:translateY(-1.5px) rotate(-.5deg)}70%{transform:translateY(1.5px) rotate(.5deg)}72%{transform:translateY(2.5px) rotate(1.5deg)}74%{transform:translateY(-.5px) rotate(.5deg)}76%{transform:translateY(-.5px) rotate(2.5deg)}78%{transform:translateY(-.5px) rotate(1.5deg)}80%{transform:translateY(1.5px) rotate(1.5deg)}82%{transform:translateY(-.5px) rotate(.5deg)}84%{transform:translateY(1.5px) rotate(2.5deg)}86%{transform:translateY(-1.5px) rotate(-1.5deg)}88%{transform:translateY(-.5px) rotate(2.5deg)}90%{transform:translateY(2.5px) rotate(-.5deg)}92%{transform:translateY(.5px) rotate(-.5deg)}94%{transform:translateY(2.5px) rotate(.5deg)}96%{transform:translateY(-.5px) rotate(1.5deg)}98%{transform:translateY(-1.5px) rotate(-.5deg)}0%,to{transform:translate(0) rotate(0deg)}}.dplayer{position:relative;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;line-height:1}.dplayer *{box-sizing:content-box}.dplayer svg{width:100%;height:100%}.dplayer svg circle,.dplayer svg path{fill:#fff}.dplayer:-webkit-full-screen{width:100%;height:100%;background:#000;position:fixed;z-index:100000;left:0;top:0;margin:0;padding:0;transform:translate(0)}.dplayer:-webkit-full-screen .dplayer-danmaku .dplayer-danmaku-bottom.dplayer-danmaku-move,.dplayer:-webkit-full-screen .dplayer-danmaku .dplayer-danmaku-top.dplayer-danmaku-move{-webkit-animation:danmaku-center 6s linear;animation:danmaku-center 6s linear;-webkit-animation-play-state:inherit;animation-play-state:inherit}.dplayer:-webkit-full-screen .dplayer-danmaku .dplayer-danmaku-right.dplayer-danmaku-move{-webkit-animation:danmaku 8s linear;animation:danmaku 8s linear;-webkit-animation-play-state:inherit;animation-play-state:inherit}.dplayer.dplayer-live .dplayer-bar-wrap,.dplayer.dplayer-live.dplayer-no-danmaku .dplayer-setting,.dplayer.dplayer-live .dplayer-setting-loop,.dplayer.dplayer-live .dplayer-setting-speed,.dplayer.dplayer-live .dplayer-time,.dplayer.dplayer-no-danmaku .dplayer-controller .dplayer-icons .dplayer-comment,.dplayer.dplayer-no-danmaku .dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box .dplayer-setting-danmaku,.dplayer.dplayer-no-danmaku .dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box .dplayer-setting-danunlimit,.dplayer.dplayer-no-danmaku .dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box .dplayer-setting-showdan,.dplayer.dplayer-no-danmaku .dplayer-danmaku{display:none}.dplayer.dplayer-arrow .dplayer-danmaku{font-size:18px}.dplayer.dplayer-arrow .dplayer-icon{margin:0 -3px}.dplayer.dplayer-playing .dplayer-danmaku .dplayer-danmaku-move{-webkit-animation-play-state:running;animation-play-state:running}@media (min-width:900px){.dplayer.dplayer-playing .dplayer-controller,.dplayer.dplayer-playing .dplayer-controller-mask{opacity:0}.dplayer.dplayer-playing:hover .dplayer-controller,.dplayer.dplayer-playing:hover .dplayer-controller-mask{opacity:1}}.dplayer.dplayer-loading .dplayer-bezel .diplayer-loading-icon{display:block}.dplayer.dplayer-loading .dplayer-danmaku,.dplayer.dplayer-loading .dplayer-danmaku-move,.dplayer.dplayer-paused .dplayer-danmaku,.dplayer.dplayer-paused .dplayer-danmaku-move{-webkit-animation-play-state:paused;animation-play-state:paused}.dplayer.dplayer-hide-controller{cursor:none}.dplayer.dplayer-hide-controller .dplayer-controller,.dplayer.dplayer-hide-controller .dplayer-controller-mask{opacity:0;transform:translateY(100%)}.dplayer.dplayer-show-controller .dplayer-controller,.dplayer.dplayer-show-controller .dplayer-controller-mask{opacity:1}.dplayer.dplayer-fulled{position:fixed;z-index:100000;left:0;top:0;width:100%!important;height:100%!important}.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-airplay-icon,.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-camera-icon,.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-play-icon,.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-volume{display:none}.dplayer.dplayer-mobile .dplayer-controller .dplayer-icons .dplayer-full .dplayer-full-in-icon{position:static;display:inline-block}.dplayer.dplayer-mobile .dplayer-bar-time,.dplayer.dplayer-mobile.dplayer-hide-controller .dplayer-mobile-play{display:none}.dplayer.dplayer-mobile .dplayer-mobile-play{display:block}.dplayer-web-fullscreen-fix{position:fixed;top:0;left:0;margin:0;padding:0}[data-balloon]:before{display:none}[data-balloon]:after{padding:.3em .7em;background:rgba(17,17,17,.7)}[data-balloon][data-balloon-pos=up]:after{margin-bottom:0}.dplayer-bezel{position:absolute;left:0;right:0;top:0;bottom:0;font-size:22px;color:#fff;pointer-events:none}.dplayer-bezel .dplayer-bezel-icon{position:absolute;top:50%;left:50%;margin:-26px 0 0 -26px;height:52px;width:52px;padding:12px;box-sizing:border-box;background:rgba(0,0,0,.5);border-radius:50%;opacity:0;pointer-events:none}.dplayer-bezel .dplayer-bezel-icon.dplayer-bezel-transition{-webkit-animation:bezel-hide .5s linear;animation:bezel-hide .5s linear}@-webkit-keyframes bezel-hide{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(2)}}@keyframes bezel-hide{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(2)}}.dplayer-bezel .dplayer-danloading{position:absolute;top:50%;margin-top:-7px;width:100%;text-align:center;font-size:14px;line-height:14px;-webkit-animation:my-face 5s ease-in-out infinite;animation:my-face 5s ease-in-out infinite}.dplayer-bezel .diplayer-loading-icon{display:none;position:absolute;top:50%;left:50%;margin:-18px 0 0 -18px;height:36px;width:36px;pointer-events:none}.dplayer-bezel .diplayer-loading-icon .diplayer-loading-hide{display:none}.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot{-webkit-animation:diplayer-loading-dot-fade .8s ease infinite;animation:diplayer-loading-dot-fade .8s ease infinite;opacity:0;transform-origin:4px 4px}.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-7{-webkit-animation-delay:.7s;animation-delay:.7s}.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-6{-webkit-animation-delay:.6s;animation-delay:.6s}.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-5{-webkit-animation-delay:.5s;animation-delay:.5s}.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-4{-webkit-animation-delay:.4s;animation-delay:.4s}.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-3{-webkit-animation-delay:.3s;animation-delay:.3s}.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-2{-webkit-animation-delay:.2s;animation-delay:.2s}.dplayer-bezel .diplayer-loading-icon .diplayer-loading-dot.diplayer-loading-dot-1{-webkit-animation-delay:.1s;animation-delay:.1s}@-webkit-keyframes diplayer-loading-dot-fade{0%{opacity:.7;transform:scale(1.2)}50%{opacity:.25;transform:scale(.9)}to{opacity:.25;transform:scale(.85)}}@keyframes diplayer-loading-dot-fade{0%{opacity:.7;transform:scale(1.2)}50%{opacity:.25;transform:scale(.9)}to{opacity:.25;transform:scale(.85)}}.dplayer-controller-mask{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg==) repeat-x bottom;height:98px;width:100%}.dplayer-controller,.dplayer-controller-mask{position:absolute;bottom:0;transition:all .3s ease}.dplayer-controller{left:0;right:0;height:41px;padding:0 20px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.dplayer-controller.dplayer-controller-comment .dplayer-icons{display:none}.dplayer-controller.dplayer-controller-comment .dplayer-icons.dplayer-comment-box{display:block}.dplayer-controller .dplayer-bar-wrap{padding:5px 0;cursor:pointer;position:absolute;bottom:33px;width:calc(100% - 40px);height:3px}.dplayer-controller .dplayer-bar-wrap:hover .dplayer-bar .dplayer-played .dplayer-thumb{transform:scale(1)}.dplayer-controller .dplayer-bar-wrap:hover .dplayer-highlight{display:block;width:8px;transform:translateX(-4px);top:4px;height:40%}.dplayer-controller .dplayer-bar-wrap .dplayer-highlight{z-index:12;position:absolute;top:5px;width:6px;height:20%;border-radius:6px;background-color:#fff;text-align:center;transform:translateX(-3px);transition:all .2s ease-in-out}.dplayer-controller .dplayer-bar-wrap .dplayer-highlight:hover .dplayer-highlight-text{display:block}.dplayer-controller .dplayer-bar-wrap .dplayer-highlight:hover~.dplayer-bar-preview,.dplayer-controller .dplayer-bar-wrap .dplayer-highlight:hover~.dplayer-bar-time{opacity:0}.dplayer-controller .dplayer-bar-wrap .dplayer-highlight .dplayer-highlight-text{display:none;position:absolute;left:50%;top:-24px;padding:5px 8px;background-color:rgba(0,0,0,.62);color:#fff;border-radius:4px;font-size:12px;white-space:nowrap;transform:translateX(-50%)}.dplayer-controller .dplayer-bar-wrap .dplayer-bar-preview{position:absolute;background:#fff;pointer-events:none;display:none;background-size:16000px 100%}.dplayer-controller .dplayer-bar-wrap .dplayer-bar-preview-canvas{position:absolute;width:100%;height:100%;z-index:1;pointer-events:none}.dplayer-controller .dplayer-bar-wrap .dplayer-bar-time{position:absolute;left:0;top:-20px;border-radius:4px;padding:5px 7px;background-color:rgba(0,0,0,.62);color:#fff;font-size:12px;text-align:center;opacity:1;transition:opacity .1s ease-in-out;word-wrap:normal;word-break:normal;z-index:2;pointer-events:none}.dplayer-controller .dplayer-bar-wrap .dplayer-bar-time.hidden{opacity:0}.dplayer-controller .dplayer-bar-wrap .dplayer-bar{position:relative;height:3px;width:100%;background:hsla(0,0%,100%,.2);cursor:pointer}.dplayer-controller .dplayer-bar-wrap .dplayer-bar .dplayer-loaded{background:hsla(0,0%,100%,.4);transition:all .5s ease}.dplayer-controller .dplayer-bar-wrap .dplayer-bar .dplayer-loaded,.dplayer-controller .dplayer-bar-wrap .dplayer-bar .dplayer-played{position:absolute;left:0;top:0;bottom:0;height:3px;will-change:width}.dplayer-controller .dplayer-bar-wrap .dplayer-bar .dplayer-played .dplayer-thumb{position:absolute;top:0;right:5px;margin-top:-4px;margin-right:-10px;height:11px;width:11px;border-radius:50%;cursor:pointer;transition:all .3s ease-in-out;transform:scale(0)}.dplayer-controller .dplayer-icons{height:38px;position:absolute;bottom:0}.dplayer-controller .dplayer-icons.dplayer-comment-box{display:none;position:absolute;transition:all .3s ease-in-out;z-index:2;height:38px;bottom:0;left:20px;right:20px;color:#fff}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-icon{padding:7px}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-icon{position:absolute;left:0;top:0}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-send-icon{position:absolute;right:0;top:0}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box{position:absolute;background:rgba(28,28,28,.9);bottom:41px;left:0;box-shadow:0 0 25px rgba(0,0,0,.3);border-radius:4px;padding:10px 10px 16px;font-size:14px;width:204px;transition:all .3s ease-in-out;transform:scale(0)}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box.dplayer-comment-setting-open{transform:scale(1)}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box input[type=radio]{display:none}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box label{cursor:pointer}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-title{font-size:13px;color:#fff;line-height:30px}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type{font-size:0}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type .dplayer-comment-setting-title{margin-bottom:6px}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type label:nth-child(2) span{border-radius:4px 0 0 4px}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type label:nth-child(4) span{border-radius:0 4px 4px 0}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type span{width:33%;padding:4px 6px;line-height:16px;display:inline-block;font-size:12px;color:#fff;border:1px solid #fff;margin-right:-1px;box-sizing:border-box;text-align:center;cursor:pointer}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-type input:checked+span{background:#e4e4e6;color:#1c1c1c}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-color{font-size:0}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-color label{font-size:0;padding:6px;display:inline-block}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-color span{width:22px;height:22px;display:inline-block;border-radius:50%;box-sizing:border-box;cursor:pointer}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-setting-box .dplayer-comment-setting-color span:hover{-webkit-animation:my-face 5s ease-in-out infinite;animation:my-face 5s ease-in-out infinite}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input{outline:none;border:none;padding:8px 31px;font-size:14px;line-height:18px;text-align:center;border-radius:4px;background:none;margin:0;height:100%;box-sizing:border-box;width:100%;color:#fff}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input::-webkit-input-placeholder{color:#fff;opacity:.8}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input::-moz-placeholder{color:#fff;opacity:.8}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input:-ms-input-placeholder{color:#fff;opacity:.8}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input::-ms-input-placeholder{color:#fff;opacity:.8}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input::placeholder{color:#fff;opacity:.8}.dplayer-controller .dplayer-icons.dplayer-comment-box .dplayer-comment-input::-ms-clear{display:none}.dplayer-controller .dplayer-icons.dplayer-icons-left .dplayer-icon{padding:7px}.dplayer-controller .dplayer-icons.dplayer-icons-right{right:20px}.dplayer-controller .dplayer-icons.dplayer-icons-right .dplayer-icon{padding:8px}.dplayer-controller .dplayer-icons .dplayer-live-badge,.dplayer-controller .dplayer-icons .dplayer-time{line-height:38px;color:#eee;text-shadow:0 0 2px rgba(0,0,0,.5);vertical-align:middle;font-size:13px;cursor:default}.dplayer-controller .dplayer-icons .dplayer-live-dot{display:inline-block;width:6px;height:6px;vertical-align:4%;margin-right:5px;content:"";border-radius:6px}.dplayer-controller .dplayer-icons .dplayer-icon{width:40px;height:100%;border:none;background-color:transparent;outline:none;cursor:pointer;vertical-align:middle;box-sizing:border-box;display:inline-block}.dplayer-controller .dplayer-icons .dplayer-icon .dplayer-icon-content{transition:all .2s ease-in-out;opacity:.8}.dplayer-controller .dplayer-icons .dplayer-icon:hover .dplayer-icon-content{opacity:1}.dplayer-controller .dplayer-icons .dplayer-icon.dplayer-quality-icon{color:#fff;width:auto;line-height:22px;font-size:14px}.dplayer-controller .dplayer-icons .dplayer-icon.dplayer-comment-icon{padding:10px 9px 9px}.dplayer-controller .dplayer-icons .dplayer-icon.dplayer-setting-icon{padding-top:8.5px}.dplayer-controller .dplayer-icons .dplayer-icon.dplayer-volume-icon{width:43px}.dplayer-controller .dplayer-icons .dplayer-volume{position:relative;display:inline-block;cursor:pointer;height:100%}.dplayer-controller .dplayer-icons .dplayer-volume:hover .dplayer-volume-bar-wrap .dplayer-volume-bar{width:45px}.dplayer-controller .dplayer-icons .dplayer-volume:hover .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner .dplayer-thumb{transform:scale(1)}.dplayer-controller .dplayer-icons .dplayer-volume.dplayer-volume-active .dplayer-volume-bar-wrap .dplayer-volume-bar{width:45px}.dplayer-controller .dplayer-icons .dplayer-volume.dplayer-volume-active .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner .dplayer-thumb{transform:scale(1)}.dplayer-controller .dplayer-icons .dplayer-volume .dplayer-volume-bar-wrap{display:inline-block;margin:0 10px 0 -5px;vertical-align:middle;height:100%}.dplayer-controller .dplayer-icons .dplayer-volume .dplayer-volume-bar-wrap .dplayer-volume-bar{position:relative;top:17px;width:0;height:3px;background:#aaa;transition:all .3s ease-in-out}.dplayer-controller .dplayer-icons .dplayer-volume .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner{position:absolute;bottom:0;left:0;height:100%;transition:all .1s ease;will-change:width}.dplayer-controller .dplayer-icons .dplayer-volume .dplayer-volume-bar-wrap .dplayer-volume-bar .dplayer-volume-bar-inner .dplayer-thumb{position:absolute;top:0;right:5px;margin-top:-4px;margin-right:-10px;height:11px;width:11px;border-radius:50%;cursor:pointer;transition:all .3s ease-in-out;transform:scale(0)}.dplayer-controller .dplayer-icons .dplayer-setting,.dplayer-controller .dplayer-icons .dplayer-subtitle-btn{display:inline-block;height:100%}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box{position:absolute;right:0;bottom:50px;transform:scale(0);width:150px;border-radius:2px;background:rgba(28,28,28,.9);padding:7px 0;transition:all .3s ease-in-out;overflow:hidden;z-index:2}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box>div{display:none}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box>div.dplayer-setting-origin-panel{display:block}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box.dplayer-setting-box-open{transform:scale(1)}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box.dplayer-setting-box-narrow{width:70px;text-align:center}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box.dplayer-setting-box-speed .dplayer-setting-origin-panel{display:none}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-box.dplayer-setting-box-speed .dplayer-setting-speed-panel{display:block}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-item,.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-speed-item{height:30px;padding:5px 10px;box-sizing:border-box;cursor:pointer;position:relative}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-item:hover,.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-speed-item:hover{background-color:hsla(0,0%,100%,.1)}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku{padding:5px 0}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-label{padding:0 10px;display:inline}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku:hover .dplayer-label{display:none}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku:hover .dplayer-danmaku-bar-wrap{display:inline-block}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku.dplayer-setting-danmaku-active .dplayer-label{display:none}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku.dplayer-setting-danmaku-active .dplayer-danmaku-bar-wrap{display:inline-block}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-danmaku-bar-wrap{padding:0 10px;box-sizing:border-box;display:none;vertical-align:middle;height:100%;width:100%}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-danmaku-bar-wrap .dplayer-danmaku-bar{position:relative;top:8.5px;width:100%;height:3px;background:#fff;transition:all .3s ease-in-out}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-danmaku-bar-wrap .dplayer-danmaku-bar .dplayer-danmaku-bar-inner{position:absolute;bottom:0;left:0;height:100%;transition:all .1s ease;background:#aaa;will-change:width}.dplayer-controller .dplayer-icons .dplayer-setting .dplayer-setting-danmaku .dplayer-danmaku-bar-wrap .dplayer-danmaku-bar .dplayer-danmaku-bar-inner .dplayer-thumb{position:absolute;top:0;right:5px;margin-top:-4px;margin-right:-10px;height:11px;width:11px;border-radius:50%;cursor:pointer;transition:all .3s ease-in-out;background:#aaa}.dplayer-controller .dplayer-icons .dplayer-full{display:inline-block;height:100%;position:relative}.dplayer-controller .dplayer-icons .dplayer-full:hover .dplayer-full-in-icon{display:block}.dplayer-controller .dplayer-icons .dplayer-full .dplayer-full-in-icon{position:absolute;top:-30px;z-index:1;display:none}.dplayer-controller .dplayer-icons .dplayer-quality{position:relative;display:inline-block;height:100%;z-index:2}.dplayer-controller .dplayer-icons .dplayer-quality:hover .dplayer-quality-list,.dplayer-controller .dplayer-icons .dplayer-quality:hover .dplayer-quality-mask{display:block}.dplayer-controller .dplayer-icons .dplayer-quality .dplayer-quality-mask{display:none;position:absolute;bottom:38px;left:-18px;width:80px;padding-bottom:12px}.dplayer-controller .dplayer-icons .dplayer-quality .dplayer-quality-list{display:none;font-size:12px;width:80px;border-radius:2px;background:rgba(28,28,28,.9);padding:5px 0;transition:all .3s ease-in-out;overflow:hidden;color:#fff;text-align:center}.dplayer-controller .dplayer-icons .dplayer-quality .dplayer-quality-item{height:25px;box-sizing:border-box;cursor:pointer;line-height:25px}.dplayer-controller .dplayer-icons .dplayer-quality .dplayer-quality-item:hover{background-color:hsla(0,0%,100%,.1)}.dplayer-controller .dplayer-icons .dplayer-comment{display:inline-block;height:100%}.dplayer-controller .dplayer-icons .dplayer-label{color:#eee;font-size:13px;display:inline-block;vertical-align:middle;white-space:nowrap}.dplayer-controller .dplayer-icons .dplayer-toggle{width:32px;height:20px;text-align:center;font-size:0;vertical-align:middle;position:absolute;top:5px;right:10px}.dplayer-controller .dplayer-icons .dplayer-toggle input{max-height:0;max-width:0;display:none}.dplayer-controller .dplayer-icons .dplayer-toggle input+label{display:inline-block;position:relative;box-shadow:inset 0 0 0 0 #dfdfdf;border:1px solid #dfdfdf;height:20px;width:32px;border-radius:10px;box-sizing:border-box;cursor:pointer;transition:.2s ease-in-out}.dplayer-controller .dplayer-icons .dplayer-toggle input+label:after,.dplayer-controller .dplayer-icons .dplayer-toggle input+label:before{content:"";position:absolute;display:block;height:18px;width:18px;top:0;left:0;border-radius:15px;transition:.2s ease-in-out}.dplayer-controller .dplayer-icons .dplayer-toggle input+label:after{background:#fff;box-shadow:0 1px 3px rgba(0,0,0,.4)}.dplayer-controller .dplayer-icons .dplayer-toggle input:checked+label{border-color:hsla(0,0%,100%,.5)}.dplayer-controller .dplayer-icons .dplayer-toggle input:checked+label:before{width:30px;background:hsla(0,0%,100%,.5)}.dplayer-controller .dplayer-icons .dplayer-toggle input:checked+label:after{left:12px}.dplayer-mobile-play{display:none;width:50px;height:50px;border:none;background-color:transparent;outline:none;cursor:pointer;box-sizing:border-box;bottom:0;opacity:.8;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.dplayer-danmaku{position:absolute;left:0;right:0;top:0;bottom:0;font-size:22px;color:#fff}.dplayer-danmaku .dplayer-danmaku-item{display:inline-block;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default;white-space:nowrap;text-shadow:.5px .5px .5px rgba(0,0,0,.5)}.dplayer-danmaku .dplayer-danmaku-item--demo{position:absolute;visibility:hidden}.dplayer-danmaku .dplayer-danmaku-right{position:absolute;right:0;transform:translateX(100%)}.dplayer-danmaku .dplayer-danmaku-right.dplayer-danmaku-move{will-change:transform;-webkit-animation:danmaku 5s linear;animation:danmaku 5s linear;-webkit-animation-play-state:paused;animation-play-state:paused}@-webkit-keyframes danmaku{0%{transform:translateX(100%)}}@keyframes danmaku{0%{transform:translateX(100%)}}.dplayer-danmaku .dplayer-danmaku-bottom,.dplayer-danmaku .dplayer-danmaku-top{position:absolute;width:100%;text-align:center;visibility:hidden}.dplayer-danmaku .dplayer-danmaku-bottom.dplayer-danmaku-move,.dplayer-danmaku .dplayer-danmaku-top.dplayer-danmaku-move{will-change:visibility;-webkit-animation:danmaku-center 4s linear;animation:danmaku-center 4s linear;-webkit-animation-play-state:paused;animation-play-state:paused}@-webkit-keyframes danmaku-center{0%{visibility:visible}to{visibility:visible}}@keyframes danmaku-center{0%{visibility:visible}to{visibility:visible}}.dplayer-logo{pointer-events:none;position:absolute;left:20px;top:20px;max-width:50px;max-height:50px}.dplayer-logo img{max-width:100%;max-height:100%;background:none}.dplayer-menu{position:absolute;width:170px;border-radius:2px;background:rgba(28,28,28,.85);padding:5px 0;overflow:hidden;z-index:3;display:none}.dplayer-menu.dplayer-menu-show{display:block}.dplayer-menu .dplayer-menu-item{height:30px;box-sizing:border-box;cursor:pointer}.dplayer-menu .dplayer-menu-item:hover{background-color:hsla(0,0%,100%,.1)}.dplayer-menu .dplayer-menu-item a{padding:0 10px;line-height:30px;color:#eee;font-size:13px;display:inline-block;vertical-align:middle;width:100%;box-sizing:border-box;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.dplayer-menu .dplayer-menu-item a:hover{text-decoration:none}.dplayer-notice{opacity:0;position:absolute;bottom:60px;left:20px;font-size:14px;border-radius:2px;background:rgba(28,28,28,.9);padding:7px 20px;transition:all .3s ease-in-out;overflow:hidden;color:#fff;pointer-events:none}.dplayer-subtitle{position:absolute;bottom:40px;width:90%;left:5%;text-align:center;color:#fff;text-shadow:.5px .5px .5px rgba(0,0,0,.5);font-size:20px}.dplayer-subtitle.dplayer-subtitle-hide{display:none}.dplayer-mask{position:absolute;top:0;bottom:0;left:0;right:0;z-index:1;display:none}.dplayer-mask.dplayer-mask-show{display:block}.dplayer-video-wrap{position:relative;background:#000;font-size:0;width:100%;height:100%}.dplayer-video-wrap .dplayer-video{width:100%;height:100%;display:none}.dplayer-video-wrap .dplayer-video-current{display:block}.dplayer-video-wrap .dplayer-video-prepare{display:none}.dplayer-info-panel{position:absolute;top:10px;left:10px;width:400px;background:rgba(28,28,28,.8);padding:10px;color:#fff;font-size:12px;border-radius:2px}.dplayer-info-panel-hide{display:none}.dplayer-info-panel .dplayer-info-panel-close{cursor:pointer;position:absolute;right:10px;top:10px}.dplayer-info-panel .dplayer-info-panel-item>span{display:inline-block;vertical-align:middle;line-height:15px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.dplayer-info-panel .dplayer-info-panel-item-title{width:100px;text-align:right;margin-right:10px}.dplayer-info-panel .dplayer-info-panel-item-data{width:260px}',""]),t.exports=e},function(t,e,n){(e=n(3)(!1)).push([t.i,':root{--balloon-border-radius:2px;--balloon-color:rgba(16,16,16,0.95);--balloon-text-color:#fff;--balloon-font-size:12px;--balloon-move:4px}button[aria-label][data-balloon-pos]{overflow:visible}[aria-label][data-balloon-pos]{position:relative;cursor:pointer}[aria-label][data-balloon-pos]:after{text-indent:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;font-weight:400;font-style:normal;text-shadow:none;font-size:var(--balloon-font-size);background:var(--balloon-color);border-radius:2px;color:var(--balloon-text-color);border-radius:var(--balloon-border-radius);content:attr(aria-label);padding:.5em 1em;white-space:nowrap}[aria-label][data-balloon-pos]:after,[aria-label][data-balloon-pos]:before{opacity:0;pointer-events:none;transition:all .18s ease-out .18s;position:absolute;z-index:10}[aria-label][data-balloon-pos]:before{width:0;height:0;border:5px solid transparent;border-top:5px solid var(--balloon-color);content:""}[aria-label][data-balloon-pos]:hover:after,[aria-label][data-balloon-pos]:hover:before,[aria-label][data-balloon-pos]:not([data-balloon-nofocus]):focus:after,[aria-label][data-balloon-pos]:not([data-balloon-nofocus]):focus:before,[aria-label][data-balloon-pos][data-balloon-visible]:after,[aria-label][data-balloon-pos][data-balloon-visible]:before{opacity:1;pointer-events:none}[aria-label][data-balloon-pos].font-awesome:after{font-family:FontAwesome,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif}[aria-label][data-balloon-pos][data-balloon-break]:after{white-space:pre}[aria-label][data-balloon-pos][data-balloon-break][data-balloon-length]:after{white-space:pre-line;word-break:break-word}[aria-label][data-balloon-pos][data-balloon-blunt]:after,[aria-label][data-balloon-pos][data-balloon-blunt]:before{transition:none}[aria-label][data-balloon-pos][data-balloon-pos=up]:after{margin-bottom:10px}[aria-label][data-balloon-pos][data-balloon-pos=up]:after,[aria-label][data-balloon-pos][data-balloon-pos=up]:before{bottom:100%;left:50%;transform:translate(-50%,var(--balloon-move));transform-origin:top}[aria-label][data-balloon-pos][data-balloon-pos=up]:hover:after,[aria-label][data-balloon-pos][data-balloon-pos=up]:hover:before,[aria-label][data-balloon-pos][data-balloon-pos=up][data-balloon-visible]:after,[aria-label][data-balloon-pos][data-balloon-pos=up][data-balloon-visible]:before{transform:translate(-50%)}[aria-label][data-balloon-pos][data-balloon-pos=up-left]:after{bottom:100%;left:0;margin-bottom:10px;transform:translateY(var(--balloon-move));transform-origin:top}[aria-label][data-balloon-pos][data-balloon-pos=up-left]:before{bottom:100%;left:5px;transform:translateY(var(--balloon-move));transform-origin:top}[aria-label][data-balloon-pos][data-balloon-pos=up-left]:hover:after,[aria-label][data-balloon-pos][data-balloon-pos=up-left]:hover:before,[aria-label][data-balloon-pos][data-balloon-pos=up-left][data-balloon-visible]:after,[aria-label][data-balloon-pos][data-balloon-pos=up-left][data-balloon-visible]:before{transform:translate(0)}[aria-label][data-balloon-pos][data-balloon-pos=up-right]:after{bottom:100%;right:0;margin-bottom:10px;transform:translateY(var(--balloon-move));transform-origin:top}[aria-label][data-balloon-pos][data-balloon-pos=up-right]:before{bottom:100%;right:5px;transform:translateY(var(--balloon-move));transform-origin:top}[aria-label][data-balloon-pos][data-balloon-pos=up-right]:hover:after,[aria-label][data-balloon-pos][data-balloon-pos=up-right]:hover:before,[aria-label][data-balloon-pos][data-balloon-pos=up-right][data-balloon-visible]:after,[aria-label][data-balloon-pos][data-balloon-pos=up-right][data-balloon-visible]:before{transform:translate(0)}[aria-label][data-balloon-pos][data-balloon-pos=down]:after{left:50%;margin-top:10px;top:100%;transform:translate(-50%,calc(var(--balloon-move)*-1))}[aria-label][data-balloon-pos][data-balloon-pos=down]:before{width:0;height:0;border:5px solid transparent;border-bottom:5px solid var(--balloon-color);left:50%;top:100%;transform:translate(-50%,calc(var(--balloon-move)*-1))}[aria-label][data-balloon-pos][data-balloon-pos=down]:hover:after,[aria-label][data-balloon-pos][data-balloon-pos=down]:hover:before,[aria-label][data-balloon-pos][data-balloon-pos=down][data-balloon-visible]:after,[aria-label][data-balloon-pos][data-balloon-pos=down][data-balloon-visible]:before{transform:translate(-50%)}[aria-label][data-balloon-pos][data-balloon-pos=down-left]:after{left:0;margin-top:10px;top:100%;transform:translateY(calc(var(--balloon-move)*-1))}[aria-label][data-balloon-pos][data-balloon-pos=down-left]:before{width:0;height:0;border:5px solid transparent;border-bottom:5px solid var(--balloon-color);left:5px;top:100%;transform:translateY(calc(var(--balloon-move)*-1))}[aria-label][data-balloon-pos][data-balloon-pos=down-left]:hover:after,[aria-label][data-balloon-pos][data-balloon-pos=down-left]:hover:before,[aria-label][data-balloon-pos][data-balloon-pos=down-left][data-balloon-visible]:after,[aria-label][data-balloon-pos][data-balloon-pos=down-left][data-balloon-visible]:before{transform:translate(0)}[aria-label][data-balloon-pos][data-balloon-pos=down-right]:after{right:0;margin-top:10px;top:100%;transform:translateY(calc(var(--balloon-move)*-1))}[aria-label][data-balloon-pos][data-balloon-pos=down-right]:before{width:0;height:0;border:5px solid transparent;border-bottom:5px solid var(--balloon-color);right:5px;top:100%;transform:translateY(calc(var(--balloon-move)*-1))}[aria-label][data-balloon-pos][data-balloon-pos=down-right]:hover:after,[aria-label][data-balloon-pos][data-balloon-pos=down-right]:hover:before,[aria-label][data-balloon-pos][data-balloon-pos=down-right][data-balloon-visible]:after,[aria-label][data-balloon-pos][data-balloon-pos=down-right][data-balloon-visible]:before{transform:translate(0)}[aria-label][data-balloon-pos][data-balloon-pos=left]:after{margin-right:10px;right:100%;top:50%;transform:translate(var(--balloon-move),-50%)}[aria-label][data-balloon-pos][data-balloon-pos=left]:before{width:0;height:0;border:5px solid transparent;border-left:5px solid var(--balloon-color);right:100%;top:50%;transform:translate(var(--balloon-move),-50%)}[aria-label][data-balloon-pos][data-balloon-pos=left]:hover:after,[aria-label][data-balloon-pos][data-balloon-pos=left]:hover:before,[aria-label][data-balloon-pos][data-balloon-pos=left][data-balloon-visible]:after,[aria-label][data-balloon-pos][data-balloon-pos=left][data-balloon-visible]:before{transform:translateY(-50%)}[aria-label][data-balloon-pos][data-balloon-pos=right]:after{left:100%;margin-left:10px;top:50%;transform:translate(calc(var(--balloon-move)*-1),-50%)}[aria-label][data-balloon-pos][data-balloon-pos=right]:before{width:0;height:0;border:5px solid transparent;border-right:5px solid var(--balloon-color);left:100%;top:50%;transform:translate(calc(var(--balloon-move)*-1),-50%)}[aria-label][data-balloon-pos][data-balloon-pos=right]:hover:after,[aria-label][data-balloon-pos][data-balloon-pos=right]:hover:before,[aria-label][data-balloon-pos][data-balloon-pos=right][data-balloon-visible]:after,[aria-label][data-balloon-pos][data-balloon-pos=right][data-balloon-visible]:before{transform:translateY(-50%)}[aria-label][data-balloon-pos][data-balloon-length=small]:after{white-space:normal;width:80px}[aria-label][data-balloon-pos][data-balloon-length=medium]:after{white-space:normal;width:150px}[aria-label][data-balloon-pos][data-balloon-length=large]:after{white-space:normal;width:260px}[aria-label][data-balloon-pos][data-balloon-length=xlarge]:after{white-space:normal;width:380px}@media screen and (max-width:768px){[aria-label][data-balloon-pos][data-balloon-length=xlarge]:after{white-space:normal;width:90vw}}[aria-label][data-balloon-pos][data-balloon-length=fit]:after{white-space:normal;width:100%}',""]),t.exports=e},function(t,e,n){var i=Function.prototype.apply;function r(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new r(i.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new r(i.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(40),e.setImmediate=setImmediate,e.clearImmediate=clearImmediate},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var i,r,a,o,s,l=1,c={},u=!1,d=t.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(t);h=h&&h.setTimeout?h:t,"[object process]"==={}.toString.call(t.process)?i=function(t){e.nextTick((function(){p(t)}))}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?(o="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(o)&&p(+e.data.slice(o.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),i=function(e){t.postMessage(o+e,"*")}):t.MessageChannel?((a=new MessageChannel).port1.onmessage=function(t){p(t.data)},i=function(t){a.port2.postMessage(t)}):d&&"onreadystatechange"in d.createElement("script")?(r=d.documentElement,i=function(t){var e=d.createElement("script");e.onreadystatechange=function(){p(t),e.onreadystatechange=null,r.removeChild(e),e=null},r.appendChild(e)}):i=function(t){setTimeout(p,0,t)},h.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return c[l]=r,i(l),l++},h.clearImmediate=f}function f(t){delete c[t]}function p(t){if(u)setTimeout(p,0,t);else{var e=c[t];if(e){u=!0;try{!function(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(n,i)}}(e)}finally{f(t),u=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(4),n(5))},function(t,e,n){"use strict";var i=n(0),r=n(6),a=n(42),o=n(12);function s(t){var e=new a(t),n=r(a.prototype.request,e);return i.extend(n,a.prototype,e),i.extend(n,e),n}var l=s(n(9));l.Axios=a,l.create=function(t){return s(o(l.defaults,t))},l.Cancel=n(13),l.CancelToken=n(55),l.isCancel=n(8),l.all=function(t){return Promise.all(t)},l.spread=n(56),t.exports=l,t.exports.default=l},function(t,e,n){"use strict";var i=n(0),r=n(7),a=n(43),o=n(44),s=n(12);function l(t){this.defaults=t,this.interceptors={request:new a,response:new a}}l.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[o,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)n=n.then(e.shift(),e.shift());return n},l.prototype.getUri=function(t){return t=s(this.defaults,t),r(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],(function(t){l.prototype[t]=function(e,n){return this.request(i.merge(n||{},{method:t,url:e}))}})),i.forEach(["post","put","patch"],(function(t){l.prototype[t]=function(e,n,r){return this.request(i.merge(r||{},{method:t,url:e,data:n}))}})),t.exports=l},function(t,e,n){"use strict";var i=n(0);function r(){this.handlers=[]}r.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},r.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},r.prototype.forEach=function(t){i.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=r},function(t,e,n){"use strict";var i=n(0),r=n(45),a=n(8),o=n(9);function s(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return s(t),t.headers=t.headers||{},t.data=r(t.data,t.headers,t.transformRequest),t.headers=i.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),i.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||o.adapter)(t).then((function(e){return s(t),e.data=r(e.data,e.headers,t.transformResponse),e}),(function(e){return a(e)||(s(t),e&&e.response&&(e.response.data=r(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},function(t,e,n){"use strict";var i=n(0);t.exports=function(t,e,n){return i.forEach(n,(function(n){t=n(t,e)})),t}},function(t,e,n){"use strict";var i=n(0);t.exports=function(t,e){i.forEach(t,(function(n,i){i!==e&&i.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[i])}))}},function(t,e,n){"use strict";var i=n(11);t.exports=function(t,e,n){var r=n.config.validateStatus;!r||r(n.status)?t(n):e(i("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(t,e,n){"use strict";t.exports=function(t,e,n,i,r){return t.config=e,n&&(t.code=n),t.request=i,t.response=r,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},function(t,e,n){"use strict";var i=n(50),r=n(51);t.exports=function(t,e){return t&&!i(e)?r(t,e):e}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var i=n(0),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,a,o={};return t?(i.forEach(t.split("\n"),(function(t){if(a=t.indexOf(":"),e=i.trim(t.substr(0,a)).toLowerCase(),n=i.trim(t.substr(a+1)),e){if(o[e]&&r.indexOf(e)>=0)return;o[e]="set-cookie"===e?(o[e]?o[e]:[]).concat([n]):o[e]?o[e]+", "+n:n}})),o):o}},function(t,e,n){"use strict";var i=n(0);t.exports=i.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(t){var i=t;return e&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=r(window.location.href),function(e){var n=i.isString(e)?r(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){"use strict";var i=n(0);t.exports=i.isStandardBrowserEnv()?{write:function(t,e,n,r,a,o){var s=[];s.push(t+"="+encodeURIComponent(e)),i.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),i.isString(r)&&s.push("path="+r),i.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";var i=n(13);function r(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new i(t),e(n.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var t;return{token:new r((function(e){t=e})),cancel:t}},t.exports=r},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){"use strict";(function(e){var n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:{},i=Object.create(n),r=/["&'<>]/;i.$escape=function(t){return function(t){var e=""+t,n=r.exec(e);if(!n)return t;var i="",a=void 0,o=void 0,s=void 0;for(a=n.index,o=0;a<e.length;a++){switch(e.charCodeAt(a)){case 34:s="&#34;";break;case 38:s="&#38;";break;case 39:s="&#39;";break;case 60:s="&#60;";break;case 62:s="&#62;";break;default:continue}o!==a&&(i+=e.substring(o,a)),o=a+1,i+=s}return o!==a?i+e.substring(o,a):i}(function t(e){return"string"!=typeof e&&(e=null==e?"":"function"==typeof e?t(e.call(e)):JSON.stringify(e)),e}(t))},i.$each=function(t,e){if(Array.isArray(t))for(var n=0,i=t.length;n<i;n++)e(t[n],n);else for(var r in t)e(t[r],r)},t.exports=i}).call(this,n(4))},function(t,e,n){"use strict";n.r(e),n(35);var i=n(15),r=/mobile/i.test(window.navigator.userAgent),a={secondToTime:function(t){if(0===(t=t||0)||t===1/0||"NaN"===t.toString())return"00:00";var e=Math.floor(t/3600),n=Math.floor((t-3600*e)/60),i=Math.floor(t-3600*e-60*n);return(e>0?[e,n,i]:[n,i]).map((function(t){return t<10?"0"+t:""+t})).join(":")},getElementViewLeft:function(t){var e=t.offsetLeft,n=t.offsetParent,i=document.body.scrollLeft+document.documentElement.scrollLeft;if(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement)for(;null!==n&&n!==t;)e+=n.offsetLeft,n=n.offsetParent;else for(;null!==n;)e+=n.offsetLeft,n=n.offsetParent;return e-i},getBoundingClientRectViewLeft:function(t){var e=window.scrollY||window.pageYOffset||document.body.scrollTop+(document.documentElement&&document.documentElement.scrollTop||0);if(t.getBoundingClientRect){if("number"!=typeof this.getBoundingClientRectViewLeft.offset){var n=document.createElement("div");n.style.cssText="position:absolute;top:0;left:0;",document.body.appendChild(n),this.getBoundingClientRectViewLeft.offset=-n.getBoundingClientRect().top-e,document.body.removeChild(n),n=null}var i=t.getBoundingClientRect(),r=this.getBoundingClientRectViewLeft.offset;return i.left+r}return this.getElementViewLeft(t)},getScrollPosition:function(){return{left:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0,top:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}},setScrollPosition:function(t){var e=t.left,n=void 0===e?0:e,i=t.top,r=void 0===i?0:i;this.isFirefox?(document.documentElement.scrollLeft=n,document.documentElement.scrollTop=r):window.scrollTo(n,r)},isMobile:r,isSafari:/Safari/i.test(window.navigator.userAgent),isFirefox:/firefox/i.test(window.navigator.userAgent),isChrome:/chrome/i.test(window.navigator.userAgent),storage:{set:function(t,e){localStorage.setItem(t,e)},get:function(t){return localStorage.getItem(t)}},nameMap:{dragStart:r?"touchstart":"mousedown",dragMove:r?"touchmove":"mousemove",dragEnd:r?"touchend":"mouseup"},color2Number:function(t){return"#"===t[0]&&(t=t.substr(1)),3===t.length&&(t="".concat(t[0]).concat(t[0]).concat(t[1]).concat(t[1]).concat(t[2]).concat(t[2])),parseInt(t,16)+0&16777215},number2Color:function(t){return"#"+("00000"+t.toString(16)).slice(-6)},number2Type:function(t){switch(t){case 0:return"right";case 1:return"top";case 2:return"bottom";default:return"right"}}},o=n(2),s=n.n(o),l={send:function(t){s.a.post(t.url,t.data).then((function(e){var n=e.data;n&&0===n.code?t.success&&t.success(n):t.error&&t.error(n&&n.msg)})).catch((function(e){console.error(e),t.error&&t.error()}))},read:function(t){s.a.get(t.url).then((function(e){var n=e.data;n&&0===n.code?t.success&&t.success(n.data.map((function(t){return{time:t[0],type:t[1],color:t[2],author:t[3],text:t[4]}}))):t.error&&t.error(n&&n.msg)})).catch((function(e){console.error(e),t.error&&t.error()}))}};function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var u=function(t){var e={container:t.element||document.getElementsByClassName("dplayer")[0],live:!1,autoplay:!1,theme:"#b7daff",loop:!1,lang:(navigator.language||navigator.browserLanguage).toLowerCase(),screenshot:!1,airplay:!0,hotkey:!0,preload:"metadata",volume:.7,playbackSpeed:[.5,.75,1,1.25,1.5,2],apiBackend:l,video:{},contextmenu:[],mutex:!0,pluginOptions:{hls:{},flv:{},dash:{},webtorrent:{}}};for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n]);return t.video&&!t.video.type&&(t.video.type="auto"),"object"===c(t.danmaku)&&t.danmaku&&!t.danmaku.user&&(t.danmaku.user="DIYgod"),t.subtitle&&(!t.subtitle.type&&(t.subtitle.type="webvtt"),!t.subtitle.fontSize&&(t.subtitle.fontSize="20px"),!t.subtitle.bottom&&(t.subtitle.bottom="40px"),!t.subtitle.color&&(t.subtitle.color="#fff")),t.video.quality&&(t.video.url=t.video.quality[t.video.defaultQuality].url),t.lang&&(t.lang=t.lang.toLowerCase()),t.contextmenu=t.contextmenu.concat([{text:"Video info",click:function(t){t.infoPanel.triggle()}},{text:"About author",link:"https://diygod.me"},{text:"DPlayer v".concat("1.26.0"),link:"https://github.com/MoePlayer/DPlayer"}]),t},d={"zh-cn":{"Danmaku is loading":"",Top:"",Bottom:"",Rolling:"","Input danmaku, hit Enter":"","About author":"","DPlayer feedback":"","About DPlayer":" DPlayer ",Loop:"",Speed:"","Opacity for danmaku":"",Normal:"","Please input danmaku content!":"","Set danmaku color":"","Set danmaku type":"","Show danmaku":"","Video load failed":"","Danmaku load failed":"","Danmaku send failed":"","Switching to":"","Switched to":"",quality:"",FF:"",REW:"","Unlimited danmaku":"","Send danmaku":"",Setting:"","Full screen":"","Web full screen":"",Send:"",Screenshot:"",AirPlay:"",s:"","Show subtitle":"","Hide subtitle":"",Volume:"",Live:"","Video info":""},"zh-tw":{"Danmaku is loading":"",Top:"",Bottom:"",Rolling:"","Input danmaku, hit Enter":"Enter ","About author":"","DPlayer feedback":"","About DPlayer":" DPlayer ",Loop:"",Speed:"","Opacity for danmaku":"",Normal:"","Please input danmaku content!":"","Set danmaku color":"","Set danmaku type":"","Show danmaku":"","Video load failed":"","Danmaku load failed":"","Danmaku send failed":"","Switching to":"","Switched to":"",quality:"",FF:"",REW:"","Unlimited danmaku":"","Send danmaku":"",Setting:"","Full screen":"","Web full screen":"",Send:"",Screenshot:"",AirPlay:"",s:"","Show subtitle":"","Hide subtitle":"",Volume:"",Live:"","Video info":""}},h=function(t){var e=this;this.lang=t,this.tran=function(t){return d[e.lang]&&d[e.lang][t]?d[e.lang][t]:t}},f=n(17),p=n.n(f),m=n(18),v=n.n(m),g=n(19),y=n.n(g),b=n(20),w=n.n(b),k=n(21),S=n.n(k),x=n(22),T=n.n(x),E=n(23),_=n.n(E),A=n(24),C=n.n(A),O=n(25),L=n.n(O),R=n(26),D=n.n(R),I=n(27),P=n.n(I),M=n(28),F=n.n(M),B=n(29),N=n.n(B),j=n(30),$=n.n(j),U=n(31),z=n.n(U),V=n(32),H=n.n(V),q=n(33),G=n.n(q),W={play:p.a,pause:v.a,volumeUp:y.a,volumeDown:w.a,volumeOff:S.a,full:T.a,fullWeb:_.a,setting:C.a,right:L.a,comment:D.a,commentOff:P.a,send:F.a,pallette:N.a,camera:$.a,subtitle:H.a,loading:G.a,airplay:z.a},K=n(34),Y=n.n(K);function X(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Q=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e.container,this.options=e.options,this.index=e.index,this.tran=e.tran,this.init()}var e,n,i;return e=t,(n=[{key:"init",value:function(){this.container.innerHTML=Y()({options:this.options,index:this.index,tran:this.tran,icons:W,mobile:a.isMobile,video:{current:!0,pic:this.options.video.pic,screenshot:this.options.screenshot,airplay:this.options.airplay,preload:this.options.preload,url:this.options.video.url,subtitle:this.options.subtitle}}),this.volumeBar=this.container.querySelector(".dplayer-volume-bar-inner"),this.volumeBarWrap=this.container.querySelector(".dplayer-volume-bar"),this.volumeBarWrapWrap=this.container.querySelector(".dplayer-volume-bar-wrap"),this.volumeButton=this.container.querySelector(".dplayer-volume"),this.volumeButtonIcon=this.container.querySelector(".dplayer-volume-icon"),this.volumeIcon=this.container.querySelector(".dplayer-volume-icon .dplayer-icon-content"),this.playedBar=this.container.querySelector(".dplayer-played"),this.loadedBar=this.container.querySelector(".dplayer-loaded"),this.playedBarWrap=this.container.querySelector(".dplayer-bar-wrap"),this.playedBarTime=this.container.querySelector(".dplayer-bar-time"),this.danmaku=this.container.querySelector(".dplayer-danmaku"),this.danmakuLoading=this.container.querySelector(".dplayer-danloading"),this.video=this.container.querySelector(".dplayer-video-current"),this.bezel=this.container.querySelector(".dplayer-bezel-icon"),this.playButton=this.container.querySelector(".dplayer-play-icon"),this.mobilePlayButton=this.container.querySelector(".dplayer-mobile-play"),this.videoWrap=this.container.querySelector(".dplayer-video-wrap"),this.controllerMask=this.container.querySelector(".dplayer-controller-mask"),this.ptime=this.container.querySelector(".dplayer-ptime"),this.settingButton=this.container.querySelector(".dplayer-setting-icon"),this.settingBox=this.container.querySelector(".dplayer-setting-box"),this.mask=this.container.querySelector(".dplayer-mask"),this.loop=this.container.querySelector(".dplayer-setting-loop"),this.loopToggle=this.container.querySelector(".dplayer-setting-loop .dplayer-toggle-setting-input"),this.showDanmaku=this.container.querySelector(".dplayer-setting-showdan"),this.showDanmakuToggle=this.container.querySelector(".dplayer-showdan-setting-input"),this.unlimitDanmaku=this.container.querySelector(".dplayer-setting-danunlimit"),this.unlimitDanmakuToggle=this.container.querySelector(".dplayer-danunlimit-setting-input"),this.speed=this.container.querySelector(".dplayer-setting-speed"),this.speedItem=this.container.querySelectorAll(".dplayer-setting-speed-item"),this.danmakuOpacityBar=this.container.querySelector(".dplayer-danmaku-bar-inner"),this.danmakuOpacityBarWrap=this.container.querySelector(".dplayer-danmaku-bar"),this.danmakuOpacityBarWrapWrap=this.container.querySelector(".dplayer-danmaku-bar-wrap"),this.danmakuOpacityBox=this.container.querySelector(".dplayer-setting-danmaku"),this.dtime=this.container.querySelector(".dplayer-dtime"),this.controller=this.container.querySelector(".dplayer-controller"),this.commentInput=this.container.querySelector(".dplayer-comment-input"),this.commentButton=this.container.querySelector(".dplayer-comment-icon"),this.commentSettingBox=this.container.querySelector(".dplayer-comment-setting-box"),this.commentSettingButton=this.container.querySelector(".dplayer-comment-setting-icon"),this.commentSettingFill=this.container.querySelector(".dplayer-comment-setting-icon path"),this.commentSendButton=this.container.querySelector(".dplayer-send-icon"),this.commentSendFill=this.container.querySelector(".dplayer-send-icon path"),this.commentColorSettingBox=this.container.querySelector(".dplayer-comment-setting-color"),this.browserFullButton=this.container.querySelector(".dplayer-full-icon"),this.webFullButton=this.container.querySelector(".dplayer-full-in-icon"),this.menu=this.container.querySelector(".dplayer-menu"),this.menuItem=this.container.querySelectorAll(".dplayer-menu-item"),this.qualityList=this.container.querySelector(".dplayer-quality-list"),this.camareButton=this.container.querySelector(".dplayer-camera-icon"),this.airplayButton=this.container.querySelector(".dplayer-airplay-icon"),this.subtitleButton=this.container.querySelector(".dplayer-subtitle-icon"),this.subtitleButtonInner=this.container.querySelector(".dplayer-subtitle-icon .dplayer-icon-content"),this.subtitle=this.container.querySelector(".dplayer-subtitle"),this.qualityButton=this.container.querySelector(".dplayer-quality-icon"),this.barPreview=this.container.querySelector(".dplayer-bar-preview"),this.barWrap=this.container.querySelector(".dplayer-bar-wrap"),this.notice=this.container.querySelector(".dplayer-notice"),this.infoPanel=this.container.querySelector(".dplayer-info-panel"),this.infoPanelClose=this.container.querySelector(".dplayer-info-panel-close"),this.infoVersion=this.container.querySelector(".dplayer-info-panel-item-version .dplayer-info-panel-item-data"),this.infoFPS=this.container.querySelector(".dplayer-info-panel-item-fps .dplayer-info-panel-item-data"),this.infoType=this.container.querySelector(".dplayer-info-panel-item-type .dplayer-info-panel-item-data"),this.infoUrl=this.container.querySelector(".dplayer-info-panel-item-url .dplayer-info-panel-item-data"),this.infoResolution=this.container.querySelector(".dplayer-info-panel-item-resolution .dplayer-info-panel-item-data"),this.infoDuration=this.container.querySelector(".dplayer-info-panel-item-duration .dplayer-info-panel-item-data"),this.infoDanmakuId=this.container.querySelector(".dplayer-info-panel-item-danmaku-id .dplayer-info-panel-item-data"),this.infoDanmakuApi=this.container.querySelector(".dplayer-info-panel-item-danmaku-api .dplayer-info-panel-item-data"),this.infoDanmakuAmount=this.container.querySelector(".dplayer-info-panel-item-danmaku-amount .dplayer-info-panel-item-data")}}])&&X(e.prototype,n),i&&X(e,i),t}();function J(t){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Z(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var tt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=e,this.container=this.options.container,this.danTunnel={right:{},top:{},bottom:{}},this.danIndex=0,this.dan=[],this.showing=!0,this._opacity=this.options.opacity,this.events=this.options.events,this.unlimited=this.options.unlimited,this._measure(""),this.load()}var e,n,i;return e=t,(n=[{key:"load",value:function(){var t,e=this;t=this.options.api.maximum?"".concat(this.options.api.address,"v3/?id=").concat(this.options.api.id,"&max=").concat(this.options.api.maximum):"".concat(this.options.api.address,"v3/?id=").concat(this.options.api.id);var n=(this.options.api.addition||[]).slice(0);n.push(t),this.events&&this.events.trigger("danmaku_load_start",n),this._readAllEndpoints(n,(function(t){e.dan=[].concat.apply([],t).sort((function(t,e){return t.time-e.time})),window.requestAnimationFrame((function(){e.frame()})),e.options.callback(),e.events&&e.events.trigger("danmaku_load_end")}))}},{key:"reload",value:function(t){this.options.api=t,this.dan=[],this.clear(),this.load()}},{key:"_readAllEndpoints",value:function(t,e){for(var n=this,i=[],r=0,a=function(a){n.options.apiBackend.read({url:t[a],success:function(n){i[a]=n,++r===t.length&&e(i)},error:function(o){n.options.error(o||n.options.tran("Danmaku load failed")),i[a]=[],++r===t.length&&e(i)}})},o=0;o<t.length;++o)a(o)}},{key:"send",value:function(t,e){var n=this,i={token:this.options.api.token,id:this.options.api.id,author:this.options.api.user,time:this.options.time(),text:t.text,color:t.color,type:t.type};this.options.apiBackend.send({url:this.options.api.address+"v3/",data:i,success:e,error:function(t){n.options.error(t||n.options.tran("Danmaku send failed"))}}),this.dan.splice(this.danIndex,0,i),this.danIndex++;var r={text:this.htmlEncode(i.text),color:i.color,type:i.type,border:"2px solid ".concat(this.options.borderColor)};this.draw(r),this.events&&this.events.trigger("danmaku_send",i)}},{key:"frame",value:function(){var t=this;if(this.dan.length&&!this.paused&&this.showing){for(var e=this.dan[this.danIndex],n=[];e&&this.options.time()>parseFloat(e.time);)n.push(e),e=this.dan[++this.danIndex];this.draw(n)}window.requestAnimationFrame((function(){t.frame()}))}},{key:"opacity",value:function(t){if(void 0!==t){for(var e=this.container.getElementsByClassName("dplayer-danmaku-item"),n=0;n<e.length;n++)e[n].style.opacity=t;this._opacity=t,this.events&&this.events.trigger("danmaku_opacity",this._opacity)}return this._opacity}},{key:"draw",value:function(t){var e=this;if(this.showing){var n=this.options.height,i=this.container.offsetWidth,r=this.container.offsetHeight,o=parseInt(r/n),s=function(t){var n=t.offsetWidth||parseInt(t.style.width),i=t.getBoundingClientRect().right||e.container.getBoundingClientRect().right+n;return e.container.getBoundingClientRect().right-i},l=function(t){return(i+t)/5},c=function(t,n,r){for(var a=i/l(r),c=function(r){var c=e.danTunnel[n][r+""];if(!c||!c.length)return e.danTunnel[n][r+""]=[t],t.addEventListener("animationend",(function(){e.danTunnel[n][r+""].splice(0,1)})),{v:r%o};if("right"!==n)return"continue";for(var u=0;u<c.length;u++){var d=s(c[u])-10;if(d<=i-a*l(parseInt(c[u].style.width))||d<=0)break;if(u===c.length-1)return e.danTunnel[n][r+""].push(t),t.addEventListener("animationend",(function(){e.danTunnel[n][r+""].splice(0,1)})),{v:r%o}}},u=0;e.unlimited||u<o;u++){var d=c(u);switch(d){case"continue":continue;default:if("object"===J(d))return d.v}}return-1};"[object Array]"!==Object.prototype.toString.call(t)&&(t=[t]);for(var u=document.createDocumentFragment(),d=function(r){t[r].type=a.number2Type(t[r].type),t[r].color||(t[r].color=16777215);var o=document.createElement("div");o.classList.add("dplayer-danmaku-item"),o.classList.add("dplayer-danmaku-".concat(t[r].type)),t[r].border?o.innerHTML='<span style="border:'.concat(t[r].border,'">').concat(t[r].text,"</span>"):o.innerHTML=t[r].text,o.style.opacity=e._opacity,o.style.color=a.number2Color(t[r].color),o.addEventListener("animationend",(function(){e.container.removeChild(o)}));var s=e._measure(t[r].text),l=void 0;switch(t[r].type){case"right":(l=c(o,t[r].type,s))>=0&&(o.style.width=s+1+"px",o.style.top=n*l+"px",o.style.transform="translateX(-".concat(i,"px)"));break;case"top":(l=c(o,t[r].type))>=0&&(o.style.top=n*l+"px");break;case"bottom":(l=c(o,t[r].type))>=0&&(o.style.bottom=n*l+"px");break;default:console.error("Can't handled danmaku type: ".concat(t[r].type))}l>=0&&(o.classList.add("dplayer-danmaku-move"),u.appendChild(o))},h=0;h<t.length;h++)d(h);return this.container.appendChild(u),u}}},{key:"play",value:function(){this.paused=!1}},{key:"pause",value:function(){this.paused=!0}},{key:"_measure",value:function(t){if(!this.context){var e=getComputedStyle(this.container.getElementsByClassName("dplayer-danmaku-item")[0],null);this.context=document.createElement("canvas").getContext("2d"),this.context.font=e.getPropertyValue("font")}return this.context.measureText(t).width}},{key:"seek",value:function(){this.clear();for(var t=0;t<this.dan.length;t++){if(this.dan[t].time>=this.options.time()){this.danIndex=t;break}this.danIndex=this.dan.length}}},{key:"clear",value:function(){this.danTunnel={right:{},top:{},bottom:{}},this.danIndex=0,this.options.container.innerHTML="",this.events&&this.events.trigger("danmaku_clear")}},{key:"htmlEncode",value:function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2f;")}},{key:"resize",value:function(){for(var t=this.container.offsetWidth,e=this.container.getElementsByClassName("dplayer-danmaku-item"),n=0;n<e.length;n++)e[n].style.transform="translateX(-".concat(t,"px)")}},{key:"hide",value:function(){this.showing=!1,this.pause(),this.clear(),this.events&&this.events.trigger("danmaku_hide")}},{key:"show",value:function(){this.seek(),this.showing=!0,this.play(),this.events&&this.events.trigger("danmaku_show")}},{key:"unlimit",value:function(t){this.unlimited=t}}])&&Z(e.prototype,n),i&&Z(e,i),t}();function et(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var nt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.events={},this.videoEvents=["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","mozaudioavailable","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],this.playerEvents=["screenshot","thumbnails_show","thumbnails_hide","danmaku_show","danmaku_hide","danmaku_clear","danmaku_loaded","danmaku_send","danmaku_opacity","contextmenu_show","contextmenu_hide","notice_show","notice_hide","quality_start","quality_end","destroy","resize","fullscreen","fullscreen_cancel","webfullscreen","webfullscreen_cancel","subtitle_show","subtitle_hide","subtitle_change"]}var e,n,i;return e=t,(n=[{key:"on",value:function(t,e){this.type(t)&&"function"==typeof e&&(this.events[t]||(this.events[t]=[]),this.events[t].push(e))}},{key:"trigger",value:function(t,e){if(this.events[t]&&this.events[t].length)for(var n=0;n<this.events[t].length;n++)this.events[t][n](e)}},{key:"type",value:function(t){return-1!==this.playerEvents.indexOf(t)?"player":-1!==this.videoEvents.indexOf(t)?"video":(console.error("Unknown event name: ".concat(t)),null)}}])&&et(e.prototype,n),i&&et(e,i),t}();function it(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var rt=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.player=e,this.lastScrollPosition={left:0,top:0},this.player.events.on("webfullscreen",(function(){n.player.resize()})),this.player.events.on("webfullscreen_cancel",(function(){n.player.resize(),a.setScrollPosition(n.lastScrollPosition)}));var i=function(){n.player.resize(),n.isFullScreen("browser")?n.player.events.trigger("fullscreen"):(a.setScrollPosition(n.lastScrollPosition),n.player.events.trigger("fullscreen_cancel"))},r=function(){var t=document.fullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;t&&t!==n.player.container||(n.player.resize(),t?n.player.events.trigger("fullscreen"):(a.setScrollPosition(n.lastScrollPosition),n.player.events.trigger("fullscreen_cancel")))};/Firefox/.test(navigator.userAgent)?(document.addEventListener("mozfullscreenchange",r),document.addEventListener("fullscreenchange",r)):(this.player.container.addEventListener("fullscreenchange",i),this.player.container.addEventListener("webkitfullscreenchange",i),document.addEventListener("msfullscreenchange",r),document.addEventListener("MSFullscreenChange",r))}var e,n,i;return e=t,(n=[{key:"isFullScreen",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"browser";switch(t){case"browser":return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement;case"web":return this.player.container.classList.contains("dplayer-fulled")}}},{key:"request",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"browser",e="browser"===t?"web":"browser",n=this.isFullScreen(e);switch(n||(this.lastScrollPosition=a.getScrollPosition()),t){case"browser":this.player.container.requestFullscreen?this.player.container.requestFullscreen():this.player.container.mozRequestFullScreen?this.player.container.mozRequestFullScreen():this.player.container.webkitRequestFullscreen?this.player.container.webkitRequestFullscreen():this.player.video.webkitEnterFullscreen?this.player.video.webkitEnterFullscreen():this.player.video.webkitEnterFullScreen?this.player.video.webkitEnterFullScreen():this.player.container.msRequestFullscreen&&this.player.container.msRequestFullscreen();break;case"web":this.player.container.classList.add("dplayer-fulled"),document.body.classList.add("dplayer-web-fullscreen-fix"),this.player.events.trigger("webfullscreen")}n&&this.cancel(e)}},{key:"cancel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"browser";switch(t){case"browser":document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.webkitCancelFullscreen?document.webkitCancelFullscreen():document.msCancelFullScreen?document.msCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen();break;case"web":this.player.container.classList.remove("dplayer-fulled"),document.body.classList.remove("dplayer-web-fullscreen-fix"),this.player.events.trigger("webfullscreen_cancel")}}},{key:"toggle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"browser";this.isFullScreen(t)?this.cancel(t):this.request(t)}}])&&it(e.prototype,n),i&&it(e,i),t}();function at(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var ot=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.storageName={opacity:"dplayer-danmaku-opacity",volume:"dplayer-volume",unlimited:"dplayer-danmaku-unlimited",danmaku:"dplayer-danmaku-show",subtitle:"dplayer-subtitle-show"},this.default={opacity:.7,volume:e.options.hasOwnProperty("volume")?e.options.volume:.7,unlimited:(e.options.danmaku&&e.options.danmaku.unlimited?1:0)||0,danmaku:1,subtitle:1},this.data={},this.init()}var e,n,i;return e=t,(n=[{key:"init",value:function(){for(var t in this.storageName){var e=this.storageName[t];this.data[t]=parseFloat(a.storage.get(e)||this.default[t])}}},{key:"get",value:function(t){return this.data[t]}},{key:"set",value:function(t,e){this.data[t]=e,a.storage.set(this.storageName[t],e)}}])&&at(e.prototype,n),i&&at(e,i),t}();function st(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var lt=function(){function t(e,n,i,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e,this.video=n,this.options=i,this.events=r,this.init()}var e,n,i;return e=t,(n=[{key:"init",value:function(){var t=this;if(this.container.style.fontSize=this.options.fontSize,this.container.style.bottom=this.options.bottom,this.container.style.color=this.options.color,this.video.textTracks&&this.video.textTracks[0]){var e=this.video.textTracks[0];e.oncuechange=function(){var n=e.activeCues[0];if(t.container.innerHTML="",n){var i=document.createElement("div");i.appendChild(n.getCueAsHTML());var r=i.innerHTML.split(/\r?\n/).map((function(t){return"<p>".concat(t,"</p>")})).join("");t.container.innerHTML=r}t.events.trigger("subtitle_change")}}}},{key:"show",value:function(){this.container.classList.remove("dplayer-subtitle-hide"),this.events.trigger("subtitle_show")}},{key:"hide",value:function(){this.container.classList.add("dplayer-subtitle-hide"),this.events.trigger("subtitle_hide")}},{key:"toggle",value:function(){this.container.classList.contains("dplayer-subtitle-hide")?this.show():this.hide()}}])&&st(e.prototype,n),i&&st(e,i),t}();function ct(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var ut=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.elements={},this.elements.volume=e.volumeBar,this.elements.played=e.playedBar,this.elements.loaded=e.loadedBar,this.elements.danmaku=e.danmakuOpacityBar}var e,n,i;return e=t,(n=[{key:"set",value:function(t,e,n){e=Math.max(e,0),e=Math.min(e,1),this.elements[t].style[n]=100*e+"%"}},{key:"get",value:function(t){return parseFloat(this.elements[t].style.width)/100}}])&&ct(e.prototype,n),i&&ct(e,i),t}();function dt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var ht=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.player=e,window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},this.types=["loading","info","fps"],this.init()}var e,n,i;return e=t,(n=[{key:"init",value:function(){var t=this;this.types.map((function(e){return"fps"!==e&&t["init".concat(e,"Checker")](),e}))}},{key:"initloadingChecker",value:function(){var t=this,e=0,n=0,i=!1;this.loadingChecker=setInterval((function(){t.enableloadingChecker&&(n=t.player.video.currentTime,i||n!==e||t.player.video.paused||(t.player.container.classList.add("dplayer-loading"),i=!0),i&&n>e&&!t.player.video.paused&&(t.player.container.classList.remove("dplayer-loading"),i=!1),e=n)}),100)}},{key:"initfpsChecker",value:function(){var t=this;window.requestAnimationFrame((function(){if(t.enablefpsChecker)if(t.initfpsChecker(),t.fpsStart){t.fpsIndex++;var e=new Date;e-t.fpsStart>1e3&&(t.player.infoPanel.fps(t.fpsIndex/(e-t.fpsStart)*1e3),t.fpsStart=new Date,t.fpsIndex=0)}else t.fpsStart=new Date,t.fpsIndex=0;else t.fpsStart=0,t.fpsIndex=0}))}},{key:"initinfoChecker",value:function(){var t=this;this.infoChecker=setInterval((function(){t.enableinfoChecker&&t.player.infoPanel.update()}),1e3)}},{key:"enable",value:function(t){this["enable".concat(t,"Checker")]=!0,"fps"===t&&this.initfpsChecker()}},{key:"disable",value:function(t){this["enable".concat(t,"Checker")]=!1}},{key:"destroy",value:function(){var t=this;this.types.map((function(e){return t["enable".concat(e,"Checker")]=!1,t["".concat(e,"Checker")]&&clearInterval(t["".concat(e,"Checker")]),e}))}}])&&dt(e.prototype,n),i&&dt(e,i),t}();function ft(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var pt=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e,this.container.addEventListener("animationend",(function(){n.container.classList.remove("dplayer-bezel-transition")}))}var e,n,i;return e=t,(n=[{key:"switch",value:function(t){this.container.innerHTML=t,this.container.classList.add("dplayer-bezel-transition")}}])&&ft(e.prototype,n),i&&ft(e,i),t}();function mt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var vt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e.container,this.barWidth=e.barWidth,this.container.style.backgroundImage="url('".concat(e.url,"')"),this.events=e.events}var e,n,i;return e=t,(n=[{key:"resize",value:function(t,e,n){this.container.style.width="".concat(t,"px"),this.container.style.height="".concat(e,"px"),this.container.style.top="".concat(2-e,"px"),this.barWidth=n}},{key:"show",value:function(){this.container.style.display="block",this.events&&this.events.trigger("thumbnails_show")}},{key:"move",value:function(t){this.container.style.backgroundPosition="-".concat(160*(Math.ceil(t/this.barWidth*100)-1),"px 0"),this.container.style.left="".concat(Math.min(Math.max(t-this.container.offsetWidth/2,-10),this.barWidth-150),"px")}},{key:"hide",value:function(){this.container.style.display="none",this.events&&this.events.trigger("thumbnails_hide")}}])&&mt(e.prototype,n),i&&mt(e,i),t}();function gt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var yt=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.player=e,this.autoHideTimer=0,a.isMobile||(this.player.container.addEventListener("mousemove",(function(){n.setAutoHide()})),this.player.container.addEventListener("click",(function(){n.setAutoHide()})),this.player.on("play",(function(){n.setAutoHide()})),this.player.on("pause",(function(){n.setAutoHide()}))),this.initPlayButton(),this.initThumbnails(),this.initPlayedBar(),this.initFullButton(),this.initQualityButton(),this.initScreenshotButton(),this.initSubtitleButton(),this.initHighlights(),a.isSafari&&this.initAirplayButton(),a.isMobile||this.initVolumeButton()}var e,n,i;return e=t,(n=[{key:"initPlayButton",value:function(){var t=this;this.player.template.playButton.addEventListener("click",(function(){t.player.toggle()})),this.player.template.mobilePlayButton.addEventListener("click",(function(){t.player.toggle()})),a.isMobile?(this.player.template.videoWrap.addEventListener("click",(function(){t.toggle()})),this.player.template.controllerMask.addEventListener("click",(function(){t.toggle()}))):(this.player.template.videoWrap.addEventListener("click",(function(){t.player.toggle()})),this.player.template.controllerMask.addEventListener("click",(function(){t.player.toggle()})))}},{key:"initHighlights",value:function(){var t=this;this.player.on("durationchange",(function(){if(1!==t.player.video.duration&&t.player.video.duration!==1/0&&t.player.options.highlight){var e=document.querySelectorAll(".dplayer-highlight");[].slice.call(e,0).forEach((function(e){t.player.template.playedBarWrap.removeChild(e)}));for(var n=0;n<t.player.options.highlight.length;n++)if(t.player.options.highlight[n].text&&t.player.options.highlight[n].time){var i=document.createElement("div");i.classList.add("dplayer-highlight"),i.style.left=t.player.options.highlight[n].time/t.player.video.duration*100+"%",i.innerHTML='<span class="dplayer-highlight-text">'+t.player.options.highlight[n].text+"</span>",t.player.template.playedBarWrap.insertBefore(i,t.player.template.playedBarTime)}}}))}},{key:"initThumbnails",value:function(){var t=this;this.player.options.video.thumbnails&&(this.thumbnails=new vt({container:this.player.template.barPreview,barWidth:this.player.template.barWrap.offsetWidth,url:this.player.options.video.thumbnails,events:this.player.events}),this.player.on("loadedmetadata",(function(){t.thumbnails.resize(160,t.player.video.videoHeight/t.player.video.videoWidth*160,t.player.template.barWrap.offsetWidth)})))}},{key:"initPlayedBar",value:function(){var t=this,e=function(e){var n=((e.clientX||e.changedTouches[0].clientX)-a.getBoundingClientRectViewLeft(t.player.template.playedBarWrap))/t.player.template.playedBarWrap.clientWidth;n=Math.max(n,0),n=Math.min(n,1),t.player.bar.set("played",n,"width"),t.player.template.ptime.innerHTML=a.secondToTime(n*t.player.video.duration)},n=function n(i){document.removeEventListener(a.nameMap.dragEnd,n),document.removeEventListener(a.nameMap.dragMove,e);var r=((i.clientX||i.changedTouches[0].clientX)-a.getBoundingClientRectViewLeft(t.player.template.playedBarWrap))/t.player.template.playedBarWrap.clientWidth;r=Math.max(r,0),r=Math.min(r,1),t.player.bar.set("played",r,"width"),t.player.seek(t.player.bar.get("played")*t.player.video.duration),t.player.timer.enable("progress")};this.player.template.playedBarWrap.addEventListener(a.nameMap.dragStart,(function(){t.player.timer.disable("progress"),document.addEventListener(a.nameMap.dragMove,e),document.addEventListener(a.nameMap.dragEnd,n)})),this.player.template.playedBarWrap.addEventListener(a.nameMap.dragMove,(function(e){if(t.player.video.duration){var n=t.player.template.playedBarWrap.getBoundingClientRect().left,i=(e.clientX||e.changedTouches[0].clientX)-n;if(i<0||i>t.player.template.playedBarWrap.offsetWidth)return;var r=t.player.video.duration*(i/t.player.template.playedBarWrap.offsetWidth);a.isMobile&&t.thumbnails&&t.thumbnails.show(),t.thumbnails&&t.thumbnails.move(i),t.player.template.playedBarTime.style.left="".concat(i-(r>=3600?25:20),"px"),t.player.template.playedBarTime.innerText=a.secondToTime(r),t.player.template.playedBarTime.classList.remove("hidden")}})),this.player.template.playedBarWrap.addEventListener(a.nameMap.dragEnd,(function(){a.isMobile&&t.thumbnails&&t.thumbnails.hide()})),a.isMobile||(this.player.template.playedBarWrap.addEventListener("mouseenter",(function(){t.player.video.duration&&(t.thumbnails&&t.thumbnails.show(),t.player.template.playedBarTime.classList.remove("hidden"))})),this.player.template.playedBarWrap.addEventListener("mouseleave",(function(){t.player.video.duration&&(t.thumbnails&&t.thumbnails.hide(),t.player.template.playedBarTime.classList.add("hidden"))})))}},{key:"initFullButton",value:function(){var t=this;this.player.template.browserFullButton.addEventListener("click",(function(){t.player.fullScreen.toggle("browser")})),this.player.template.webFullButton.addEventListener("click",(function(){t.player.fullScreen.toggle("web")}))}},{key:"initVolumeButton",value:function(){var t=this,e=function(e){var n=e||window.event,i=((n.clientX||n.changedTouches[0].clientX)-a.getBoundingClientRectViewLeft(t.player.template.volumeBarWrap)-5.5)/35;t.player.volume(i)},n=function n(){document.removeEventListener(a.nameMap.dragEnd,n),document.removeEventListener(a.nameMap.dragMove,e),t.player.template.volumeButton.classList.remove("dplayer-volume-active")};this.player.template.volumeBarWrapWrap.addEventListener("click",(function(e){var n=e||window.event,i=((n.clientX||n.changedTouches[0].clientX)-a.getBoundingClientRectViewLeft(t.player.template.volumeBarWrap)-5.5)/35;t.player.volume(i)})),this.player.template.volumeBarWrapWrap.addEventListener(a.nameMap.dragStart,(function(){document.addEventListener(a.nameMap.dragMove,e),document.addEventListener(a.nameMap.dragEnd,n),t.player.template.volumeButton.classList.add("dplayer-volume-active")})),this.player.template.volumeButtonIcon.addEventListener("click",(function(){t.player.video.muted?(t.player.video.muted=!1,t.player.switchVolumeIcon(),t.player.bar.set("volume",t.player.volume(),"width")):(t.player.video.muted=!0,t.player.template.volumeIcon.innerHTML=W.volumeOff,t.player.bar.set("volume",0,"width"))}))}},{key:"initQualityButton",value:function(){var t=this;this.player.options.video.quality&&this.player.template.qualityList.addEventListener("click",(function(e){e.target.classList.contains("dplayer-quality-item")&&t.player.switchQuality(e.target.dataset.index)}))}},{key:"initScreenshotButton",value:function(){var t=this;this.player.options.screenshot&&this.player.template.camareButton.addEventListener("click",(function(){var e,n=document.createElement("canvas");n.width=t.player.video.videoWidth,n.height=t.player.video.videoHeight,n.getContext("2d").drawImage(t.player.video,0,0,n.width,n.height),n.toBlob((function(t){e=URL.createObjectURL(t);var n=document.createElement("a");n.href=e,n.download="DPlayer.png",n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(e)})),t.player.events.trigger("screenshot",e)}))}},{key:"initAirplayButton",value:function(){this.player.options.airplay&&(window.WebKitPlaybackTargetAvailabilityEvent?this.player.video.addEventListener("webkitplaybacktargetavailabilitychanged",function(t){switch(t.availability){case"available":this.template.airplayButton.disable=!1;break;default:this.template.airplayButton.disable=!0}this.template.airplayButton.addEventListener("click",function(){this.video.webkitShowPlaybackTargetPicker()}.bind(this))}.bind(this.player)):this.player.template.airplayButton.style.display="none")}},{key:"initSubtitleButton",value:function(){var t=this;this.player.options.subtitle&&(this.player.events.on("subtitle_show",(function(){t.player.template.subtitleButton.dataset.balloon=t.player.tran("Hide subtitle"),t.player.template.subtitleButtonInner.style.opacity="",t.player.user.set("subtitle",1)})),this.player.events.on("subtitle_hide",(function(){t.player.template.subtitleButton.dataset.balloon=t.player.tran("Show subtitle"),t.player.template.subtitleButtonInner.style.opacity="0.4",t.player.user.set("subtitle",0)})),this.player.template.subtitleButton.addEventListener("click",(function(){t.player.subtitle.toggle()})))}},{key:"setAutoHide",value:function(){var t=this;this.show(),clearTimeout(this.autoHideTimer),this.autoHideTimer=setTimeout((function(){!t.player.video.played.length||t.player.paused||t.disableAutoHide||t.hide()}),3e3)}},{key:"show",value:function(){this.player.container.classList.remove("dplayer-hide-controller")}},{key:"hide",value:function(){this.player.container.classList.add("dplayer-hide-controller"),this.player.setting.hide(),this.player.comment&&this.player.comment.hide()}},{key:"isShow",value:function(){return!this.player.container.classList.contains("dplayer-hide-controller")}},{key:"toggle",value:function(){this.isShow()?this.hide():this.show()}},{key:"destroy",value:function(){clearTimeout(this.autoHideTimer)}}])&&gt(e.prototype,n),i&&gt(e,i),t}();function bt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var wt=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.player=e,this.player.template.mask.addEventListener("click",(function(){n.hide()})),this.player.template.settingButton.addEventListener("click",(function(){n.show()})),this.loop=this.player.options.loop,this.player.template.loopToggle.checked=this.loop,this.player.template.loop.addEventListener("click",(function(){n.player.template.loopToggle.checked=!n.player.template.loopToggle.checked,n.player.template.loopToggle.checked?n.loop=!0:n.loop=!1,n.hide()})),this.showDanmaku=this.player.user.get("danmaku"),this.showDanmaku||this.player.danmaku&&this.player.danmaku.hide(),this.player.template.showDanmakuToggle.checked=this.showDanmaku,this.player.template.showDanmaku.addEventListener("click",(function(){n.player.template.showDanmakuToggle.checked=!n.player.template.showDanmakuToggle.checked,n.player.template.showDanmakuToggle.checked?(n.showDanmaku=!0,n.player.danmaku.show()):(n.showDanmaku=!1,n.player.danmaku.hide()),n.player.user.set("danmaku",n.showDanmaku?1:0),n.hide()})),this.unlimitDanmaku=this.player.user.get("unlimited"),this.player.template.unlimitDanmakuToggle.checked=this.unlimitDanmaku,this.player.template.unlimitDanmaku.addEventListener("click",(function(){n.player.template.unlimitDanmakuToggle.checked=!n.player.template.unlimitDanmakuToggle.checked,n.player.template.unlimitDanmakuToggle.checked?(n.unlimitDanmaku=!0,n.player.danmaku.unlimit(!0)):(n.unlimitDanmaku=!1,n.player.danmaku.unlimit(!1)),n.player.user.set("unlimited",n.unlimitDanmaku?1:0),n.hide()})),this.player.template.speed.addEventListener("click",(function(){n.player.template.settingBox.classList.add("dplayer-setting-box-narrow"),n.player.template.settingBox.classList.add("dplayer-setting-box-speed")}));for(var i=function(t){n.player.template.speedItem[t].addEventListener("click",(function(){n.player.speed(n.player.template.speedItem[t].dataset.speed),n.hide()}))},r=0;r<this.player.template.speedItem.length;r++)i(r);if(this.player.danmaku){this.player.on("danmaku_opacity",(function(t){n.player.bar.set("danmaku",t,"width"),n.player.user.set("opacity",t)})),this.player.danmaku.opacity(this.player.user.get("opacity"));var o=function(t){var e=t||window.event,i=((e.clientX||e.changedTouches[0].clientX)-a.getBoundingClientRectViewLeft(n.player.template.danmakuOpacityBarWrap))/130;i=Math.max(i,0),i=Math.min(i,1),n.player.danmaku.opacity(i)},s=function t(){document.removeEventListener(a.nameMap.dragEnd,t),document.removeEventListener(a.nameMap.dragMove,o),n.player.template.danmakuOpacityBox.classList.remove("dplayer-setting-danmaku-active")};this.player.template.danmakuOpacityBarWrapWrap.addEventListener("click",(function(t){var e=t||window.event,i=((e.clientX||e.changedTouches[0].clientX)-a.getBoundingClientRectViewLeft(n.player.template.danmakuOpacityBarWrap))/130;i=Math.max(i,0),i=Math.min(i,1),n.player.danmaku.opacity(i)})),this.player.template.danmakuOpacityBarWrapWrap.addEventListener(a.nameMap.dragStart,(function(){document.addEventListener(a.nameMap.dragMove,o),document.addEventListener(a.nameMap.dragEnd,s),n.player.template.danmakuOpacityBox.classList.add("dplayer-setting-danmaku-active")}))}}var e,n,i;return e=t,(n=[{key:"hide",value:function(){var t=this;this.player.template.settingBox.classList.remove("dplayer-setting-box-open"),this.player.template.mask.classList.remove("dplayer-mask-show"),setTimeout((function(){t.player.template.settingBox.classList.remove("dplayer-setting-box-narrow"),t.player.template.settingBox.classList.remove("dplayer-setting-box-speed")}),300),this.player.controller.disableAutoHide=!1}},{key:"show",value:function(){this.player.template.settingBox.classList.add("dplayer-setting-box-open"),this.player.template.mask.classList.add("dplayer-mask-show"),this.player.controller.disableAutoHide=!0}}])&&bt(e.prototype,n),i&&bt(e,i),t}();function kt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var St=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.player=e,this.player.template.mask.addEventListener("click",(function(){n.hide()})),this.player.template.commentButton.addEventListener("click",(function(){n.show()})),this.player.template.commentSettingButton.addEventListener("click",(function(){n.toggleSetting()})),this.player.template.commentColorSettingBox.addEventListener("click",(function(){if(n.player.template.commentColorSettingBox.querySelector("input:checked+span")){var t=n.player.template.commentColorSettingBox.querySelector("input:checked").value;n.player.template.commentSettingFill.style.fill=t,n.player.template.commentInput.style.color=t,n.player.template.commentSendFill.style.fill=t}})),this.player.template.commentInput.addEventListener("click",(function(){n.hideSetting()})),this.player.template.commentInput.addEventListener("keydown",(function(t){13===(t||window.event).keyCode&&n.send()})),this.player.template.commentSendButton.addEventListener("click",(function(){n.send()}))}var e,n,i;return e=t,(n=[{key:"show",value:function(){this.player.controller.disableAutoHide=!0,this.player.template.controller.classList.add("dplayer-controller-comment"),this.player.template.mask.classList.add("dplayer-mask-show"),this.player.container.classList.add("dplayer-show-controller"),this.player.template.commentInput.focus()}},{key:"hide",value:function(){this.player.template.controller.classList.remove("dplayer-controller-comment"),this.player.template.mask.classList.remove("dplayer-mask-show"),this.player.container.classList.remove("dplayer-show-controller"),this.player.controller.disableAutoHide=!1,this.hideSetting()}},{key:"showSetting",value:function(){this.player.template.commentSettingBox.classList.add("dplayer-comment-setting-open")}},{key:"hideSetting",value:function(){this.player.template.commentSettingBox.classList.remove("dplayer-comment-setting-open")}},{key:"toggleSetting",value:function(){this.player.template.commentSettingBox.classList.contains("dplayer-comment-setting-open")?this.hideSetting():this.showSetting()}},{key:"send",value:function(){var t=this;this.player.template.commentInput.blur(),this.player.template.commentInput.value.replace(/^\s+|\s+$/g,"")?this.player.danmaku.send({text:this.player.template.commentInput.value,color:a.color2Number(this.player.container.querySelector(".dplayer-comment-setting-color input:checked").value),type:parseInt(this.player.container.querySelector(".dplayer-comment-setting-type input:checked").value)},(function(){t.player.template.commentInput.value="",t.hide()})):this.player.notice(this.player.tran("Please input danmaku content!"))}}])&&kt(e.prototype,n),i&&kt(e,i),t}(),xt=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.options.hotkey&&document.addEventListener("keydown",(function(t){if(e.focus){var n=document.activeElement.tagName.toUpperCase(),i=document.activeElement.getAttribute("contenteditable");if("INPUT"!==n&&"TEXTAREA"!==n&&""!==i&&"true"!==i){var r,a=t||window.event;switch(a.keyCode){case 32:a.preventDefault(),e.toggle();break;case 37:if(a.preventDefault(),e.options.live)break;e.seek(e.video.currentTime-5),e.controller.setAutoHide();break;case 39:if(a.preventDefault(),e.options.live)break;e.seek(e.video.currentTime+5),e.controller.setAutoHide();break;case 38:a.preventDefault(),r=e.volume()+.1,e.volume(r);break;case 40:a.preventDefault(),r=e.volume()-.1,e.volume(r)}}}})),document.addEventListener("keydown",(function(t){switch((t||window.event).keyCode){case 27:e.fullScreen.isFullScreen("web")&&e.fullScreen.cancel("web")}}))};function Tt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var Et=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.player=e,this.shown=!1,Array.prototype.slice.call(this.player.template.menuItem).forEach((function(t,e){n.player.options.contextmenu[e].click&&t.addEventListener("click",(function(){n.player.options.contextmenu[e].click(n.player),n.hide()}))})),this.player.container.addEventListener("contextmenu",(function(t){if(n.shown)n.hide();else{var e=t||window.event;e.preventDefault();var i=n.player.container.getBoundingClientRect();n.show(e.clientX-i.left,e.clientY-i.top),n.player.template.mask.addEventListener("click",(function(){n.hide()}))}}))}var e,n,i;return e=t,(n=[{key:"show",value:function(t,e){this.player.template.menu.classList.add("dplayer-menu-show");var n=this.player.container.getBoundingClientRect();t+this.player.template.menu.offsetWidth>=n.width?(this.player.template.menu.style.right=n.width-t+"px",this.player.template.menu.style.left="initial"):(this.player.template.menu.style.left=t+"px",this.player.template.menu.style.right="initial"),e+this.player.template.menu.offsetHeight>=n.height?(this.player.template.menu.style.bottom=n.height-e+"px",this.player.template.menu.style.top="initial"):(this.player.template.menu.style.top=e+"px",this.player.template.menu.style.bottom="initial"),this.player.template.mask.classList.add("dplayer-mask-show"),this.shown=!0,this.player.events.trigger("contextmenu_show")}},{key:"hide",value:function(){this.player.template.mask.classList.remove("dplayer-mask-show"),this.player.template.menu.classList.remove("dplayer-menu-show"),this.shown=!1,this.player.events.trigger("contextmenu_hide")}}])&&Tt(e.prototype,n),i&&Tt(e,i),t}();function _t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var At=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e.template.infoPanel,this.template=e.template,this.video=e.video,this.player=e,this.template.infoPanelClose.addEventListener("click",(function(){n.hide()}))}var e,n,i;return e=t,(n=[{key:"show",value:function(){this.beginTime=Date.now(),this.update(),this.player.timer.enable("info"),this.player.timer.enable("fps"),this.container.classList.remove("dplayer-info-panel-hide")}},{key:"hide",value:function(){this.player.timer.disable("info"),this.player.timer.disable("fps"),this.container.classList.add("dplayer-info-panel-hide")}},{key:"triggle",value:function(){this.container.classList.contains("dplayer-info-panel-hide")?this.show():this.hide()}},{key:"update",value:function(){this.template.infoVersion.innerHTML="v".concat("1.26.0"," ").concat("63275c8"),this.template.infoType.innerHTML=this.player.type,this.template.infoUrl.innerHTML=this.player.options.video.url,this.template.infoResolution.innerHTML="".concat(this.player.video.videoWidth," x ").concat(this.player.video.videoHeight),this.template.infoDuration.innerHTML=this.player.video.duration,this.player.options.danmaku&&(this.template.infoDanmakuId.innerHTML=this.player.options.danmaku.id,this.template.infoDanmakuApi.innerHTML=this.player.options.danmaku.api,this.template.infoDanmakuAmount.innerHTML=this.player.danmaku.dan.length)}},{key:"fps",value:function(t){this.template.infoFPS.innerHTML="".concat(t.toFixed(1))}}])&&_t(e.prototype,n),i&&_t(e,i),t}(),Ct=n(1),Ot=n.n(Ct);function Lt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function Rt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var It=0,Pt=[],Mt=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=u(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Lt(Object(n),!0).forEach((function(e){Rt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({preload:"webtorrent"===e.video.type?"none":"metadata"},e)),this.options.video.quality&&(this.qualityIndex=this.options.video.defaultQuality,this.quality=this.options.video.quality[this.options.video.defaultQuality]),this.tran=new h(this.options.lang).tran,this.events=new nt,this.user=new ot(this),this.container=this.options.container,this.container.classList.add("dplayer"),this.options.danmaku||this.container.classList.add("dplayer-no-danmaku"),this.options.live&&this.container.classList.add("dplayer-live"),a.isMobile&&this.container.classList.add("dplayer-mobile"),this.arrow=this.container.offsetWidth<=500,this.arrow&&this.container.classList.add("dplayer-arrow"),this.template=new Q({container:this.container,options:this.options,index:It,tran:this.tran}),this.video=this.template.video,this.bar=new ut(this.template),this.bezel=new pt(this.template.bezel),this.fullScreen=new rt(this),this.controller=new yt(this),this.options.danmaku&&(this.danmaku=new tt({container:this.template.danmaku,opacity:this.user.get("opacity"),callback:function(){setTimeout((function(){n.template.danmakuLoading.style.display="none",n.options.autoplay&&n.play()}),0)},error:function(t){n.notice(t)},apiBackend:this.options.apiBackend,borderColor:this.options.theme,height:this.arrow?24:30,time:function(){return n.video.currentTime},unlimited:this.user.get("unlimited"),api:{id:this.options.danmaku.id,address:this.options.danmaku.api,token:this.options.danmaku.token,maximum:this.options.danmaku.maximum,addition:this.options.danmaku.addition,user:this.options.danmaku.user},events:this.events,tran:function(t){return n.tran(t)}}),this.comment=new St(this)),this.setting=new wt(this),this.plugins={},document.addEventListener("click",(function(){n.focus=!1}),!0),this.container.addEventListener("click",(function(){n.focus=!0}),!0),this.paused=!0,this.timer=new ht(this),this.hotkey=new xt(this),this.contextmenu=new Et(this),this.initVideo(this.video,this.quality&&this.quality.type||this.options.video.type),this.infoPanel=new At(this),!this.danmaku&&this.options.autoplay&&this.play(),It++,Pt.push(this)}var e,n,r;return e=t,r=[{key:"version",get:function(){return"1.26.0"}}],(n=[{key:"seek",value:function(t){t=Math.max(t,0),this.video.duration&&(t=Math.min(t,this.video.duration)),this.video.currentTime<t?this.notice("".concat(this.tran("FF")," ").concat((t-this.video.currentTime).toFixed(0)," ").concat(this.tran("s"))):this.video.currentTime>t&&this.notice("".concat(this.tran("REW")," ").concat((this.video.currentTime-t).toFixed(0)," ").concat(this.tran("s"))),this.video.currentTime=t,this.danmaku&&this.danmaku.seek(),this.bar.set("played",t/this.video.duration,"width"),this.template.ptime.innerHTML=a.secondToTime(t)}},{key:"play",value:function(t){var e=this;if(this.paused=!1,this.video.paused&&!a.isMobile&&this.bezel.switch(W.play),this.template.playButton.innerHTML=W.pause,this.template.mobilePlayButton.innerHTML=W.pause,t||i.a.resolve(this.video.play()).catch((function(){e.pause()})).then((function(){})),this.timer.enable("loading"),this.container.classList.remove("dplayer-paused"),this.container.classList.add("dplayer-playing"),this.danmaku&&this.danmaku.play(),this.options.mutex)for(var n=0;n<Pt.length;n++)this!==Pt[n]&&Pt[n].pause()}},{key:"pause",value:function(t){this.paused=!0,this.container.classList.remove("dplayer-loading"),this.video.paused||a.isMobile||this.bezel.switch(W.pause),this.template.playButton.innerHTML=W.play,this.template.mobilePlayButton.innerHTML=W.play,t||this.video.pause(),this.timer.disable("loading"),this.container.classList.remove("dplayer-playing"),this.container.classList.add("dplayer-paused"),this.danmaku&&this.danmaku.pause()}},{key:"switchVolumeIcon",value:function(){this.volume()>=.95?this.template.volumeIcon.innerHTML=W.volumeUp:this.volume()>0?this.template.volumeIcon.innerHTML=W.volumeDown:this.template.volumeIcon.innerHTML=W.volumeOff}},{key:"volume",value:function(t,e,n){if(t=parseFloat(t),!isNaN(t)){t=Math.max(t,0),t=Math.min(t,1),this.bar.set("volume",t,"width");var i="".concat((100*t).toFixed(0),"%");this.template.volumeBarWrapWrap.dataset.balloon=i,e||this.user.set("volume",t),n||this.notice("".concat(this.tran("Volume")," ").concat((100*t).toFixed(0),"%")),this.video.volume=t,this.video.muted&&(this.video.muted=!1),this.switchVolumeIcon()}return this.video.volume}},{key:"toggle",value:function(){this.video.paused?this.play():this.pause()}},{key:"on",value:function(t,e){this.events.on(t,e)}},{key:"switchVideo",value:function(t,e){this.pause(),this.video.poster=t.pic?t.pic:"",this.video.src=t.url,this.initMSE(this.video,t.type||"auto"),e&&(this.template.danmakuLoading.style.display="block",this.bar.set("played",0,"width"),this.bar.set("loaded",0,"width"),this.template.ptime.innerHTML="00:00",this.template.danmaku.innerHTML="",this.danmaku&&this.danmaku.reload({id:e.id,address:e.api,token:e.token,maximum:e.maximum,addition:e.addition,user:e.user}))}},{key:"initMSE",value:function(t,e){var n=this;if(this.type=e,this.options.video.customType&&this.options.video.customType[e])"[object Function]"===Object.prototype.toString.call(this.options.video.customType[e])?this.options.video.customType[e](this.video,this):console.error("Illegal customType: ".concat(e));else switch("auto"===this.type&&(/m3u8(#|\?|$)/i.exec(t.src)?this.type="hls":/.flv(#|\?|$)/i.exec(t.src)?this.type="flv":/.mpd(#|\?|$)/i.exec(t.src)?this.type="dash":this.type="normal"),"hls"===this.type&&(t.canPlayType("application/x-mpegURL")||t.canPlayType("application/vnd.apple.mpegURL"))&&(this.type="normal"),this.type){case"hls":if(window.Hls)if(window.Hls.isSupported()){var i=this.options.pluginOptions.hls,r=new window.Hls(i);this.plugins.hls=r,r.loadSource(t.src),r.attachMedia(t),this.events.on("destroy",(function(){r.destroy(),delete n.plugins.hls}))}else this.notice("Error: Hls is not supported.");else this.notice("Error: Can't find Hls.");break;case"flv":if(window.flvjs)if(window.flvjs.isSupported()){var a=window.flvjs.createPlayer(Object.assign(this.options.pluginOptions.flv.mediaDataSource||{},{type:"flv",url:t.src}),this.options.pluginOptions.flv.config);this.plugins.flvjs=a,a.attachMediaElement(t),a.load(),this.events.on("destroy",(function(){a.unload(),a.detachMediaElement(),a.destroy(),delete n.plugins.flvjs}))}else this.notice("Error: flvjs is not supported.");else this.notice("Error: Can't find flvjs.");break;case"dash":if(window.dashjs){var o=window.dashjs.MediaPlayer().create().initialize(t,t.src,!1),s=this.options.pluginOptions.dash;o.updateSettings(s),this.plugins.dash=o,this.events.on("destroy",(function(){window.dashjs.MediaPlayer().reset(),delete n.plugins.dash}))}else this.notice("Error: Can't find dashjs.");break;case"webtorrent":if(window.WebTorrent)if(window.WebTorrent.WEBRTC_SUPPORT){this.container.classList.add("dplayer-loading");var l=this.options.pluginOptions.webtorrent,c=new window.WebTorrent(l);this.plugins.webtorrent=c;var u=t.src;t.src="",t.preload="metadata",t.addEventListener("durationchange",(function(){return n.container.classList.remove("dplayer-loading")}),{once:!0}),c.add(u,(function(t){t.files.find((function(t){return t.name.endsWith(".mp4")})).renderTo(n.video,{autoplay:n.options.autoplay,controls:!1})})),this.events.on("destroy",(function(){c.remove(u),c.destroy(),delete n.plugins.webtorrent}))}else this.notice("Error: Webtorrent is not supported.");else this.notice("Error: Can't find Webtorrent.")}}},{key:"initVideo",value:function(t,e){var n=this;this.initMSE(t,e),this.on("durationchange",(function(){1!==t.duration&&t.duration!==1/0&&(n.template.dtime.innerHTML=a.secondToTime(t.duration))})),this.on("progress",(function(){var e=t.buffered.length?t.buffered.end(t.buffered.length-1)/t.duration:0;n.bar.set("loaded",e,"width")})),this.on("error",(function(){n.video.error&&n.tran&&n.notice&&"webtorrent"!==n.type&&n.notice(n.tran("Video load failed"),-1)})),this.on("ended",(function(){n.bar.set("played",1,"width"),n.setting.loop?(n.seek(0),n.play()):n.pause(),n.danmaku&&(n.danmaku.danIndex=0)})),this.on("play",(function(){n.paused&&n.play(!0)})),this.on("pause",(function(){n.paused||n.pause(!0)})),this.on("timeupdate",(function(){n.bar.set("played",n.video.currentTime/n.video.duration,"width");var t=a.secondToTime(n.video.currentTime);n.template.ptime.innerHTML!==t&&(n.template.ptime.innerHTML=t)}));for(var i=function(e){t.addEventListener(n.events.videoEvents[e],(function(){n.events.trigger(n.events.videoEvents[e])}))},r=0;r<this.events.videoEvents.length;r++)i(r);this.volume(this.user.get("volume"),!0,!0),this.options.subtitle&&(this.subtitle=new lt(this.template.subtitle,this.video,this.options.subtitle,this.events),this.user.get("subtitle")||this.subtitle.hide())}},{key:"switchQuality",value:function(t){var e=this;if(t="string"==typeof t?parseInt(t):t,this.qualityIndex!==t&&!this.switchingQuality){this.qualityIndex=t,this.switchingQuality=!0,this.quality=this.options.video.quality[t],this.template.qualityButton.innerHTML=this.quality.name;var n=this.video.paused;this.video.pause();var i=Ot()({current:!1,pic:null,screenshot:this.options.screenshot,preload:"auto",url:this.quality.url,subtitle:this.options.subtitle}),r=(new DOMParser).parseFromString(i,"text/html").body.firstChild;this.template.videoWrap.insertBefore(r,this.template.videoWrap.getElementsByTagName("div")[0]),this.prevVideo=this.video,this.video=r,this.initVideo(this.video,this.quality.type||this.options.video.type),this.seek(this.prevVideo.currentTime),this.notice("".concat(this.tran("Switching to")," ").concat(this.quality.name," ").concat(this.tran("quality")),-1),this.events.trigger("quality_start",this.quality),this.on("canplay",(function(){if(e.prevVideo){if(e.video.currentTime!==e.prevVideo.currentTime)return void e.seek(e.prevVideo.currentTime);e.template.videoWrap.removeChild(e.prevVideo),e.video.classList.add("dplayer-video-current"),n||e.video.play(),e.prevVideo=null,e.notice("".concat(e.tran("Switched to")," ").concat(e.quality.name," ").concat(e.tran("quality"))),e.switchingQuality=!1,e.events.trigger("quality_end")}}))}}},{key:"notice",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.8;this.template.notice.innerHTML=t,this.template.notice.style.opacity=i,this.noticeTime&&clearTimeout(this.noticeTime),this.events.trigger("notice_show",t),n>0&&(this.noticeTime=setTimeout((function(){e.template.notice.style.opacity=0,e.events.trigger("notice_hide")}),n))}},{key:"resize",value:function(){this.danmaku&&this.danmaku.resize(),this.controller.thumbnails&&this.controller.thumbnails.resize(160,this.video.videoHeight/this.video.videoWidth*160,this.template.barWrap.offsetWidth),this.events.trigger("resize")}},{key:"speed",value:function(t){this.video.playbackRate=t}},{key:"destroy",value:function(){Pt.splice(Pt.indexOf(this),1),this.pause(),this.controller.destroy(),this.timer.destroy(),this.video.src="",this.container.innerHTML="",this.events.trigger("destroy")}}])&&Dt(e.prototype,n),r&&Dt(e,r),t}();console.log("\n".concat(" %c DPlayer v","1.26.0"," ").concat("63275c8"," %c http://dplayer.js.org ","\n","\n"),"color: #fadfa3; background: #030307; padding:5px 0;","background: #fadfa3; padding:5px 0;"),e.default=Mt}]).default}))},fb6a:function(t,e,n){"use strict";var i=n("23e7"),r=n("861d"),a=n("e8b5"),o=n("23cb"),s=n("50c4"),l=n("fc6a"),c=n("8418"),u=n("b622"),d=n("1dde"),h=n("ae40"),f=d("slice"),p=h("slice",{ACCESSORS:!0,0:0,1:2}),m=u("species"),v=[].slice,g=Math.max;i({target:"Array",proto:!0,forced:!f||!p},{slice:function(t,e){var n,i,u,d=l(this),h=s(d.length),f=o(t,h),p=o(void 0===e?h:e,h);if(a(d)&&(n=d.constructor,"function"!=typeof n||n!==Array&&!a(n.prototype)?r(n)&&(n=n[m],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return v.call(d,f,p);for(i=new(void 0===n?Array:n)(g(p-f,0)),u=0;f<p;f++,u++)f in d&&c(i,u,d[f]);return i.length=u,i}})},fc6a:function(t,e,n){var i=n("44ad"),r=n("1d80");t.exports=function(t){return i(r(t))}},fdbf:function(t,e,n){var i=n("4930");t.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},fea9:function(t,e,n){var i=n("da84");t.exports=i.Promise}}]);
//# sourceMappingURL=chunk-vendors.5acb5e0a.js.map